(self.webpackChunkaudica_overlay=self.webpackChunkaudica_overlay||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},171:(t,e,s)=>{"use strict";var n={};s.r(n),s.d(n,{DEG_TO_RAD:()=>lv,LRUCache:()=>Lw,MAX_NUM:()=>hv,MIN_NUM:()=>cv,TextMetrics:()=>Hw,append:()=>Pv,arabicToRoman:()=>qw,bindEvents:()=>Kv,createPromise:()=>tb,defined:()=>tv,definitionId:()=>Cv,deg:()=>u_,elementOffset:()=>qv,elementPadding:()=>$v,elementScale:()=>Zv,elementSize:()=>Hv,elementStyles:()=>Vv,encodeBase64:()=>J_,eventCoordinates:()=>Gv,eventElement:()=>Uv,hashKey:()=>Bw,isTransparent:()=>Tv,last:()=>D_,limitValue:()=>$_,measureText:()=>Uw,mergeSort:()=>Gw,normalizeText:()=>Fw,now:()=>lb,objectKey:()=>Nw,promiseAll:()=>eb,rad:()=>uv,round:()=>av,unbindEvents:()=>Jv,valueOrDefault:()=>Av});var i={};s.r(i),s.d(i,{easeOutElastic:()=>Qk,linear:()=>Wk,swing:()=>Gk});var r={};s.r(r),s.d(r,{ArcNode:()=>MP,CircleNode:()=>PP,ClipNode:()=>mw,DefinitionNode:()=>yw,GradientStopNode:()=>dw,GroupNode:()=>IP,ImageNode:()=>BP,LinearGradientNode:()=>fw,MultiPathNode:()=>zP,Node:()=>uw,PathNode:()=>EP,RadialGradientNode:()=>gw,RectNode:()=>VP,RootNode:()=>xw,Surface:()=>$P,TextNode:()=>UP,exportGroup:()=>vw});var o={};s.r(o),s.d(o,{ArcNode:()=>n_,CircleNode:()=>i_,GroupNode:()=>ab,ImageNode:()=>r_,MultiPathNode:()=>o_,Node:()=>rb,PathNode:()=>s_,RectNode:()=>W_,RootNode:()=>pb,Surface:()=>Z_,TextNode:()=>Q_});var a={};function l(t){return"function"==typeof t}s.r(a),s.d(a,{Animation:()=>Kk,AnimationFactory:()=>Yk,Arc:()=>iO,BaseNode:()=>sb,Circle:()=>tS,Element:()=>Ev,Gradient:()=>Wb,GradientStop:()=>Gb,Group:()=>Lv,HasObservers:()=>Jx,Image:()=>Kw,Layout:()=>dI,LinearGradient:()=>Xb,MultiPath:()=>G_,OptionsStore:()=>nv,Path:()=>q_,PathParser:()=>bO,QuadNode:()=>mb,RadialGradient:()=>Kb,Rect:()=>oO,ShapesQuadTree:()=>vb,Surface:()=>XP,SurfaceFactory:()=>ZP,Text:()=>Qw,align:()=>lO,canvas:()=>o,exportImage:()=>X_,exportSVG:()=>bw,fit:()=>yO,parsePath:()=>U_,stack:()=>dO,svg:()=>r,util:()=>n,vAlign:()=>hO,vStack:()=>pO,vWrap:()=>mO,wrap:()=>gO});let h=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=t},get useDeprecatedSynchronousErrorHandling(){return h}};function u(t){setTimeout(()=>{throw t},0)}const d={closed:!0,next(t){},error(t){if(c.useDeprecatedSynchronousErrorHandling)throw t;u(t)},complete(){}},p=Array.isArray||(t=>t&&"number"==typeof t.length);function f(t){return null!==t&&"object"==typeof t}const g=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class m{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:s,_unsubscribe:n,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof m)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(l(n)){s&&(this._unsubscribe=void 0);try{n.call(this)}catch(r){t=r instanceof g?y(r.errors):[r]}}if(p(i)){let e=-1,s=i.length;for(;++e<s;){const s=i[e];if(f(s))try{s.unsubscribe()}catch(r){t=t||[],r instanceof g?t=t.concat(y(r.errors)):t.push(r)}}}if(t)throw new g(t)}add(t){let e=t;if(!t)return m.EMPTY;switch(typeof t){case"function":e=new m(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof m)){const t=e;e=new m,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=e;if(null===s)e._parentOrParents=this;else if(s instanceof m){if(s===this)return e;e._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return e;s.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[e]:n.push(e),e}remove(t){const e=this._subscriptions;if(e){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}}}function y(t){return t.reduce((t,e)=>t.concat(e instanceof g?e.errors:e),[])}m.EMPTY=function(t){return t.closed=!0,t}(new m);const x="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class v extends m{constructor(t,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=d;break;case 1:if(!t){this.destination=d;break}if("object"==typeof t){t instanceof v?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,t,e,s)}}[x](){return this}static create(t,e,s){const n=new v(t,e,s);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class b extends v{constructor(t,e,s,n){let i;super(),this._parentSubscriber=t;let r=this;l(e)?i=e:e&&(i=e.next,s=e.error,n=e.complete,e!==d&&(r=Object.create(e),l(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=i,this._error=s,this._complete=n}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=c;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=t,e.syncErrorThrown=!0):u(t),this.unsubscribe();else{if(this.unsubscribe(),s)throw t;u(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(s){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw s;u(s)}}__tryOrSetError(t,e,s){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(n){return c.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(u(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const _="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(t){return t}let S=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const s=new t;return s.source=this,s.operator=e,s}subscribe(t,e,s){const{operator:n}=this,i=function(t,e,s){if(t){if(t instanceof v)return t;if(t[x])return t[x]()}return t||e||s?new v(t,e,s):new v(d)}(t,e,s);if(i.add(n?n.call(i,this.source):this.source||c.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),c.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:s,isStopped:n}=t;if(e||n)return!1;t=s&&s instanceof v?s:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=k(e))((e,s)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(i){s(i),n&&n.unsubscribe()}},s,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[_](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?w:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=k(t))((t,e)=>{let s;this.subscribe(t=>s=t,t=>e(t),()=>t(s))})}}return t.create=e=>new t(e),t})();function k(t){if(t||(t=c.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class A extends m{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class T extends v{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends S{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[x](){return new T(this)}lift(t){const e=new M(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,s=e.length,n=e.slice();for(let i=0;i<s;i++)n[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,s=e.length,n=e.slice();for(let i=0;i<s;i++)n[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,s=t.slice();for(let n=0;n<e;n++)s[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),m.EMPTY):this.isStopped?(t.complete(),m.EMPTY):(this.observers.push(t),new A(this,t))}asObservable(){const t=new S;return t.source=this,t}}return t.create=(t,e)=>new M(t,e),t})();class M extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):m.EMPTY}}function P(t){return t&&"function"==typeof t.schedule}function I(t,e){return function(s){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new R(t,e))}}class R{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new O(t,this.project,this.thisArg))}}class O extends v{constructor(t,e,s){super(t),this.project=e,this.count=0,this.thisArg=s||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}const L=t=>e=>{for(let s=0,n=t.length;s<n&&!e.closed;s++)e.next(t[s]);e.complete()},D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const B=t=>{if(t&&"function"==typeof t[_])return s=t,t=>{const e=s[_]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(F(t))return L(t);if(N(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,u),e))(t);if(t&&"function"==typeof t[D])return e=t,t=>{const s=e[D]();for(;;){let e;try{e=s.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof s.return&&t.add(()=>{s.return&&s.return()}),t};{const e=f(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,s};function z(t,e){return new S(s=>{const n=new m;let i=0;return n.add(e.schedule(function(){i!==t.length?(s.next(t[i++]),s.closed||n.add(this.schedule())):s.complete()})),n})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[_]}(t))return function(t,e){return new S(s=>{const n=new m;return n.add(e.schedule(()=>{const i=t[_]();n.add(i.subscribe({next(t){n.add(e.schedule(()=>s.next(t)))},error(t){n.add(e.schedule(()=>s.error(t)))},complete(){n.add(e.schedule(()=>s.complete()))}}))})),n})}(t,e);if(N(t))return function(t,e){return new S(s=>{const n=new m;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{s.next(t),n.add(e.schedule(()=>s.complete()))}))},t=>{n.add(e.schedule(()=>s.error(t)))}))),n})}(t,e);if(F(t))return z(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(s=>{const n=new m;let i;return n.add(()=>{i&&"function"==typeof i.return&&i.return()}),n.add(e.schedule(()=>{i=t[D](),n.add(e.schedule(function(){if(s.closed)return;let t,e;try{const s=i.next();t=s.value,e=s.done}catch(n){return void s.error(n)}e?s.complete():(s.next(t),this.schedule())}))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof S?t:new S(B(t))}class j extends v{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class H extends v{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function U(t,e){if(e.closed)return;if(t instanceof S)return t.subscribe(e);let s;try{s=B(t)(e)}catch(n){e.error(n)}return s}function $(t,e,s=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe($((s,n)=>V(t(s,n)).pipe(I((t,i)=>e(s,t,n,i))),s)):("number"==typeof e&&(s=e),e=>e.lift(new q(t,s)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new G(t,this.project,this.concurrent))}}class G extends H{constructor(t,e,s=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)}_innerSub(t){const e=new j(this),s=this.destination;s.add(e);const n=U(t,e);n!==e&&s.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t,e){return e?z(t,e):new S(L(t))}function Q(...t){let e=Number.POSITIVE_INFINITY,s=null,n=t[t.length-1];return P(n)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===s&&1===t.length&&t[0]instanceof S?t[0]:function(t=Number.POSITIVE_INFINITY){return $(w,t)}(e)(W(t,s))}function Z(){return function(t){return t.lift(new X(t))}}class X{constructor(t){this.connectable=t}call(t,e){const{connectable:s}=this;s._refCount++;const n=new Y(t,s),i=e.subscribe(n);return n.closed||(n.connection=s.connect()),i}}class Y extends v{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:s}=this,n=t._connection;this.connection=null,!n||s&&n!==s||n.unsubscribe()}}class K extends S{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new m,t.add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=m.EMPTY)),t}refCount(){return Z()(this)}}const J=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends T{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(){return new E}function st(){return t=>{return Z()((e=et,function(t){let s;s="function"==typeof e?e:function(){return e};const n=Object.create(t,J);return n.source=t,n.subjectFactory=s,n})(t));var e}}function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function it(t,e){for(const s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=e[s])}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const s=e.indexOf("\n");return-1===s?e:e.substring(0,s)}function ot(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const at=nt({__forward_ref__:nt});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return rt(this())},t}function ht(t){return ct(t)?t():t}function ct(t){return"function"==typeof t&&t.hasOwnProperty(at)&&t.__forward_ref__===lt}class ut extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function dt(t){return"string"==typeof t?t:null==t?"":String(t)}function pt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():dt(t)}function ft(t,e){const s=e?` in ${e}`:"";throw new ut("201",`No provider for ${pt(t)} found${s}`)}function gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function yt(t){return xt(t,bt)||xt(t,wt)}function xt(t,e){return t.hasOwnProperty(e)?t[e]:null}function vt(t){return t&&(t.hasOwnProperty(_t)||t.hasOwnProperty(St))?t[_t]:null}const bt=nt({"\u0275prov":nt}),_t=nt({"\u0275inj":nt}),wt=nt({ngInjectableDef:nt}),St=nt({ngInjectorDef:nt});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Ct;function At(t){const e=Ct;return Ct=t,e}function Tt(t,e,s){const n=yt(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:s&kt.Optional?null:void 0!==e?e:void ft(rt(t),"Injector")}function Et(t){return{toString:t}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),Pt=(()=>((Pt=Pt||{})[Pt.Emulated=0]="Emulated",Pt[Pt.None=2]="None",Pt[Pt.ShadowDom=3]="ShadowDom",Pt))();const It="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt="undefined"!=typeof global&&global,Dt=It||Lt||Rt||Ot,Ft={},Nt=[],Bt=nt({"\u0275cmp":nt}),zt=nt({"\u0275dir":nt}),Vt=nt({"\u0275pipe":nt}),jt=nt({"\u0275mod":nt}),Ht=nt({"\u0275loc":nt}),Ut=nt({"\u0275fac":nt}),$t=nt({__NG_ELEMENT_ID__:nt});let qt=0;function Gt(t){return Et(()=>{const e={},s={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Pt.Emulated,id:"c",styles:t.styles||Nt,_:null,setInput:null,schemas:t.schemas||null,tView:null},n=t.directives,i=t.features,r=t.pipes;return s.id+=qt++,s.inputs=Yt(t.inputs,e),s.outputs=Yt(t.outputs),i&&i.forEach(t=>t(s)),s.directiveDefs=n?()=>("function"==typeof n?n():n).map(Wt):null,s.pipeDefs=r?()=>("function"==typeof r?r():r).map(Qt):null,s})}function Wt(t){return te(t)||function(t){return t[zt]||null}(t)}function Qt(t){return function(t){return t[Vt]||null}(t)}const Zt={};function Xt(t){return Et(()=>{const e={type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Zt[t.id]=t.type),e})}function Yt(t,e){if(null==t)return Ft;const s={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],r=i;Array.isArray(i)&&(r=i[1],i=i[0]),s[i]=n,e&&(e[i]=r)}return s}const Kt=Gt;function Jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function te(t){return t[Bt]||null}function ee(t,e){const s=t[jt]||null;if(!s&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return s}const se=20,ne=10;function ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function re(t){return Array.isArray(t)&&!0===t[1]}function oe(t){return 0!=(8&t.flags)}function ae(t){return 2==(2&t.flags)}function le(t){return 1==(1&t.flags)}function he(t){return null!==t.template}function ce(t){return 0!=(512&t[2])}function ue(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}class de{constructor(t,e,s){this.previousValue=t,this.currentValue=e,this.firstChange=s}isFirstChange(){return this.firstChange}}function pe(){return fe}function fe(t){return t.type.prototype.ngOnChanges&&(t.setInput=me),ge}function ge(){const t=ye(this),e=null==t?void 0:t.current;if(e){const s=t.previous;if(s===Ft)t.previous=e;else for(let t in e)s[t]=e[t];t.current=null,this.ngOnChanges(e)}}function me(t,e,s,n){const i=ye(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ft,current:null}),r=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[s],l=o[a];r[a]=new de(l&&l.currentValue,e,o===Ft),t[n]=e}function ye(t){return t.__ngSimpleChanges__||null}pe.ngInherit=!0;const xe="http://www.w3.org/2000/svg";let ve;function be(t){return!!t.listen}const _e={createRenderer:(t,e)=>void 0!==ve?ve:"undefined"!=typeof document?document:void 0};function we(t){for(;Array.isArray(t);)t=t[0];return t}function Se(t,e){return we(e[t])}function ke(t,e){return we(e[t.index])}function Ce(t,e){return t.data[e]}function Ae(t,e){const s=e[t];return ie(s)?s:s[0]}function Te(t){return 4==(4&t[2])}function Ee(t){return 128==(128&t[2])}function Me(t,e){return null==e?null:t[e]}function Pe(t){t[18]=0}function Ie(t,e){t[5]+=e;let s=t,n=t[3];for(;null!==n&&(1===e&&1===s[5]||-1===e&&0===s[5]);)n[5]+=e,s=n,n=n[3]}const Re={lFrame:ts(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oe(){return Re.bindingsEnabled}function Le(){return Re.lFrame.lView}function De(){return Re.lFrame.tView}function Fe(){let t=Ne();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ne(){return Re.lFrame.currentTNode}function Be(t,e){const s=Re.lFrame;s.currentTNode=t,s.isParent=e}function ze(){return Re.lFrame.isParent}function Ve(){Re.lFrame.isParent=!1}function je(){return Re.isInCheckNoChangesMode}function He(t){Re.isInCheckNoChangesMode=t}function Ue(){return Re.lFrame.bindingIndex}function $e(){return Re.lFrame.bindingIndex++}function qe(t){const e=Re.lFrame,s=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,s}function Ge(t,e){const s=Re.lFrame;s.bindingIndex=s.bindingRootIndex=t,We(e)}function We(t){Re.lFrame.currentDirectiveIndex=t}function Qe(){return Re.lFrame.currentQueryIndex}function Ze(t){Re.lFrame.currentQueryIndex=t}function Xe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ye(t,e,s){if(s&kt.SkipSelf){let n=e,i=t;for(;n=n.parent,!(null!==n||s&kt.Host||(n=Xe(i),null===n)||(i=i[15],10&n.type)););if(null===n)return!1;e=n,t=i}const n=Re.lFrame=Je();return n.currentTNode=e,n.lView=t,!0}function Ke(t){const e=Je(),s=t[1];Re.lFrame=e,e.currentTNode=s.firstChild,e.lView=t,e.tView=s,e.contextLView=t,e.bindingIndex=s.bindingStartIndex,e.inI18n=!1}function Je(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?ts(t):e}function ts(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function es(){const t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ss=es;function ns(){const t=es();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function is(){return Re.lFrame.selectedIndex}function rs(t){Re.lFrame.selectedIndex=t}function os(){const t=Re.lFrame;return Ce(t.tView,t.selectedIndex)}function as(){Re.lFrame.currentNamespace=xe}function ls(t,e){for(let s=e.directiveStart,n=e.directiveEnd;s<n;s++){const e=t.data[s].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:i,ngAfterViewInit:r,ngAfterViewChecked:o,ngOnDestroy:a}=e;n&&(t.contentHooks||(t.contentHooks=[])).push(-s,n),i&&((t.contentHooks||(t.contentHooks=[])).push(s,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,i)),r&&(t.viewHooks||(t.viewHooks=[])).push(-s,r),o&&((t.viewHooks||(t.viewHooks=[])).push(s,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(s,a)}}function hs(t,e,s){ds(t,e,3,s)}function cs(t,e,s,n){(3&t[2])===s&&ds(t,e,s,n)}function us(t,e){let s=t[2];(3&s)===e&&(s&=2047,s+=1,t[2]=s)}function ds(t,e,s,n){const i=null!=n?n:-1,r=e.length-1;let o=0;for(let a=void 0!==n?65535&t[18]:0;a<r;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=n&&o>=n)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ps(t,s,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ps(t,e,s,n){const i=s[n]<0,r=s[n+1],o=t[i?-s[n]:s[n]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}const fs=-1;class gs{constructor(t,e,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=s}}function ms(t,e,s){const n=be(t);let i=0;for(;i<s.length;){const r=s[i];if("number"==typeof r){if(0!==r)break;i++;const o=s[i++],a=s[i++],l=s[i++];n?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=r,a=s[++i];xs(o)?n&&t.setProperty(e,o,a):n?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ys(t){return 3===t||4===t||6===t}function xs(t){return 64===t.charCodeAt(0)}function vs(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let s=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?s=i:0===s||bs(t,s,i,null,-1===s||2===s?e[++n]:null)}}return t}function bs(t,e,s,n,i){let r=0,o=t.length;if(-1===e)o=-1;else for(;r<t.length;){const s=t[r++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=r-1;break}}}for(;r<t.length;){const e=t[r];if("number"==typeof e)break;if(e===s){if(null===n)return void(null!==i&&(t[r+1]=i));if(n===t[r+1])return void(t[r+2]=i)}r++,null!==n&&r++,null!==i&&r++}-1!==o&&(t.splice(o,0,e),r=o+1),t.splice(r++,0,s),null!==n&&t.splice(r++,0,n),null!==i&&t.splice(r++,0,i)}function _s(t){return t!==fs}function ws(t){return 32767&t}function Ss(t,e){let s=t>>16,n=e;for(;s>0;)n=n[15],s--;return n}let ks=!0;function Cs(t){const e=ks;return ks=t,e}let As=0;function Ts(t,e){const s=Ms(t,e);if(-1!==s)return s;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,Es(n.data,t),Es(e,null),Es(n.blueprint,null));const i=Ps(t,e),r=t.injectorIndex;if(_s(i)){const t=ws(i),s=Ss(i,e),n=s[1].data;for(let i=0;i<8;i++)e[r+i]=s[t+i]|n[t+i]}return e[r+8]=i,r}function Es(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ms(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ps(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,n=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(n=2===e?t.declTNode:1===e?i[6]:null,null===n)return fs;if(s++,i=i[15],-1!==n.injectorIndex)return n.injectorIndex|s<<16}return fs}function Is(t,e,s){!function(t,e,s){let n;"string"==typeof s?n=s.charCodeAt(0)||0:s.hasOwnProperty($t)&&(n=s[$t]),null==n&&(n=s[$t]=As++);const i=255&n;e.data[t+(i>>5)]|=1<<i}(t,e,s)}function Rs(t,e,s){if(s&kt.Optional)return t;ft(e,"NodeInjector")}function Os(t,e,s,n){if(s&kt.Optional&&void 0===n&&(n=null),0==(s&(kt.Self|kt.Host))){const i=t[9],r=At(void 0);try{return i?i.get(e,n,s&kt.Optional):Tt(e,n,s&kt.Optional)}finally{At(r)}}return Rs(n,e,s)}function Ls(t,e,s,n=kt.Default,i){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($t)?t[$t]:void 0;return"number"==typeof e?e>=0?255&e:Fs:e}(s);if("function"==typeof r){if(!Ye(e,t,n))return n&kt.Host?Rs(i,s,n):Os(e,s,n,i);try{const t=r(n);if(null!=t||n&kt.Optional)return t;ft(s)}finally{ss()}}else if("number"==typeof r){let i=null,o=Ms(t,e),a=fs,l=n&kt.Host?e[16][6]:null;for((-1===o||n&kt.SkipSelf)&&(a=-1===o?Ps(t,e):e[o+8],a!==fs&&js(n,!1)?(i=e[1],o=ws(a),e=Ss(a,e)):o=-1);-1!==o;){const t=e[1];if(Vs(r,o,t.data)){const t=Ns(o,e,s,i,n,l);if(t!==Ds)return t}a=e[o+8],a!==fs&&js(n,e[1].data[o+8]===l)&&Vs(r,o,e)?(i=t,o=ws(a),e=Ss(a,e)):o=-1}}}return Os(e,s,n,i)}const Ds={};function Fs(){return new Hs(Fe(),Le())}function Ns(t,e,s,n,i,r){const o=e[1],a=o.data[t+8],l=Bs(a,o,s,null==n?ae(a)&&ks:n!=o&&0!=(3&a.type),i&kt.Host&&r===a);return null!==l?zs(e,o,l,a):Ds}function Bs(t,e,s,n,i){const r=t.providerIndexes,o=e.data,a=1048575&r,l=t.directiveStart,h=r>>20,c=i?a+h:t.directiveEnd;for(let u=n?a:a+h;u<c;u++){const t=o[u];if(u<l&&s===t||u>=l&&t.type===s)return u}if(i){const t=o[l];if(t&&he(t)&&t.type===s)return l}return null}function zs(t,e,s,n){let i=t[s];const r=e.data;if(i instanceof gs){const o=i;o.resolving&&function(t,e){throw new ut("200",`Circular dependency in DI detected for ${t}`)}(pt(r[s]));const a=Cs(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?At(o.injectImpl):null;Ye(t,n,kt.Default);try{i=t[s]=o.factory(void 0,r,t,n),e.firstCreatePass&&s>=n.directiveStart&&function(t,e,s){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:r}=e.type.prototype;if(n){const n=fe(e);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,n),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,n)}i&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,i),r&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,r),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,r))}(s,r[s],e)}finally{null!==l&&At(l),Cs(a),o.resolving=!1,ss()}}return i}function Vs(t,e,s){return!!(s[e+(t>>5)]&1<<t)}function js(t,e){return!(t&kt.Self||t&kt.Host&&e)}class Hs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ls(this._tNode,this._lView,t,void 0,e)}}function Us(t){return Et(()=>{const e=t.prototype.constructor,s=e[Ut]||$s(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const t=i[Ut]||$s(i);if(t&&t!==s)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $s(t){return ct(t)?()=>{const e=$s(ht(t));return e&&e()}:ue(t)}const qs="__parameters__";function Gs(t,e,s){return Et(()=>{const n=function(t){return function(...e){if(t){const s=t(...e);for(const t in s)this[t]=s[t]}}}(e);function i(...t){if(this instanceof i)return n.apply(this,t),this;const e=new i(...t);return s.annotation=e,s;function s(t,s,n){const i=t.hasOwnProperty(qs)?t[qs]:Object.defineProperty(t,qs,{value:[]})[qs];for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(e),t}}return s&&(i.prototype=Object.create(s.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ws{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=gt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Qs(t,e){void 0===e&&(e=t);for(let s=0;s<t.length;s++){let n=t[s];Array.isArray(n)?(e===t&&(e=t.slice(0,s)),Qs(n,e)):e!==t&&e.push(n)}return e}function Zs(t,e){t.forEach(t=>Array.isArray(t)?Zs(t,e):e(t))}function Xs(t,e,s){e>=t.length?t.push(s):t.splice(e,0,s)}function Ys(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ks(t,e){const s=[];for(let n=0;n<t;n++)s.push(e);return s}function Js(t,e,s){let n=en(t,e);return n>=0?t[1|n]=s:(n=~n,function(t,e,s,n){let i=t.length;if(i==e)t.push(s,n);else if(1===i)t.push(n,t[0]),t[0]=s;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=s,t[e+1]=n}}(t,n,e,s)),n}function tn(t,e){const s=en(t,e);if(s>=0)return t[1|s]}function en(t,e){return function(t,e,s){let n=0,i=t.length>>1;for(;i!==n;){const s=n+(i-n>>1),r=t[s<<1];if(e===r)return s<<1;r>e?i=s:n=s+1}return~(i<<1)}(t,e)}const sn={},nn=/\n/gm,rn="__source",on=nt({provide:String,useValue:nt});let an;function ln(t){const e=an;return an=t,e}function hn(t,e=kt.Default){if(void 0===an)throw new Error("inject() must be called from an injection context");return null===an?Tt(t,void 0,e):an.get(t,e&kt.Optional?null:void 0,e)}function cn(t,e=kt.Default){return(Ct||hn)(ht(t),e)}const un=cn;function dn(t){const e=[];for(let s=0;s<t.length;s++){const n=ht(t[s]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t,s=kt.Default;for(let e=0;e<n.length;e++){const i=n[e],r=i.__NG_DI_FLAG__;"number"==typeof r?-1===r?t=i.token:s|=r:t=i}e.push(cn(t,s))}else e.push(cn(n))}return e}function pn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const fn=pn(Gs("Inject",t=>({token:t})),-1),gn=pn(Gs("Optional"),8),mn=pn(Gs("SkipSelf"),4);let yn;function xn(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,Dt.trustedTypes))try{yn=Dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}class vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class bn extends vn{getTypeName(){return"HTML"}}class _n extends vn{getTypeName(){return"Style"}}class wn extends vn{getTypeName(){return"Script"}}class Sn extends vn{getTypeName(){return"URL"}}class kn extends vn{getTypeName(){return"ResourceURL"}}function Cn(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const s=Tn(t);if(null!=s&&s!==e){if("ResourceURL"===s&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===e}function Tn(t){return t instanceof vn&&t.getTypeName()||null}class En{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Mn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const s=this.inertDocument.createElement("body");return s.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const e=t.attributes;for(let n=e.length-1;0<n;n--){const s=e.item(n).name;"xmlns:ns1"!==s&&0!==s.indexOf("ns1:")||t.removeAttribute(s)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Pn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,In=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rn(t){return(t=String(t)).match(Pn)||t.match(In)?t:"unsafe:"+t}function On(t){const e={};for(const s of t.split(","))e[s]=!0;return e}function Ln(...t){const e={};for(const s of t)for(const t in s)s.hasOwnProperty(t)&&(e[t]=!0);return e}const Dn=On("area,br,col,hr,img,wbr"),Fn=On("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nn=On("rp,rt"),Bn=Ln(Nn,Fn),zn=Ln(Dn,Ln(Fn,On("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ln(Nn,On("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bn),Vn=On("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jn=On("srcset"),Hn=Ln(Vn,jn,On("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),On("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Un=On("script,style,template");class $n{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,s=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?s=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,s&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Un.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const s=t.attributes;for(let i=0;i<s.length;i++){const t=s.item(i),e=t.name,r=e.toLowerCase();if(!Hn.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=t.value;Vn[r]&&(o=Rn(o)),jn[r]&&(n=o,o=(n=String(n)).split(",").map(t=>Rn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Wn(o),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zn.hasOwnProperty(e)&&!Dn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Wn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const qn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gn=/([^\#-~ |!])/g;function Wn(t){return t.replace(/&/g,"&amp;").replace(qn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Gn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qn;function Zn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function Yn(t,e){t.__ngContext__=e}function Kn(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Jn(t){return t.ngOriginalError}function ti(t,...e){t.error(...e)}class ei{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),s=this._findContext(t),n=function(t){return t.ngErrorLogger||ti}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),s&&n(this._console,"ERROR CONTEXT",s)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(Jn(t)):null}_findOriginalError(t){let e=Jn(t);for(;e&&Jn(e);)e=Jn(e);return e}}const si=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dt))();function ni(t){return t instanceof Function?t():t}var ii=(()=>((ii=ii||{})[ii.Important=1]="Important",ii[ii.DashCase=2]="DashCase",ii))();function ri(t,e){return(void 0)(t,e)}function oi(t){const e=t[3];return re(e)?e[3]:e}function ai(t){return hi(t[13])}function li(t){return hi(t[4])}function hi(t){for(;null!==t&&!re(t);)t=t[4];return t}function ci(t,e,s,n,i){if(null!=n){let r,o=!1;re(n)?r=n:ie(n)&&(o=!0,n=n[0]);const a=we(n);0===t&&null!==s?null==i?xi(e,s,a):yi(e,s,a,i||null,!0):1===t&&null!==s?yi(e,s,a,i||null,!0):2===t?function(t,e,s){const n=bi(t,e);n&&function(t,e,s,n){be(t)?t.removeChild(e,s,n):e.removeChild(s)}(t,n,e,s)}(e,a,o):3===t&&e.destroyNode(a),null!=r&&function(t,e,s,n,i){const r=s[7];r!==we(s)&&ci(e,t,n,r,i);for(let o=ne;o<s.length;o++){const i=s[o];Ei(i[1],i,t,e,n,r)}}(e,t,r,s,i)}}function ui(t,e,s){return be(t)?t.createElement(e,s):null===s?t.createElement(e):t.createElementNS(s,e)}function di(t,e){const s=t[9],n=s.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ie(i,-1)),s.splice(n,1)}function pi(t,e){if(t.length<=ne)return;const s=ne+e,n=t[s];if(n){const r=n[17];null!==r&&r!==t&&di(r,n),e>0&&(t[s-1][4]=n[4]);const o=Ys(t,ne+e);Ei(n[1],i=n,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}var i;return n}function fi(t,e){if(!(256&e[2])){const s=e[11];be(s)&&s.destroyNode&&Ei(t,e,s,3,null,null),function(t){let e=t[13];if(!e)return gi(t[1],t);for(;e;){let s=null;if(ie(e))s=e[13];else{const t=e[10];t&&(s=t)}if(!s){for(;e&&!e[4]&&e!==t;)ie(e)&&gi(e[1],e),e=e[3];null===e&&(e=t),ie(e)&&gi(e[1],e),s=e&&e[4]}e=s}}(e)}}function gi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let n=0;n<s.length;n+=2){const t=e[s[n]];if(!(t instanceof gs)){const e=s[n+1];if(Array.isArray(e))for(let s=0;s<e.length;s+=2){const n=t[e[s]],i=e[s+1];try{i.call(n)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const s=t.cleanup,n=e[7];let i=-1;if(null!==s)for(let r=0;r<s.length-1;r+=2)if("string"==typeof s[r]){const t=s[r+1],o="function"==typeof t?t(e):we(e[t]),a=n[i=s[r+2]],l=s[r+3];"boolean"==typeof l?o.removeEventListener(s[r],a,l):l>=0?n[i=l]():n[i=-l].unsubscribe(),r+=2}else{const t=n[i=s[r+1]];s[r].call(t)}if(null!==n){for(let t=i+1;t<n.length;t++)(0,n[t])();e[7]=null}}(t,e),1===e[1].type&&be(e[11])&&e[11].destroy();const s=e[17];if(null!==s&&re(e[3])){s!==e[3]&&di(s,e);const n=e[19];null!==n&&n.detachView(t)}}}function mi(t,e,s){return function(t,e,s){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return s[0];if(2&n.flags){const e=t.data[n.directiveStart].encapsulation;if(e===Pt.None||e===Pt.Emulated)return null}return ke(n,s)}(t,e.parent,s)}function yi(t,e,s,n,i){be(t)?t.insertBefore(e,s,n,i):e.insertBefore(s,n,i)}function xi(t,e,s){be(t)?t.appendChild(e,s):e.appendChild(s)}function vi(t,e,s,n,i){null!==n?yi(t,e,s,n,i):xi(t,e,s)}function bi(t,e){return be(t)?t.parentNode(e):e.parentNode}function _i(t,e,s){return wi(t,e,s)}let wi=function(t,e,s){return 40&t.type?ke(t,s):null};function Si(t,e,s,n){const i=mi(t,n,e),r=e[11],o=_i(n.parent||e[6],n,e);if(null!=i)if(Array.isArray(s))for(let a=0;a<s.length;a++)vi(r,i,s[a],o,!1);else vi(r,i,s,o,!1)}function ki(t,e){if(null!==e){const s=e.type;if(3&s)return ke(e,t);if(4&s)return Ai(-1,t[e.index]);if(8&s){const s=e.child;if(null!==s)return ki(t,s);{const s=t[e.index];return re(s)?Ai(-1,s):we(s)}}if(32&s)return ri(e,t)()||we(t[e.index]);{const s=Ci(t,e);return null!==s?Array.isArray(s)?s[0]:ki(oi(t[16]),s):ki(t,e.next)}}return null}function Ci(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ai(t,e){const s=ne+t+1;if(s<e.length){const t=e[s],n=t[1].firstChild;if(null!==n)return ki(t,n)}return e[7]}function Ti(t,e,s,n,i,r,o){for(;null!=s;){const a=n[s.index],l=s.type;if(o&&0===e&&(a&&Yn(we(a),n),s.flags|=4),64!=(64&s.flags))if(8&l)Ti(t,e,s.child,n,i,r,!1),ci(e,t,i,a,r);else if(32&l){const o=ri(s,n);let l;for(;l=o();)ci(e,t,i,l,r);ci(e,t,i,a,r)}else 16&l?Mi(t,e,n,s,i,r):ci(e,t,i,a,r);s=o?s.projectionNext:s.next}}function Ei(t,e,s,n,i,r){Ti(s,n,t.firstChild,e,i,r,!1)}function Mi(t,e,s,n,i,r){const o=s[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ci(e,t,i,a[l],r);else Ti(t,e,a,o[3],i,r,!0)}function Pi(t,e,s){be(t)?t.setAttribute(e,"style",s):e.style.cssText=s}function Ii(t,e,s){be(t)?""===s?t.removeAttribute(e,"class"):t.setAttribute(e,"class",s):e.className=s}function Ri(t,e,s){let n=t.length;for(;;){const i=t.indexOf(e,s);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===n||t.charCodeAt(i+s)<=32)return i}s=i+1}}const Oi="ng-template";function Li(t,e,s){let n=0;for(;n<t.length;){let i=t[n++];if(s&&"class"===i){if(i=t[n],-1!==Ri(i.toLowerCase(),e,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Di(t){return 4===t.type&&t.value!==Oi}function Fi(t,e,s){return e===(4!==t.type||s?t.value:Oi)}function Ni(t,e,s){let n=4;const i=t.attrs||[],r=function(t){for(let e=0;e<t.length;e++)if(ys(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Fi(t,l,s)||""===l&&1===e.length){if(Bi(n))return!1;o=!0}}else{const h=8&n?l:e[++a];if(8&n&&null!==t.attrs){if(!Li(t.attrs,h,s)){if(Bi(n))return!1;o=!0}continue}const c=zi(8&n?"class":l,i,Di(t),s);if(-1===c){if(Bi(n))return!1;o=!0;continue}if(""!==h){let t;t=c>r?"":i[c+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==Ri(e,h,0)||2&n&&h!==t){if(Bi(n))return!1;o=!0}}}}else{if(!o&&!Bi(n)&&!Bi(l))return!1;if(o&&Bi(l))continue;o=!1,n=l|1&n}}return Bi(n)||o}function Bi(t){return 0==(1&t)}function zi(t,e,s,n){if(null===e)return-1;let i=0;if(n||!s){let s=!1;for(;i<e.length;){const n=e[i];if(n===t)return i;if(3===n||6===n)s=!0;else{if(1===n||2===n){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const n=t[s];if("number"==typeof n)return-1;if(n===e)return s;s++}return-1}(e,t)}function Vi(t,e,s=!1){for(let n=0;n<e.length;n++)if(Ni(t,e[n],s))return!0;return!1}function ji(t,e){return t?":not("+e.trim()+")":e}function Hi(t){let e=t[0],s=1,n=2,i="",r=!1;for(;s<t.length;){let o=t[s];if("string"==typeof o)if(2&n){const e=t[++s];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?i+="."+o:4&n&&(i+=" "+o);else""===i||Bi(o)||(e+=ji(r,i),i=""),n=o,r=r||!Bi(n);s++}return""!==i&&(e+=ji(r,i)),e}const Ui={};function $i(t){qi(De(),Le(),is()+t,je())}function qi(t,e,s,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&hs(e,n,s)}else{const n=t.preOrderHooks;null!==n&&cs(e,n,0,s)}rs(s)}function Gi(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function Qi(t){return 2|t}function Zi(t){return(131068&t)>>2}function Xi(t,e){return-131069&t|e<<2}function Yi(t){return 1|t}function Ki(t,e){const s=t.contentQueries;if(null!==s)for(let n=0;n<s.length;n+=2){const i=s[n],r=s[n+1];if(-1!==r){const s=t.data[r];Ze(i),s.contentQueries(2,e[r],r)}}}function Ji(t,e,s,n,i,r,o,a,l,h){const c=e.blueprint.slice();return c[0]=i,c[2]=140|n,Pe(c),c[3]=c[15]=t,c[8]=s,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=h||t&&t[9]||null,c[6]=r,c[16]=2==e.type?t[16]:c,c}function tr(t,e,s,n,i){let r=t.data[e];if(null===r)r=function(t,e,s,n,i){const r=Ne(),o=ze(),a=t.data[e]=function(t,e,s,n,i,r){return{type:s,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,s,e,n,i);return null===t.firstChild&&(t.firstChild=a),null!==r&&(o?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(t,e,s,n,i),Re.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=s,r.value=n,r.attrs=i;const t=function(){const t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();r.injectorIndex=null===t?-1:t.injectorIndex}return Be(r,!0),r}function er(t,e,s,n){if(0===s)return-1;const i=e.length;for(let r=0;r<s;r++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function sr(t,e,s){Ke(e);try{const n=t.viewQuery;null!==n&&Mr(1,n,s);const i=t.template;null!==i&&rr(t,e,i,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ki(t,e),t.staticViewQueries&&Mr(2,t.viewQuery,s);const r=t.components;null!==r&&function(t,e){for(let s=0;s<e.length;s++)Cr(t,e[s])}(e,r)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),n}finally{e[2]&=-5,ns()}}function nr(t,e,s,n){const i=e[2];if(256==(256&i))return;Ke(e);const r=je();try{Pe(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==s&&rr(t,e,s,2,n);const o=3==(3&i);if(!r)if(o){const s=t.preOrderCheckHooks;null!==s&&hs(e,s,null)}else{const s=t.preOrderHooks;null!==s&&cs(e,s,0,null),us(e,0)}if(function(t){for(let e=ai(t);null!==e;e=li(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const s=t[e],n=s[3];0==(1024&s[2])&&Ie(n,1),s[2]|=1024}}}(e),function(t){for(let e=ai(t);null!==e;e=li(e))for(let t=ne;t<e.length;t++){const s=e[t],n=s[1];Ee(s)&&nr(n,s,n.template,s[8])}}(e),null!==t.contentQueries&&Ki(t,e),!r)if(o){const s=t.contentCheckHooks;null!==s&&hs(e,s)}else{const s=t.contentHooks;null!==s&&cs(e,s,1),us(e,1)}!function(t,e){const s=t.hostBindingOpCodes;if(null!==s)try{for(let t=0;t<s.length;t++){const n=s[t];if(n<0)rs(~n);else{const i=n,r=s[++t],o=s[++t];Ge(r,i),o(2,e[i])}}}finally{rs(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let s=0;s<e.length;s++)Sr(t,e[s])}(e,a);const l=t.viewQuery;if(null!==l&&Mr(2,l,n),!r)if(o){const s=t.viewCheckHooks;null!==s&&hs(e,s)}else{const s=t.viewHooks;null!==s&&cs(e,s,2),us(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ie(e[3],-1))}finally{ns()}}function ir(t,e,s,n){const i=e[10],r=!je(),o=Te(e);try{r&&!o&&i.begin&&i.begin(),o&&sr(t,e,n),nr(t,e,s,n)}finally{r&&!o&&i.end&&i.end()}}function rr(t,e,s,n,i){const r=is(),o=2&n;try{rs(-1),o&&e.length>se&&qi(t,e,se,je()),s(n,i)}finally{rs(r)}}function or(t,e,s){Oe()&&(function(t,e,s,n){const i=s.directiveStart,r=s.directiveEnd;t.firstCreatePass||Ts(s,e),Yn(n,e);const o=s.initialInputs;for(let a=i;a<r;a++){const n=t.data[a],r=he(n);r&&vr(e,s,n);const l=zs(e,t,a,s);Yn(l,e),null!==o&&br(0,a-i,l,n,0,o),r&&(Ae(s.index,e)[8]=l)}}(t,e,s,ke(s,e)),128==(128&s.flags)&&function(t,e,s){const n=s.directiveStart,i=s.directiveEnd,r=s.index,o=Re.lFrame.currentDirectiveIndex;try{rs(r);for(let s=n;s<i;s++){const n=t.data[s],i=e[s];We(s),null===n.hostBindings&&0===n.hostVars&&null===n.hostAttrs||fr(n,i)}}finally{rs(-1),We(o)}}(t,e,s))}function ar(t,e,s=ke){const n=e.localNames;if(null!==n){let i=e.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?s(e,t):t[o];t[i++]=a}}}function lr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function hr(t,e,s,n,i,r,o,a,l,h){const c=se+n,u=c+i,d=function(t,e){const s=[];for(let n=0;n<e;n++)s.push(n<t?null:Ui);return s}(c,u),p="function"==typeof h?h():h;return d[1]={type:t,blueprint:d,template:s,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function cr(t,e,s,n){const i=(r=e)[7]||(r[7]=[]);var r;null===s?i.push(n):(i.push(s),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(n,i.length-1))}function ur(t,e,s){for(let n in t)if(t.hasOwnProperty(n)){const i=t[n];(s=null===s?{}:s).hasOwnProperty(n)?s[n].push(e,i):s[n]=[e,i]}return s}function dr(t,e,s,n){let i=!1;if(Oe()){const r=function(t,e,s){const n=t.directiveRegistry;let i=null;if(n)for(let r=0;r<n.length;r++){const o=n[r];Vi(s,o.selectors,!1)&&(i||(i=[]),Is(Ts(s,e),t,o.type),he(o)?(gr(t,s),i.unshift(o)):i.push(o))}return i}(t,e,s),o=null===n?null:{"":-1};if(null!==r){i=!0,yr(s,t.data.length,r.length);for(let t=0;t<r.length;t++){const e=r[t];e.providersResolver&&e.providersResolver(e)}let n=!1,a=!1,l=er(t,e,r.length,null);for(let i=0;i<r.length;i++){const h=r[i];s.mergedAttrs=vs(s.mergedAttrs,h.hostAttrs),xr(t,s,e,l,h),mr(l,h,o),null!==h.contentQueries&&(s.flags|=8),null===h.hostBindings&&null===h.hostAttrs&&0===h.hostVars||(s.flags|=128);const c=h.type.prototype;!n&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),n=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),a=!0),l++}!function(t,e){const s=e.directiveEnd,n=t.data,i=e.attrs,r=[];let o=null,a=null;for(let l=e.directiveStart;l<s;l++){const t=n[l],s=t.inputs,h=null===i||Di(e)?null:_r(s,i);r.push(h),o=ur(s,l,o),a=ur(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=o,e.outputs=a}(t,s)}o&&function(t,e,s){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=s[e[t+1]];if(null==i)throw new ut("301",`Export of name '${e[t+1]}' not found!`);n.push(e[t],i)}}}(s,n,o)}return s.mergedAttrs=vs(s.mergedAttrs,s.attrs),i}function pr(t,e,s,n,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const r=~e.index;(function(t){let e=t.length;for(;e>0;){const s=t[--e];if("number"==typeof s&&s<0)return s}return 0})(s)!=r&&s.push(r),s.push(n,i,o)}}function fr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mr(t,e,s){if(s){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)s[e.exportAs[n]]=t;he(e)&&(s[""]=t)}}function yr(t,e,s){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+s,t.providerIndexes=e}function xr(t,e,s,n,i){t.data[n]=i;const r=i.factory||(i.factory=ue(i.type)),o=new gs(r,he(i),null);t.blueprint[n]=o,s[n]=o,pr(t,e,0,n,er(t,s,i.hostVars,Ui),i)}function vr(t,e,s){const n=ke(e,t),i=lr(s),r=t[10],o=Ar(t,Ji(t,i,null,s.onPush?64:16,n,e,r,r.createRenderer(n,s),null,null));t[e.index]=o}function br(t,e,s,n,i,r){const o=r[e];if(null!==o){const t=n.setInput;for(let e=0;e<o.length;){const i=o[e++],r=o[e++],a=o[e++];null!==t?n.setInput(s,a,i,r):s[r]=a}}}function _r(t,e){let s=null,n=0;for(;n<e.length;){const i=e[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===s&&(s=[]),s.push(i,t[i],e[n+1])),n+=2}else n+=2;else n+=4}return s}function wr(t,e,s,n){return new Array(t,!0,!1,e,null,0,n,s,null,null)}function Sr(t,e){const s=Ae(e,t);if(Ee(s)){const t=s[1];80&s[2]?nr(t,s,t.template,s[8]):s[5]>0&&kr(s)}}function kr(t){for(let s=ai(t);null!==s;s=li(s))for(let t=ne;t<s.length;t++){const e=s[t];if(1024&e[2]){const t=e[1];nr(t,e,t.template,e[8])}else e[5]>0&&kr(e)}const e=t[1].components;if(null!==e)for(let s=0;s<e.length;s++){const n=Ae(e[s],t);Ee(n)&&n[5]>0&&kr(n)}}function Cr(t,e){const s=Ae(e,t),n=s[1];!function(t,e){for(let s=e.length;s<t.blueprint.length;s++)e.push(t.blueprint[s])}(n,s),sr(n,s,s[8])}function Ar(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Tr(t,e,s){const n=e[10];n.begin&&n.begin();try{nr(t,e,t.template,s)}catch(i){throw function(t,e){const s=t[9],n=s?s.get(ei,null):null;n&&n.handleError(e)}(e,i),i}finally{n.end&&n.end()}}function Er(t){!function(t){for(let e=0;e<t.components.length;e++){const s=t.components[e],n=Kn(s),i=n[1];ir(i,n,i.template,s)}}(t[8])}function Mr(t,e,s){Ze(0),e(t,s)}const Pr=(()=>Promise.resolve(null))();function Ir(t,e,s,n,i){for(let r=0;r<s.length;){const o=s[r++],a=s[r++],l=e[o],h=t.data[o];null!==h.setInput?h.setInput(l,i,n,a):l[a]=i}}function Rr(t,e,s){const n=Se(e,t);!function(t,e,s){be(t)?t.setValue(e,s):e.textContent=s}(t[11],n,s)}function Or(t,e,s){let n=s?t.styles:null,i=s?t.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?r=t:1==r?i=ot(i,t):2==r&&(n=ot(n,t+": "+e[++o]+";"))}s?t.styles=n:t.stylesWithoutHost=n,s?t.classes=i:t.classesWithoutHost=i}const Lr=new Ws("INJECTOR",-1);class Dr{get(t,e=sn){if(e===sn){const e=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw e.name="NullInjectorError",e}return e}}const Fr=new Ws("Set Injector scope."),Nr={},Br={};let zr;function Vr(){return void 0===zr&&(zr=new Dr),zr}function jr(t,e=null,s=null,n){return new Hr(t,s,e||Vr(),n)}class Hr{constructor(t,e,s,n=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Zs(e,s=>this.processProvider(s,t,e)),Zs([t],t=>this.processInjectorType(t,[],i)),this.records.set(Lr,$r(void 0,this));const r=this.records.get(Fr);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=sn,s=kt.Default){this.assertNotDestroyed();const n=ln(this),i=At(void 0);try{if(!(s&kt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Ws)&&yt(t);e=s&&this.injectableDefInScope(s)?$r(Ur(t),Nr):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(s&kt.Self?Vr():this.parent).get(t,e=s&kt.Optional&&e===sn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(rt(t)),n)throw o;return function(t,e,s,n){const i=t.ngTempTokenPath;throw e[rn]&&i.unshift(e[rn]),t.message=function(t,e,s,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let t=[];for(let s in e)if(e.hasOwnProperty(s)){let n=e[s];t.push(s+":"+("string"==typeof n?JSON.stringify(n):rt(n)))}i=`{${t.join(", ")}}`}return`${s}${n?"("+n+")":""}[${i}]: ${t.replace(nn,"\n  ")}`}("\n"+t.message,i,s,n),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{At(i),ln(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,s)=>t.push(rt(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,s){if(!(t=ht(t)))return!1;let n=vt(t);const i=null==n&&t.ngModule||void 0,r=void 0===i?t:i,o=-1!==s.indexOf(r);if(void 0!==i&&(n=vt(i)),null==n)return!1;if(null!=n.imports&&!o){let t;s.push(r);try{Zs(n.imports,n=>{this.processInjectorType(n,e,s)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:s,providers:n}=t[e];Zs(n,t=>this.processProvider(t,s,n||Nt))}}this.injectorDefTypes.add(r);const a=ue(r)||(()=>new r);this.records.set(r,$r(a,Nr));const l=n.providers;if(null!=l&&!o){const e=t;Zs(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,s){let n=Gr(t=ht(t))?t:ht(t&&t.provide);const i=function(t,e,s){return qr(t)?$r(void 0,t.useValue):$r(function(t,e,s){let n;if(Gr(t)){const e=ht(t);return ue(e)||Ur(e)}if(qr(t))n=()=>ht(t.useValue);else if((i=t)&&i.useFactory)n=()=>t.useFactory(...dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>cn(ht(t.useExisting));else{const e=ht(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ue(e)||Ur(e);n=()=>new e(...dn(t.deps))}var i;return n}(t),Nr)}(t);if(Gr(t)||!0!==t.multi)this.records.get(n);else{let e=this.records.get(n);e||(e=$r(void 0,Nr,!0),e.factory=()=>dn(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,i)}hydrate(t,e){var s;return e.value===Nr&&(e.value=Br,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(s=e.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ht(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ur(t){const e=yt(t),s=null!==e?e.factory:ue(t);if(null!==s)return s;if(t instanceof Ws)throw new Error(`Token ${rt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const s=Ks(e,"?");throw new Error(`Can't resolve all parameters for ${rt(t)}: (${s.join(", ")}).`)}const s=function(t){const e=t&&(t[bt]||t[wt]);if(e){const s=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),e}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Error("unreachable")}function $r(t,e,s=!1){return{factory:t,value:e,multi:s?[]:void 0}}function qr(t){return null!==t&&"object"==typeof t&&on in t}function Gr(t){return"function"==typeof t}const Wr=function(t,e,s){return function(t,e=null,s=null,n){const i=jr(t,e,s,n);return i._resolveInjectorDefTypes(),i}({name:s},e,t,s)};class Qr{static create(t,e){return Array.isArray(t)?Wr(t,e,""):Wr(t.providers,t.parent,t.name||"")}}function Zr(t,e){ls(Kn(t)[1],Fe())}function Xr(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,s=!0;const n=[t];for(;e;){let i;if(he(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(s){n.push(i);const e=t;e.inputs=Yr(t.inputs),e.declaredInputs=Yr(t.declaredInputs),e.outputs=Yr(t.outputs);const s=i.hostBindings;s&&to(t,s);const r=i.viewQuery,o=i.contentQueries;if(r&&Kr(t,r),o&&Jr(t,o),it(t.inputs,i.inputs),it(t.declaredInputs,i.declaredInputs),it(t.outputs,i.outputs),he(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let n=0;n<e.length;n++){const i=e[n];i&&i.ngInherit&&i(t),i===Xr&&(s=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,s=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=vs(i.hostAttrs,s=vs(s,i.hostAttrs))}}(n)}function Yr(t){return t===Ft?{}:t===Nt?[]:t}function Kr(t,e){const s=t.viewQuery;t.viewQuery=s?(t,n)=>{e(t,n),s(t,n)}:e}function Jr(t,e){const s=t.contentQueries;t.contentQueries=s?(t,n,i)=>{e(t,n,i),s(t,n,i)}:e}function to(t,e){const s=t.hostBindings;t.hostBindings=s?(t,n)=>{e(t,n),s(t,n)}:e}Qr.THROW_IF_NOT_FOUND=sn,Qr.NULL=new Dr,Qr.\u0275prov=gt({token:Qr,providedIn:"any",factory:()=>cn(Lr)}),Qr.__NG_ELEMENT_ID__=-1;let eo=null;function so(){if(!eo){const t=Dt.Symbol;if(t&&t.iterator)eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const s=t[e];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(eo=s)}}}return eo}class no{constructor(t){this.wrapped=t}static wrap(t){return new no(t)}static unwrap(t){return no.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof no}}function io(t){return!!ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&so()in t)}function ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oo(t,e,s){return!Object.is(t[e],s)&&(t[e]=s,!0)}function ao(t,e,s,n){const i=Le();return oo(i,$e(),e)&&(De(),function(t,e,s,n,i,r){const o=ke(t,e);!function(t,e,s,n,i,r,o){if(null==r)be(t)?t.removeAttribute(e,i,s):e.removeAttribute(i);else{const a=null==o?dt(r):o(r,n||"",i);be(t)?t.setAttribute(e,i,a,s):s?e.setAttributeNS(s,i,a):e.setAttribute(i,a)}}(e[11],o,r,t.value,s,n,i)}(os(),i,t,e,s,n)),ao}function lo(t,e,s,n,i,r,o,a){const l=Le(),h=De(),c=t+se,u=h.firstCreatePass?function(t,e,s,n,i,r,o,a,l){const h=e.consts,c=tr(e,t,4,o||null,Me(h,a));dr(e,s,c,Me(h,l)),ls(e,c);const u=c.tViews=hr(2,c,n,i,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,c),u.queries=e.queries.embeddedTView(c)),c}(c,h,l,e,s,n,i,r,o):h.data[c];Be(u,!1);const d=l[11].createComment("");Si(h,l,d,u),Yn(d,l),Ar(l,l[c]=wr(d,l,d,u)),le(u)&&or(h,l,u),null!=o&&ar(l,u,a)}function ho(t,e=kt.Default){const s=Le();return null===s?cn(t,e):Ls(Fe(),s,ht(t),e)}function co(t,e,s){const n=Le();return oo(n,$e(),e)&&function(t,e,s,n,i,r,o,a){const l=ke(e,s);let h,c=e.inputs;null!=c&&(h=c[n])?(Ir(t,s,h,n,i),ae(e)&&function(t,e){const s=Ae(e,t);16&s[2]||(s[2]|=64)}(s,e.index)):3&e.type&&(n=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=o?o(i,e.value||"",n):i,be(r)?r.setProperty(l,n,i):xs(n)||(l.setProperty?l.setProperty(n,i):l[n]=i))}(De(),os(),n,t,e,n[11],s),co}function uo(t,e,s,n,i){const r=i?"class":"style";Ir(t,s,e.inputs[r],r,n)}function po(t,e,s,n){const i=Le(),r=De(),o=se+t,a=i[11],l=i[o]=ui(a,e,Re.lFrame.currentNamespace),h=r.firstCreatePass?function(t,e,s,n,i,r,o){const a=e.consts,l=tr(e,t,2,i,Me(a,r));return dr(e,s,l,Me(a,o)),null!==l.attrs&&Or(l,l.attrs,!1),null!==l.mergedAttrs&&Or(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,r,i,0,e,s,n):r.data[o];Be(h,!0);const c=h.mergedAttrs;null!==c&&ms(a,l,c);const u=h.classes;null!==u&&Ii(a,l,u);const d=h.styles;null!==d&&Pi(a,l,d),64!=(64&h.flags)&&Si(r,i,l,h),0===Re.lFrame.elementDepthCount&&Yn(l,i),Re.lFrame.elementDepthCount++,le(h)&&(or(r,i,h),function(t,e,s){if(oe(e)){const n=e.directiveEnd;for(let i=e.directiveStart;i<n;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,s[i],i)}}}(r,h,i)),null!==n&&ar(i,h)}function fo(){let t=Fe();ze()?Ve():(t=t.parent,Be(t,!1));const e=t;Re.lFrame.elementDepthCount--;const s=De();s.firstCreatePass&&(ls(s,t),oe(t)&&s.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&uo(s,e,Le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&uo(s,e,Le(),e.stylesWithoutHost,!1)}function go(t,e,s,n){po(t,e,s,n),fo()}function mo(t){return!!t&&"function"==typeof t.then}function yo(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function xo(t,e,s,n,i){const r=t[s+1],o=null===e;let a=n?Wi(r):Zi(r),l=!1;for(;0!==a&&(!1===l||o);){const s=t[a+1];vo(t[a],e)&&(l=!0,t[a+1]=n?Yi(s):Qi(s)),a=n?Wi(s):Zi(s)}l&&(t[s+1]=n?Qi(r):Yi(r))}function vo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&en(t,e)>=0}function bo(t,e,s){return wo(t,e,s,!1),bo}function _o(t,e){return wo(t,e,null,!0),_o}function wo(t,e,s,n){const i=Le(),r=De(),o=qe(2);r.firstUpdatePass&&function(t,e,s,n){const i=t.data;if(null===i[s+1]){const r=i[is()],o=function(t,e){return e>=t.expandoStartIndex}(t,s);(function(t,e){return 0!=(t.flags&(e?16:32))})(r,n)&&null===e&&!o&&(e=!1),e=function(t,e,s,n){const i=function(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let r=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(s=ko(s=So(null,t,e,s,n),e.attrs,n),r=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(s=So(i,t,e,s,n),null===r){let s=function(t,e,s){const n=s?e.classBindings:e.styleBindings;if(0!==Zi(n))return t[Wi(n)]}(t,e,n);void 0!==s&&Array.isArray(s)&&(s=So(null,t,e,s[1],n),s=ko(s,e.attrs,n),function(t,e,s,n){t[Wi(s?e.classBindings:e.styleBindings)]=n}(t,e,n,s))}else r=function(t,e,s){let n;const i=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<i;r++)n=ko(n,t[r].hostAttrs,s);return ko(n,e.attrs,s)}(t,e,n)}return void 0!==r&&(n?e.residualClasses=r:e.residualStyles=r),s}(i,r,e,n),function(t,e,s,n,i,r){let o=r?e.classBindings:e.styleBindings,a=Wi(o),l=Zi(o);t[n]=s;let h,c=!1;if(Array.isArray(s)){const t=s;h=t[1],(null===h||en(t,h)>0)&&(c=!0)}else h=s;if(i)if(0!==l){const e=Wi(t[a+1]);t[n+1]=Gi(e,a),0!==e&&(t[e+1]=Xi(t[e+1],n)),t[a+1]=131071&t[a+1]|n<<17}else t[n+1]=Gi(a,0),0!==a&&(t[a+1]=Xi(t[a+1],n)),a=n;else t[n+1]=Gi(l,0),0===a?a=n:t[l+1]=Xi(t[l+1],n),l=n;c&&(t[n+1]=Qi(t[n+1])),xo(t,h,n,!0),xo(t,h,n,!1),function(t,e,s,n,i){const r=i?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof e&&en(r,e)>=0&&(s[n+1]=Yi(s[n+1]))}(e,h,t,n,r),o=Gi(a,l),r?e.classBindings=o:e.styleBindings=o}(i,r,e,s,o,n)}}(r,t,o,n),e!==Ui&&oo(i,o,e)&&function(t,e,s,n,i,r,o,a){if(!(3&e.type))return;const l=t.data,h=l[a+1];Ao(1==(1&h)?Co(l,e,s,i,Zi(h),o):void 0)||(Ao(r)||function(t){return 2==(2&t)}(h)&&(r=Co(l,null,s,i,a,o)),function(t,e,s,n,i){const r=be(t);if(e)i?r?t.addClass(s,n):s.classList.add(n):r?t.removeClass(s,n):s.classList.remove(n);else{let e=-1===n.indexOf("-")?void 0:ii.DashCase;if(null==i)r?t.removeStyle(s,n,e):s.style.removeProperty(n);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=ii.Important),r?t.setStyle(s,n,i,e):s.style.setProperty(n,i,o?"important":"")}}}(n,o,Se(is(),s),i,r))}(r,r.data[is()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=rt(Cn(t)))),t}(e,s),n,o)}function So(t,e,s,n,i){let r=null;const o=s.directiveEnd;let a=s.directiveStylingLast;for(-1===a?a=s.directiveStart:a++;a<o&&(r=e[a],n=ko(n,r.hostAttrs,i),r!==t);)a++;return null!==t&&(s.directiveStylingLast=a),n}function ko(t,e,s){const n=s?1:2;let i=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?i=o:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Js(t,o,!!s||e[++r]))}return void 0===t?null:t}function Co(t,e,s,n,i,r){const o=null===e;let a;for(;i>0;){const e=t[i],r=Array.isArray(e),l=r?e[1]:e,h=null===l;let c=s[i+1];c===Ui&&(c=h?Nt:void 0);let u=h?tn(c,n):l===n?c:void 0;if(r&&!Ao(u)&&(u=tn(e,n)),Ao(u)&&(a=u,o))return a;const d=t[i+1];i=o?Wi(d):Zi(d)}if(null!==e){let t=r?e.residualClasses:e.residualStyles;null!=t&&(a=tn(t,n))}return a}function Ao(t){return void 0!==t}function To(t,e=""){const s=Le(),n=De(),i=t+se,r=n.firstCreatePass?tr(n,i,1,e,null):n.data[i],o=s[i]=function(t,e){return be(t)?t.createText(e):t.createTextNode(e)}(s[11],e);Si(n,s,o,r),Be(r,!1)}function Eo(t){return Mo("",t,""),Eo}function Mo(t,e,s){const n=Le(),i=function(t,e,s,n){return oo(t,$e(),s)?e+dt(s)+n:Ui}(n,t,e,s);return i!==Ui&&Rr(n,is(),i),Mo}function Po(t,e,s,n,i){const r=Le(),o=function(t,e,s,n,i,r){const o=function(t,e,s,n){const i=oo(t,e,s);return oo(t,e+1,n)||i}(t,Ue(),s,i);return qe(2),o?e+dt(s)+n+dt(i)+r:Ui}(r,t,e,s,n,i);return o!==Ui&&Rr(r,is(),o),Po}const Io=void 0;var Ro=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===s?1:5}];let Oo={};function Lo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Do(e);if(s)return s;const n=e.split("-")[0];if(s=Do(n),s)return s;if("en"===n)return Ro;throw new Error(`Missing locale data for the locale "${t}".`)}function Do(t){return t in Oo||(Oo[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),Oo[t]}var Fo=(()=>((Fo=Fo||{})[Fo.LocaleId=0]="LocaleId",Fo[Fo.DayPeriodsFormat=1]="DayPeriodsFormat",Fo[Fo.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fo[Fo.DaysFormat=3]="DaysFormat",Fo[Fo.DaysStandalone=4]="DaysStandalone",Fo[Fo.MonthsFormat=5]="MonthsFormat",Fo[Fo.MonthsStandalone=6]="MonthsStandalone",Fo[Fo.Eras=7]="Eras",Fo[Fo.FirstDayOfWeek=8]="FirstDayOfWeek",Fo[Fo.WeekendRange=9]="WeekendRange",Fo[Fo.DateFormat=10]="DateFormat",Fo[Fo.TimeFormat=11]="TimeFormat",Fo[Fo.DateTimeFormat=12]="DateTimeFormat",Fo[Fo.NumberSymbols=13]="NumberSymbols",Fo[Fo.NumberFormats=14]="NumberFormats",Fo[Fo.CurrencyCode=15]="CurrencyCode",Fo[Fo.CurrencySymbol=16]="CurrencySymbol",Fo[Fo.CurrencyName=17]="CurrencyName",Fo[Fo.Currencies=18]="Currencies",Fo[Fo.Directionality=19]="Directionality",Fo[Fo.PluralCase=20]="PluralCase",Fo[Fo.ExtraData=21]="ExtraData",Fo))();const No="en-US";let Bo=No;function zo(t){var e,s;s="Expected localeId to be defined",null==(e=t)&&function(t,e,s,n){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(s,e),"string"==typeof t&&(Bo=t.toLowerCase().replace(/_/g,"-"))}class Vo{}class jo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${rt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Ho{}function Uo(...t){}function $o(t,e){return new Go(ke(t,e))}Ho.NULL=new jo;const qo=function(){return $o(Fe(),Le())};let Go=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=qo,t})();function Wo(t){return t instanceof Go?t.nativeElement:t}class Qo{}let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=function(){const t=Le(),e=Ae(Fe().index,t);return function(t){return t[11]}(ie(e)?e:t)};let Yo=(()=>{class t{}return t.\u0275prov=gt({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Jo=new Ko("12.1.3");class ta{constructor(){}supports(t){return io(t)}create(t){return new sa(t)}}const ea=(t,e)=>e;class sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ea}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,s=this._removalsHead,n=0,i=null;for(;e||s;){const r=!s||e&&e.currentIndex<oa(s,n,i)?e:s,o=oa(r,n,i),a=r.currentIndex;if(r===s)n--,s=s._nextRemoved;else if(e=e._next,null==r.previousIndex)n++;else{i||(i=[]);const t=o-n,e=a-n;if(t!=e){for(let s=0;s<t;s++){const n=s<i.length?i[s]:i[s]=0,r=n+s;e<=r&&r<t&&(i[s]=n+1)}i[r.previousIndex]=e-t}}o!==a&&t(r,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!io(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,s,n,i=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)s=t[e],n=this._trackByFn(e,s),null!==i&&Object.is(i.trackById,n)?(r&&(i=this._verifyReinsertion(i,s,n,e)),Object.is(i.item,s)||this._addIdentityChange(i,s)):(i=this._mismatch(i,s,n,e),r=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let s=0;s<t.length;s++)e(t[s]);else{const s=t[so()]();let n;for(;!(n=s.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,n)?(r&&(i=this._verifyReinsertion(i,t,n,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,n,e),r=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,s,n){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,n)):t=this._addAfter(new na(e,s),i,n),t}_verifyReinsertion(t,e,s,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==i?t=this._reinsertAfter(i,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,i=t._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(t,e,s),this._addToMoves(t,s),t}_moveAfter(t,e,s){return this._unlink(t),this._insertAfter(t,e,s),this._addToMoves(t,s),t}_addAfter(t,e,s){return this._insertAfter(t,e,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,s){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ra),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,s=t._next;return null===e?this._itHead=s:e._next=s,null===s?this._itTail=e:s._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ra),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class na{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ia{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===e||e<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const e=t._prevDup,s=t._nextDup;return null===e?this._head=s:e._nextDup=s,null===s?this._tail=e:s._prevDup=e,null===this._head}}class ra{constructor(){this.map=new Map}put(t){const e=t.trackById;let s=this.map.get(e);s||(s=new ia,this.map.set(e,s)),s.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oa(t,e,s){const n=t.previousIndex;if(null===n)return n;let i=0;return s&&n<s.length&&(i=s[n]),n+e+i}class aa{constructor(){}supports(t){return t instanceof Map||ro(t)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ro(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(s,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const s=t._prev;return e._next=t,e._prev=s,t._prev=e,s&&(s._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const n=s._prev,i=s._next;return n&&(n._next=i),i&&(i._prev=n),s._next=null,s._prev=null,s}const s=new ha(t);return this._records.set(t,s),s.currentValue=e,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(s=>e(t[s],s))}}class ha{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ca(){return new ua([new ta])}let ua=(()=>{class t{constructor(t){this.factories=t}static create(e,s){if(null!=s){const t=s.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:s=>t.create(e,s||ca()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${s=t,s.name||typeof s}'`);var s}}return t.\u0275prov=gt({token:t,providedIn:"root",factory:ca}),t})();function da(){return new pa([new aa])}let pa=(()=>{class t{constructor(t){this.factories=t}static create(e,s){if(s){const t=s.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:s=>t.create(e,s||da()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=gt({token:t,providedIn:"root",factory:da}),t})();function fa(t,e,s,n,i=!1){for(;null!==s;){const r=e[s.index];if(null!==r&&n.push(we(r)),re(r))for(let t=ne;t<r.length;t++){const e=r[t],s=e[1].firstChild;null!==s&&fa(e[1],e,s,n)}const o=s.type;if(8&o)fa(t,e,s.child,n);else if(32&o){const t=ri(s,e);let i;for(;i=t();)n.push(i)}else if(16&o){const t=Ci(e,s);if(Array.isArray(t))n.push(...t);else{const s=oi(e[16]);fa(s[1],s,t,n,!0)}}s=i?s.projectionNext:s.next}return n}class ga{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return fa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(re(t)){const e=t[8],s=e?e.indexOf(this):-1;s>-1&&(pi(t,s),Ys(e,s))}this._attachedToViewContainer=!1}fi(this._lView[1],this._lView)}onDestroy(t){cr(this._lView[1],this._lView,null,t)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=oi(t);if(ce(t)&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,s){He(!0);try{Tr(t,e,s)}finally{He(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Ei(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ma extends ga{constructor(t){super(t),this._view=t}detectChanges(){Er(this._view)}checkNoChanges(){!function(t){He(!0);try{Er(t)}finally{He(!1)}}(this._view)}get context(){return null}}const ya=[new aa],xa=new ua([new ta]),va=new pa(ya),ba=function(){return ka(Fe(),Le())};let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=ba,t})();const wa=_a,Sa=class extends wa{constructor(t,e,s){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=s}createEmbeddedView(t){const e=this._declarationTContainer.tViews,s=Ji(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(s[19]=n.createEmbeddedView(e)),sr(e,s,t),new ga(s)}};function ka(t,e){return 4&t.type?new Sa(e,t,$o(t,e)):null}class Ca{}const Aa=function(){return Ra(Fe(),Le())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t})();const Ea=Ta,Ma=class extends Ea{constructor(t,e,s){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=s}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ps(this._hostTNode,this._hostLView);if(_s(t)){const e=Ss(t,this._hostLView),s=ws(t);return new Hs(e[1].data[s+8],e)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Pa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ne}createEmbeddedView(t,e,s){const n=t.createEmbeddedView(e||{});return this.insert(n,s),n}createComponent(t,e,s,n,i){const r=s||this.parentInjector;if(!i&&null==t.ngModule&&r){const t=r.get(Ca,null);t&&(i=t)}const o=t.create(r,n,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const s=t._lView,n=s[1];if(re(s[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=s[3],n=new Ma(e,e[6],e[3]);n.detach(n.indexOf(t))}}const i=this._adjustIndex(e),r=this._lContainer;!function(t,e,s,n){const i=ne+n,r=s.length;n>0&&(s[i-1][4]=e),n<r-ne?(e[4]=s[i],Xs(s,ne+n,e)):(s.push(e),e[4]=null),e[3]=s;const o=e[17];null!==o&&s!==o&&function(t,e){const s=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===s?t[9]=[e]:s.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(n,s,r,i);const o=Ai(i,r),a=s[11],l=bi(a,r[7]);return null!==l&&function(t,e,s,n,i,r){n[0]=i,n[6]=e,Ei(t,n,s,1,i,r)}(n,r[6],a,s,l,o),t.attachToViewContainerRef(),Xs(Ia(r),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Pa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),s=pi(this._lContainer,e);s&&(Ys(Ia(this._lContainer),e),fi(s[1],s))}detach(t){const e=this._adjustIndex(t,-1),s=pi(this._lContainer,e);return s&&null!=Ys(Ia(this._lContainer),e)?new ga(s):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Pa(t){return t[8]}function Ia(t){return t[8]||(t[8]=[])}function Ra(t,e){let s;const n=e[t.index];if(re(n))s=n;else{let i;if(8&t.type)i=we(n);else{const s=e[11];i=s.createComment("");const n=ke(t,e);yi(s,bi(s,n),i,function(t,e){return be(t)?t.nextSibling(e):e.nextSibling}(s,n),!1)}e[t.index]=s=wr(n,e,i,t),Ar(e,s)}return new Ma(s,t,e)}const Oa={};class La extends Ho{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=te(t);return new Na(e,this.ngModule)}}function Da(t){const e=[];for(let s in t)t.hasOwnProperty(s)&&e.push({propName:t[s],templateName:s});return e}const Fa=new Ws("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>si});class Na extends Vo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Da(this.componentDef.inputs)}get outputs(){return Da(this.componentDef.outputs)}create(t,e,s,n){const i=(n=n||this.ngModule)?function(t,e){return{get:(s,n,i)=>{const r=t.get(s,Oa,i);return r!==Oa||n===Oa?r:e.get(s,n,i)}}}(t,n.injector):t,r=i.get(Qo,_e),o=i.get(Yo,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=s?function(t,e,s){if(be(t))return t.selectRootElement(e,s===Pt.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(a,s,this.componentDef.encapsulation):ui(r.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?xe:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,u={components:[],scheduler:si,clean:Pr,playerHandler:null,flags:0},d=hr(0,null,null,1,0,null,null,null,null,null),p=Ji(null,d,u,c,null,null,r,a,o,i);let f,g;Ke(p);try{const t=function(t,e,s,n,i,r){const o=s[1];s[20]=t;const a=tr(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Or(a,l,!0),null!==t&&(ms(i,t,l),null!==a.classes&&Ii(i,t,a.classes),null!==a.styles&&Pi(i,t,a.styles)));const h=n.createRenderer(t,e),c=Ji(s,lr(e),null,e.onPush?64:16,s[20],a,n,h,null,null);return o.firstCreatePass&&(Is(Ts(a,s),o,e.type),gr(o,a),yr(a,s.length,1)),Ar(s,c),s[20]=c}(h,this.componentDef,p,r,a);if(h)if(s)ms(a,h,["ng-version",Jo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],s=[];let n=1,i=2;for(;n<t.length;){let r=t[n];if("string"==typeof r)2===i?""!==r&&e.push(r,t[++n]):8===i&&s.push(r);else{if(!Bi(i))break;i=r}n++}return{attrs:e,classes:s}}(this.componentDef.selectors[0]);t&&ms(a,h,t),e&&e.length>0&&Ii(a,h,e.join(" "))}if(g=Ce(d,se),void 0!==e){const t=g.projection=[];for(let s=0;s<this.ngContentSelectors.length;s++){const n=e[s];t.push(null!=n?Array.from(n):null)}}f=function(t,e,s,n,i){const r=s[1],o=function(t,e,s){const n=Fe();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),xr(t,n,e,er(t,e,1,null),s));const i=zs(e,t,n.directiveStart,n);Yn(i,e);const r=ke(n,e);return r&&Yn(r,e),i}(r,s,e);if(n.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Fe();e.contentQueries(1,o,t.directiveStart)}const a=Fe();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(rs(a.index),pr(s[1],a,0,a.directiveStart,a.directiveEnd,e),fr(e,o)),o}(t,this.componentDef,p,u,[Zr]),sr(d,p,null)}finally{ns()}return new Ba(this.componentType,f,$o(g,p),p,g)}}class Ba extends class{}{constructor(t,e,s,n,i){super(),this.location=s,this._rootLView=n,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ma(n),this.componentType=t}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const za=new Map;class Va extends Ca{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new La(this);const s=ee(t),n=t[Ht]||null;n&&zo(n),this._bootstrapComponents=ni(s.bootstrap),this._r3Injector=jr(t,e,[{provide:Ca,useValue:this},{provide:Ho,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Qr.THROW_IF_NOT_FOUND,s=kt.Default){return t===Qr||t===Ca||t===Lr?this:this._r3Injector.get(t,e,s)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ja extends class{}{constructor(t){super(),this.moduleType=t,null!==ee(t)&&function(t){const e=new Set;!function t(s){const n=ee(s,!0),i=n.id;null!==i&&(function(t,e,s){if(e&&e!==s)throw new Error(`Duplicate module registered for ${t} - ${rt(e)} vs ${rt(e.name)}`)}(i,za.get(i),s),za.set(i,s));const r=ni(n.imports);for(const o of r)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Va(this.moduleType,t)}}function Ha(t,e){const s=De();let n;const i=t+se;s.firstCreatePass?(n=function(t,e){if(e)for(let s=e.length-1;s>=0;s--){const n=e[s];if(t===n.name)return n}throw new ut("302",`The pipe '${t}' could not be found!`)}(e,s.pipeRegistry),s.data[i]=n,n.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(i,n.onDestroy)):n=s.data[i];const r=n.factory||(n.factory=ue(n.type)),o=At(ho);try{const t=Cs(!1),e=r();return Cs(t),function(t,e,s,n){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),e[s]=n}(s,Le(),i,e),e}finally{At(o)}}function Ua(t,e,s){const n=t+se,i=Le(),r=function(t,e){return t[e]}(i,n);return function(t,e){return no.isWrapped(e)&&(e=no.unwrap(e),t[Ue()]=Ui),e}(i,function(t,e){return t[1].data[e].pure}(i,n)?function(t,e,s,n,i,r){const o=e+s;return oo(t,o,i)?function(t,e,s){return t[e]=s}(t,o+1,r?n.call(r,i):n(i)):function(t,e){const s=t[e];return s===Ui?void 0:s}(t,o+1)}(i,function(){const t=Re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,r.transform,s,r):r.transform(s))}function $a(t){return e=>{setTimeout(t,void 0,e)}}const qa=class extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,s){var n,i,r;let o=t,a=e||(()=>null),l=s;if(t&&"object"==typeof t){const e=t;o=null===(n=e.next)||void 0===n?void 0:n.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),l=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}this.__isAsync&&(a=$a(a),o&&(o=$a(o)),l&&(l=$a(l)));const h=super.subscribe({next:o,error:a,complete:l});return t instanceof m&&t.add(h),h}};function Ga(){return this._results[so()]()}class Wa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=so(),s=Wa.prototype;s[e]||(s[e]=Ga)}get changes(){return this._changes||(this._changes=new qa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const s=this;s.dirty=!1;const n=Qs(t);(this._changesDetected=!function(t,e,s){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],r=e[n];if(s&&(i=s(i),r=s(r)),r!==i)return!1}return!0}(s._results,n,e))&&(s._results=n,s.length=n.length,s.last=n[this.length-1],s.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Qa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Qa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Za{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const s=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let t=0;t<s;t++){const s=e.getByIndex(t);n.push(this.queries[s.indexInDeclarationView].clone())}return new Za(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==il(t,e).matches&&this.queries[e].setDirty()}}class Xa{constructor(t,e,s=null){this.predicate=t,this.flags=e,this.read=s}}class Ya{constructor(t=[]){this.queries=t}elementStart(t,e){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let s=0;s<this.length;s++){const n=null!==e?e.length:0,i=this.getByIndex(s).embeddedTView(t,n);i&&(i.indexInDeclarationView=s,null!==e?e.push(i):e=[i])}return null!==e?new Ya(e):null}template(t,e){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ka{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ka(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==e;)s=s.parent;return e===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const s=this.metadata.predicate;if(Array.isArray(s))for(let n=0;n<s.length;n++){const i=s[n];this.matchTNodeWithReadOption(t,e,Ja(e,i)),this.matchTNodeWithReadOption(t,e,Bs(e,t,i,!1,!1))}else s===_a?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Bs(e,t,s,!1,!1))}matchTNodeWithReadOption(t,e,s){if(null!==s){const n=this.metadata.read;if(null!==n)if(n===Go||n===Ta||n===_a&&4&e.type)this.addMatch(e.index,-2);else{const s=Bs(e,t,n,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,s)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ja(t,e){const s=t.localNames;if(null!==s)for(let n=0;n<s.length;n+=2)if(s[n]===e)return s[n+1];return null}function tl(t,e,s,n){return-1===s?function(t,e){return 11&t.type?$o(t,e):4&t.type?ka(t,e):null}(e,t):-2===s?function(t,e,s){return s===Go?$o(e,t):s===_a?ka(e,t):s===Ta?Ra(e,t):void 0}(t,e,n):zs(t,t[1],s,e)}function el(t,e,s,n){const i=e[19].queries[n];if(null===i.matches){const n=t.data,r=s.matches,o=[];for(let t=0;t<r.length;t+=2){const i=r[t];o.push(i<0?null:tl(e,n[i],r[t+1],s.metadata.read))}i.matches=o}return i.matches}function sl(t,e,s,n){const i=t.queries.getByIndex(s),r=i.matches;if(null!==r){const o=el(t,e,i,s);for(let t=0;t<r.length;t+=2){const s=r[t];if(s>0)n.push(o[t/2]);else{const i=r[t+1],o=e[-s];for(let t=ne;t<o.length;t++){const e=o[t];e[17]===e[3]&&sl(e[1],e,i,n)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const s=t[e];sl(s[1],s,i,n)}}}}}return n}function nl(t){const e=Le(),s=De(),n=Qe();Ze(n+1);const i=il(s,n);if(t.dirty&&Te(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const r=i.crossesNgTemplate?sl(s,e,n,[]):el(s,e,i,n);t.reset(r,Wo),t.notifyOnChanges()}return!0}return!1}function il(t,e){return t.queries.getByIndex(e)}const rl=new Ws("Application Initializer");let ol=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Uo,this.reject=Uo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(mo(e))t.push(e);else if((s=e)&&"function"==typeof s.subscribe){const s=new Promise((t,s)=>{e.subscribe({complete:t,error:s})});t.push(s)}}var s;Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(cn(rl,8))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const al=new Ws("AppId"),ll={provide:al,useFactory:function(){return`${hl()}${hl()}${hl()}`},deps:[]};function hl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cl=new Ws("Platform Initializer"),ul=new Ws("Platform ID"),dl=new Ws("appBootstrapListener");let pl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const fl=new Ws("LocaleId"),gl=new Ws("DefaultCurrencyCode");class ml{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const yl=function(t){return new ja(t)},xl=yl,vl=function(t){return Promise.resolve(yl(t))},bl=function(t){const e=yl(t),s=ni(ee(t).declarations).reduce((t,e)=>{const s=te(e);return s&&t.push(new Na(s)),t},[]);return new ml(e,s)},_l=bl,wl=function(t){return Promise.resolve(bl(t))};let Sl=(()=>{class t{constructor(){this.compileModuleSync=xl,this.compileModuleAsync=vl,this.compileModuleAndAllComponentsSync=_l,this.compileModuleAndAllComponentsAsync=wl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const kl=(()=>Promise.resolve(0))();function Cl(t){"undefined"==typeof Zone?kl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Al{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!s&&e,n.shouldCoalesceRunChangeDetection=s,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Dt.requestAnimationFrame,e=Dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ml(t),t.isCheckStableRunning=!0,El(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ml(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,n,i,r,o,a)=>{try{return Pl(t),s.invokeTask(i,r,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&e(),Il(t)}},onInvoke:(s,n,i,r,o,a,l)=>{try{return Pl(t),s.invoke(i,r,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Il(t)}},onHasTask:(e,s,n,i)=>{e.hasTask(n,i),s===n&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ml(t),El(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,s,n,i)=>(e.handleError(n,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Al.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Al.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,s){return this._inner.run(t,e,s)}runTask(t,e,s,n){const i=this._inner,r=i.scheduleEventTask("NgZoneEvent: "+n,t,Tl,Uo,Uo);try{return i.runTask(r,e,s)}finally{i.cancelTask(r)}}runGuarded(t,e,s){return this._inner.runGuarded(t,e,s)}runOutsideAngular(t){return this._outer.run(t)}}const Tl={};function El(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ml(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Il(t){t._nesting--,El(t)}class Rl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(t,e,s){return t.apply(e,s)}runGuarded(t,e,s){return t.apply(e,s)}runOutsideAngular(t){return t()}runTask(t,e,s,n){return t.apply(e,s)}}let Ol=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Al.assertNotInAngularZone(),Cl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,s){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:s})}whenStable(t,e,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,s){return[]}}return t.\u0275fac=function(e){return new(e||t)(cn(Al))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})(),Ll=(()=>{class t{constructor(){this._applications=new Map,Nl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Nl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class Dl{addToWindow(t){}findTestabilityInTree(t,e,s){return null}}let Fl,Nl=new Dl,Bl=!0,zl=!1;function Vl(){return zl=!0,Bl}const jl=new Ws("AllowMultipleToken");function Hl(t,e,s=[]){const n=`Platform: ${e}`,i=new Ws(n);return(e=[])=>{let r=Ul();if(!r||r.injector.get(jl,!1))if(t)t(s.concat(e).concat({provide:i,useValue:!0}));else{const t=s.concat(e).concat({provide:i,useValue:!0},{provide:Fr,useValue:"platform"});!function(t){if(Fl&&!Fl.destroyed&&!Fl.injector.get(jl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fl=t.get($l);const e=t.get(cl,null);e&&e.forEach(t=>t())}(Qr.create({providers:t,name:n}))}return function(t){const e=Ul();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ul(){return Fl&&!Fl.destroyed?Fl:null}let $l=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const s=function(t,e){let s;return s="noop"===t?new Rl:("zone.js"===t?void 0:t)||new Al({enableLongStackTrace:Vl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),s}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),n=[{provide:Al,useValue:s}];return s.run(()=>{const e=Qr.create({providers:n,parent:this.injector,name:t.moduleType.name}),i=t.create(e),r=i.injector.get(ei,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.runOutsideAngular(()=>{const t=s.onError.subscribe({next:t=>{r.handleError(t)}});i.onDestroy(()=>{Wl(this._modules,i),t.unsubscribe()})}),function(t,e,s){try{const n=s();return mo(n)?n.catch(s=>{throw e.runOutsideAngular(()=>t.handleError(s)),s}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(r,s,()=>{const t=i.injector.get(ol);return t.runInitializers(),t.donePromise.then(()=>(zo(i.injector.get(fl,No)||No),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const s=ql({},e);return function(t,e,s){const n=new ja(s);return Promise.resolve(n)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,s))}_moduleDoBootstrap(t){const e=t.injector.get(Gl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${rt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(cn(Qr))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();function ql(t,e){return Array.isArray(e)?e.reduce(ql,t):Object.assign(Object.assign({},t),e)}let Gl=(()=>{class t{constructor(t,e,s,n,i){this._zone=t,this._injector=e,this._exceptionHandler=s,this._componentFactoryResolver=n,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new S(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new S(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Al.assertNotInAngularZone(),Cl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const s=this._zone.onUnstable.subscribe(()=>{Al.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),s.unsubscribe()}});this.isStable=Q(r,o.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=t instanceof Vo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const n=s.isBoundToModule?void 0:this._injector.get(Ca),i=s.create(Qr.NULL,[],e||s.selector,n),r=i.location.nativeElement,o=i.injector.get(Ol,null),a=o&&i.injector.get(Ll);return o&&a&&a.registerApplication(r,o),i.onDestroy(()=>{this.detachView(i.hostView),Wl(this.components,i),a&&a.unregisterApplication(r)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(dl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(cn(Al),cn(Qr),cn(ei),cn(Ho),cn(ol))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();function Wl(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Ql=Hl(null,"core",[{provide:ul,useValue:"unknown"},{provide:$l,deps:[Qr]},{provide:Ll,deps:[]},{provide:pl,deps:[]}]),Zl=[{provide:Gl,useClass:Gl,deps:[Al,Qr,ei,Ho,ol]},{provide:Fa,deps:[Al],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ol,useClass:ol,deps:[[new gn,rl]]},{provide:Sl,useClass:Sl,deps:[]},ll,{provide:ua,useFactory:function(){return xa},deps:[]},{provide:pa,useFactory:function(){return va},deps:[]},{provide:fl,useFactory:function(t){return zo(t=t||"undefined"!=typeof $localize&&$localize.locale||No),t},deps:[[new fn(fl),new gn,new mn]]},{provide:gl,useValue:"USD"}];let Xl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(cn(Gl))},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:Zl}),t})(),Yl=null;function Kl(){return Yl}const Jl=new Ws("DocumentToken");var th=(()=>((th=th||{})[th.Decimal=0]="Decimal",th[th.Percent=1]="Percent",th[th.Currency=2]="Currency",th[th.Scientific=3]="Scientific",th))(),eh=(()=>((eh=eh||{})[eh.Zero=0]="Zero",eh[eh.One=1]="One",eh[eh.Two=2]="Two",eh[eh.Few=3]="Few",eh[eh.Many=4]="Many",eh[eh.Other=5]="Other",eh))(),sh=(()=>((sh=sh||{})[sh.Decimal=0]="Decimal",sh[sh.Group=1]="Group",sh[sh.List=2]="List",sh[sh.PercentSign=3]="PercentSign",sh[sh.PlusSign=4]="PlusSign",sh[sh.MinusSign=5]="MinusSign",sh[sh.Exponential=6]="Exponential",sh[sh.SuperscriptingExponent=7]="SuperscriptingExponent",sh[sh.PerMille=8]="PerMille",sh[sh[1/0]=9]="Infinity",sh[sh.NaN=10]="NaN",sh[sh.TimeSeparator=11]="TimeSeparator",sh[sh.CurrencyDecimal=12]="CurrencyDecimal",sh[sh.CurrencyGroup=13]="CurrencyGroup",sh))();function nh(t,e){const s=Lo(t),n=s[Fo.NumberSymbols][e];if(void 0===n){if(e===sh.CurrencyDecimal)return s[Fo.NumberSymbols][sh.Decimal];if(e===sh.CurrencyGroup)return s[Fo.NumberSymbols][sh.Group]}return n}const ih=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rh=".",oh="0";function ah(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class lh{}let hh=(()=>{class t extends lh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Lo(t)[Fo.PluralCase]}(e||this.locale)(t)){case eh.Zero:return"zero";case eh.One:return"one";case eh.Two:return"two";case eh.Few:return"few";case eh.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(cn(fl))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class ch{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let uh=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),dh=(()=>{class t{constructor(t,e,s){this.ngSwitch=s,s._addCase(),this._view=new ch(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(ho(Ta),ho(_a),ho(uh,9))},t.\u0275dir=Kt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),ph=(()=>{class t{constructor(t,e,s){this._ngEl=t,this._differs=e,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[s,n]=t.split(".");null!=(e=null!=e&&n?`${e}${n}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,s,e):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ho(Go),ho(pa),ho(Zo))},t.\u0275dir=Kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),fh=(()=>{class t{constructor(t){this._locale=t}transform(e,s,n){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;n=n||this._locale;try{return function(t,e,s){return function(t,e,s,n,i,r,o=!1){let a="",l=!1;if(isFinite(t)){let h=function(t){let e,s,n,i,r,o=Math.abs(t)+"",a=0;for((s=o.indexOf(rh))>-1&&(o=o.replace(rh,"")),(n=o.search(/e/i))>0?(s<0&&(s=n),s+=+o.slice(n+1),o=o.substring(0,n)):s<0&&(s=o.length),n=0;o.charAt(n)===oh;n++);if(n===(r=o.length))e=[0],s=1;else{for(r--;o.charAt(r)===oh;)r--;for(s-=n,e=[],i=0;n<=r;n++,i++)e[i]=Number(o.charAt(n))}return s>22&&(e=e.splice(0,21),a=s-1,s=1),{digits:e,exponent:a,integerLen:s}}(t);o&&(h=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(h));let c=e.minInt,u=e.minFrac,d=e.maxFrac;if(r){const t=r.match(ih);if(null===t)throw new Error(`${r} is not a valid digit info`);const e=t[1],s=t[3],n=t[5];null!=e&&(c=ah(e)),null!=s&&(u=ah(s)),null!=n?d=ah(n):null!=s&&u>d&&(d=u)}!function(t,e,s){if(e>s)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${s}).`);let n=t.digits,i=n.length-t.integerLen;const r=Math.min(Math.max(e,i),s);let o=r+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let t=o;t<n.length;t++)n[t]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,o=r+1),n[0]=0;for(let t=1;t<o;t++)n[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;i<Math.max(0,r);i++)n.push(0);let l=0!==r;const h=e+t.integerLen,c=n.reduceRight(function(t,e,s,n){return n[s]=(e+=t)<10?e:e-10,l&&(0===n[s]&&s>=h?n.pop():l=!1),e>=10?1:0},0);c&&(n.unshift(c),t.integerLen++)}(h,u,d);let p=h.digits,f=h.integerLen;const g=h.exponent;let m=[];for(l=p.every(t=>!t);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const y=[];for(p.length>=e.lgSize&&y.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)y.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(nh(s,n)),m.length&&(a+=nh(s,i)+m.join("")),g&&(a+=nh(s,sh.Exponential)+"+"+g)}else a=nh(s,sh.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const s={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(";"),i=n[0],r=n[1],o=-1!==i.indexOf(rh)?i.split(rh):[i.substring(0,i.lastIndexOf(oh)+1),i.substring(i.lastIndexOf(oh)+1)],a=o[0],l=o[1]||"";s.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const t=l.charAt(c);t===oh?s.minFrac=s.maxFrac=c+1:"#"===t?s.maxFrac=c+1:s.posSuf+=t}const h=a.split(",");if(s.gSize=h[1]?h[1].length:0,s.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,r){const t=i.length-s.posPre.length-s.posSuf.length,e=r.indexOf("#");s.negPre=r.substr(0,e).replace(/'/g,""),s.negSuf=r.substr(e+t).replace(/'/g,"")}else s.negPre=e+s.posPre,s.negSuf=s.posSuf;return s}(function(t,e){return Lo(t)[Fo.NumberFormats][e]}(e,th.Decimal),nh(e,sh.MinusSign)),e,sh.Group,sh.Decimal,s)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),n,s)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${rt(t)}'`)}(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(ho(fl,16))},t.\u0275pipe=Jt({name:"number",type:t,pure:!0}),t})(),gh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:[{provide:lh,useClass:hh}]}),t})();function mh(t){return"browser"===t}function yh(t){return"server"===t}class xh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new xh,Yl||(Yl=t)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(bh=bh||document.querySelector("base"),bh?bh.getAttribute("href"):null);return null==e?null:function(t){vh=vh||document.createElement("a"),vh.setAttribute("href",t);const e=vh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){bh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const s of t.split(";")){const t=s.indexOf("="),[n,i]=-1==t?[s,""]:[s.slice(0,t),s.slice(t+1)];if(n.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let vh,bh=null;const _h=new Ws("TRANSITION_ID"),wh=[{provide:rl,useFactory:function(t,e,s){return()=>{s.get(ol).donePromise.then(()=>{const s=Kl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>s.remove(t))})}},deps:[_h,Jl,Qr],multi:!0}];class Sh{static init(){!function(t){Nl=t}(new Sh)}addToWindow(t){Dt.getAngularTestability=(e,s=!0)=>{const n=t.findTestabilityInTree(e,s);if(null==n)throw new Error("Could not find testability for element.");return n},Dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dt.getAllAngularRootElements=()=>t.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(t=>{const e=Dt.getAllAngularTestabilities();let s=e.length,n=!1;const i=function(e){n=n||e,s--,0==s&&t(n)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:s?Kl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let kh=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const Ch=new Ws("EventManagerPlugins");let Ah=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,s){return this._findPluginFor(e).addEventListener(t,e,s)}addGlobalEventListener(t,e,s){return this._findPluginFor(e).addGlobalEventListener(t,e,s)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const s=this._plugins;for(let n=0;n<s.length;n++){const e=s[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(cn(Ch),cn(Al))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class Th{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const n=Kl().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,s)}}let Eh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})(),Mh=(()=>{class t extends Eh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,s){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,s.push(e.appendChild(n))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Ph),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,s)=>{this._addStylesToHost(t,s,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ph))}}return t.\u0275fac=function(e){return new(e||t)(cn(Jl))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();function Ph(t){Kl().remove(t)}const Ih={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rh=/%COMP%/g;function Oh(t,e,s){for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?Oh(t,i,s):(i=i.replace(Rh,t),s.push(i))}return s}function Lh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dh=(()=>{class t{constructor(t,e,s){this.eventManager=t,this.sharedStylesHost=e,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Fh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Pt.Emulated:{let s=this.rendererByCompId.get(e.id);return s||(s=new Nh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,s)),s.applyToHost(t),s}case 1:case Pt.ShadowDom:return new Bh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Oh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(cn(Ah),cn(Mh),cn(al))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class Fh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ih[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,n){if(n){e=n+":"+e;const i=Ih[n];i?t.setAttributeNS(i,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const n=Ih[s];n?t.removeAttributeNS(n,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,n){n&(ii.DashCase|ii.Important)?t.style.setProperty(e,s,n&ii.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&ii.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Lh(s)):this.eventManager.addEventListener(t,e,Lh(s))}}class Nh extends Fh{constructor(t,e,s,n){super(t),this.component=s;const i=Oh(n+"-"+s.id,s.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Rh,n+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(Rh,n+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Bh extends Fh{constructor(t,e,s,n){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Oh(n.id,n.styles,[]);for(let r=0;r<i.length;r++){const t=document.createElement("style");t.textContent=i[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zh=(()=>{class t extends Th{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,s){return t.addEventListener(e,s,!1),()=>this.removeEventListener(t,e,s)}removeEventListener(t,e,s){return t.removeEventListener(e,s)}}return t.\u0275fac=function(e){return new(e||t)(cn(Jl))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const Vh=["alt","control","meta","shift"],jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Uh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $h=(()=>{class t extends Th{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,s,n){const i=t.parseEventName(s),r=t.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kl().onAndCancel(e,i.domEventName,r))}static parseEventName(e){const s=e.toLowerCase().split("."),n=s.shift();if(0===s.length||"keydown"!==n&&"keyup"!==n)return null;const i=t._normalizeKey(s.pop());let r="";if(Vh.forEach(t=>{const e=s.indexOf(t);e>-1&&(s.splice(e,1),r+=t+".")}),r+=i,0!=s.length||0===i.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(t){let e="",s=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Hh.hasOwnProperty(e)&&(e=Hh[e]))}return jh[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Vh.forEach(n=>{n!=s&&(0,Uh[n])(t)&&(e+=n+".")}),e+=s,e}static eventCallback(e,s,n){return i=>{t.getEventFullKey(i)===e&&n.runGuarded(()=>s(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(cn(Jl))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})(),qh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({factory:function(){return cn(Wh)},token:t,providedIn:"root"}),t})();function Gh(t){return new Wh(t.get(Jl))}let Wh=(()=>{class t extends qh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Xn.NONE:return e;case Xn.HTML:return An(e,"HTML")?Cn(e):function(t,e){let s=null;try{Qn=Qn||function(t){const e=new Mn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new En(e):e}(t);let n=e?String(e):"";s=Qn.getInertBodyElement(n);let i=5,r=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=r,r=s.innerHTML,s=Qn.getInertBodyElement(n)}while(n!==r);return xn((new $n).sanitizeChildren(Zn(s)||s))}finally{if(s){const t=Zn(s)||s;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)).toString();case Xn.STYLE:return An(e,"Style")?Cn(e):e;case Xn.SCRIPT:if(An(e,"Script"))return Cn(e);throw new Error("unsafe value used in a script context");case Xn.URL:return Tn(e),An(e,"URL")?Cn(e):Rn(String(e));case Xn.RESOURCE_URL:if(An(e,"ResourceURL"))return Cn(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new bn(t)}bypassSecurityTrustStyle(t){return new _n(t)}bypassSecurityTrustScript(t){return new wn(t)}bypassSecurityTrustUrl(t){return new Sn(t)}bypassSecurityTrustResourceUrl(t){return new kn(t)}}return t.\u0275fac=function(e){return new(e||t)(cn(Jl))},t.\u0275prov=gt({factory:function(){return Gh(cn(Lr))},token:t,providedIn:"root"}),t})();const Qh=Hl(Ql,"browser",[{provide:ul,useValue:"browser"},{provide:cl,useValue:function(){xh.makeCurrent(),Sh.init()},multi:!0},{provide:Jl,useFactory:function(){return function(t){ve=t}(document),document},deps:[]}]),Zh=[[],{provide:Fr,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:Ch,useClass:zh,multi:!0,deps:[Jl,Al,ul]},{provide:Ch,useClass:$h,multi:!0,deps:[Jl]},[],{provide:Dh,useClass:Dh,deps:[Ah,Mh,al]},{provide:Qo,useExisting:Dh},{provide:Eh,useExisting:Mh},{provide:Mh,useClass:Mh,deps:[Jl]},{provide:Ol,useClass:Ol,deps:[Al]},{provide:Ah,useClass:Ah,deps:[Ch,Al]},{provide:class{},useClass:kh,deps:[]},[]];let Xh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:al,useValue:e.appId},{provide:_h,useExisting:al},wh]}}}return t.\u0275fac=function(e){return new(e||t)(cn(t,12))},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:Zh,imports:[gh,Xl]}),t})();function Yh(){}function Kh(t,e,s){return function(n){return n.lift(new Jh(t,e,s))}}"undefined"!=typeof window&&window;class Jh{constructor(t,e,s){this.nextOrObserver=t,this.error=e,this.complete=s}call(t,e){return e.subscribe(new tc(t,this.nextOrObserver,this.error,this.complete))}}class tc extends v{constructor(t,e,s,n){super(t),this._tapNext=Yh,this._tapError=Yh,this._tapComplete=Yh,this._tapError=s||Yh,this._tapComplete=n||Yh,l(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Yh,this._tapError=e.error||Yh,this._tapComplete=e.complete||Yh)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class ec extends m{constructor(t,e){super()}schedule(t,e=0){return this}}class sc extends ec{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,n=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(n,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,n=!1;try{this.work(t)}catch(i){n=!0,s=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,n=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&s.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let nc=(()=>{class t{constructor(e,s=t.now){this.SchedulerAction=e,this.now=s}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}return t.now=()=>Date.now(),t})();class ic extends nc{constructor(t,e=nc.now){super(t,()=>ic.delegate&&ic.delegate!==this?ic.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return ic.delegate&&ic.delegate!==this?ic.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}const rc=new ic(sc);function oc(t){return!p(t)&&t-parseFloat(t)+1>=0}function ac(t){const{index:e,period:s,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===s)return n.complete();t.index=e+1,this.schedule(t,s)}}function lc(...t){let e=t[t.length-1];return P(e)?(t.pop(),z(t,e)):W(t)}function hc(t){return function(e){const s=new cc(t),n=e.lift(s);return s.caught=n}}class cc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new uc(t,this.selector,this.caught))}}class uc extends H{constructor(t,e,s){super(t),this.selector=e,this.caught=s}error(t){if(!this.isStopped){let s;try{s=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new j(this);this.add(n);const i=U(s,n);i!==n&&this.add(i)}}}class dc{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new pc(t,this.notifier,this.source))}}class pc extends H{constructor(t,e,s){super(t),this.notifier=e,this.source=s}error(t){if(!this.isStopped){let s=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{s=new E;try{const{notifier:t}=this;n=t(s)}catch(e){return super.error(e)}i=U(n,new j(this))}this._unsubscribeAndRecycle(),this.errors=s,this.retries=n,this.retriesSubscription=i,s.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}const fc=new class extends ic{}(class extends sc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,e,s):t.flush(this)}}),gc=new S(t=>t.complete());function mc(t){return t?function(t){return new S(e=>t.schedule(()=>e.complete()))}(t):gc}function yc(t,e){return new S(e?s=>e.schedule(xc,0,{error:t,subscriber:s}):e=>e.error(t))}function xc({error:t,subscriber:e}){e.error(t)}class vc{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return lc(this.value);case"E":return yc(this.error);case"C":return mc()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new vc("N",t):vc.undefinedValueNotification}static createError(t){return new vc("E",void 0,t)}static createComplete(){return vc.completeNotification}}vc.completeNotification=new vc("C"),vc.undefinedValueNotification=new vc("N",void 0);class bc extends v{constructor(t,e,s=0){super(t),this.scheduler=e,this.delay=s}static dispatch(t){const{notification:e,destination:s}=t;e.observe(s),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(bc.dispatch,this.delay,new _c(t,this.destination)))}_next(t){this.scheduleMessage(vc.createNext(t))}_error(t){this.scheduleMessage(vc.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(vc.createComplete()),this.unsubscribe()}}class _c{constructor(t,e){this.notification=t,this.destination=e}}class wc extends E{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Sc(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,i=s.length;let r;if(this.closed)throw new C;if(this.isStopped||this.hasError?r=m.EMPTY:(this.observers.push(t),r=new A(this,t)),n&&t.add(t=new bc(t,n)),e)for(let o=0;o<i&&!t.closed;o++)t.next(s[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(s[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||fc).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,n=this._events,i=n.length;let r=0;for(;r<i&&!(t-n[r].time<s);)r++;return i>e&&(r=Math.max(r,i-e)),r>0&&n.splice(0,r),n}}class Sc{constructor(t,e){this.time=t,this.value=e}}const kc={url:"",deserializer:t=>JSON.parse(t.data),serializer:t=>JSON.stringify(t)};class Cc extends M{constructor(t,e){if(super(),t instanceof S)this.destination=e,this.source=t;else{const e=this._config=Object.assign({},kc);if(this._output=new E,"string"==typeof t)e.url=t;else for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);if(!e.WebSocketCtor&&WebSocket)e.WebSocketCtor=WebSocket;else if(!e.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new wc}}lift(t){const e=new Cc(this._config,this.destination);return e.operator=t,e.source=this,e}_resetState(){this._socket=null,this.source||(this.destination=new wc),this._output=new E}multiplex(t,e,s){const n=this;return new S(i=>{try{n.next(t())}catch(o){i.error(o)}const r=n.subscribe(t=>{try{s(t)&&i.next(t)}catch(o){i.error(o)}},t=>i.error(t),()=>i.complete());return()=>{try{n.next(e())}catch(o){i.error(o)}r.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:t,protocol:e,url:s,binaryType:n}=this._config,i=this._output;let r=null;try{r=e?new t(s,e):new t(s),this._socket=r,n&&(this._socket.binaryType=n)}catch(a){return void i.error(a)}const o=new m(()=>{this._socket=null,r&&1===r.readyState&&r.close()});r.onopen=t=>{const{_socket:e}=this;if(!e)return r.close(),void this._resetState();const{openObserver:s}=this._config;s&&s.next(t);const n=this.destination;this.destination=v.create(e=>{if(1===r.readyState)try{const{serializer:t}=this._config;r.send(t(e))}catch(t){this.destination.error(t)}},t=>{const{closingObserver:e}=this._config;e&&e.next(void 0),t&&t.code?r.close(t.code,t.reason):i.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:t}=this._config;t&&t.next(void 0),r.close(),this._resetState()}),n&&n instanceof wc&&o.add(n.subscribe(this.destination))},r.onerror=t=>{this._resetState(),i.error(t)},r.onclose=t=>{this._resetState();const{closeObserver:e}=this._config;e&&e.next(t),t.wasClean?i.complete():i.error(t)},r.onmessage=t=>{try{const{deserializer:e}=this._config;i.next(e(t))}catch(e){i.error(e)}}}_subscribe(t){const{source:e}=this;return e?e.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(()=>{const{_socket:t}=this;0===this._output.observers.length&&(t&&1===t.readyState&&t.close(),this._resetState())}),t)}unsubscribe(){const{_socket:t}=this;t&&1===t.readyState&&t.close(),this._resetState(),super.unsubscribe()}}let Ac=(()=>{class t{constructor(){this.messagesSubject$=new E,this.messages$=this.messagesSubject$.pipe(hc(t=>{throw t}))}connect(){var t;this.socket$&&!this.socket$.closed||(this.socket$=this.getNewWebSocket(),this.socket$.pipe((t=(({retryTime:t=5e3}={})=>e=>e.pipe($((e,s)=>(console.log("Failed to connect. Retrying..."),function(t=0,e,s){let n=-1;return oc(e)?n=Number(e)<1?1:Number(e):P(e)&&(s=e),P(s)||(s=rc),new S(e=>{const i=oc(t)?t:+t-s.now();return s.schedule(ac,i,{index:0,period:n,subscriber:e})})}(t)))))(),e=>e.lift(new dc(t,e))),hc(t=>lc(t))).subscribe({next:t=>{this.messagesSubject$.next(t)},error:t=>{console.log(t)},complete:()=>{console.log("done")}}))}getNewWebSocket(){return new Cc("ws://localhost:8085/AudicaStats")}sendMessage(t){this.socket$.next(t)}close(){this.socket$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tc=(()=>{class t{constructor(t){this.service=t,this.songPlayerStatus={score:0,health:1,scoreMultiplier:1,streak:0,highScore:0,isFullComboSoFar:!0,isNoFailMode:!1,isPracticeMode:!1,songSpeed:1},this.songProgress={currentTick:0,progress:0,timeElapsed:"",timeRemaining:""},this.songInfo={songId:"",songName:"",songArtist:"",songAuthor:"",songLength:0,ticksTotal:0,difficulty:"",classification:""},this.targetCounters={targetHits:[],targetMisses:[]},this.title="audica-overlay",this.showStats=!1,"1"==this.getQueryVariable("show-stats")&&(this.showStats=!0),this.service.connect(),this.service.messages$.pipe(Kh(t=>{switch(t.eventType){case"SongProgress":this.processSongProgressEvent(t);break;case"SongSelected":this.processSongSelected(t);break;case"SongPlayerStatus":this.processSongPlayerStatus(t);break;case"TargetHit":this.processTargetHit(t);break;case"TargetMiss":this.processTargetMiss(t);break;case"ReturnToSongList":this.resetStats(),this.resetSong();break;case"SongRestart":this.resetStats()}})).subscribe()}resetStats(){this.songPlayerStatus={score:0,health:1,scoreMultiplier:1,streak:0,highScore:0,isFullComboSoFar:!0,isNoFailMode:!1,isPracticeMode:!1,songSpeed:1},this.targetCounters={targetHits:[],targetMisses:[]}}resetSong(){this.songProgress={currentTick:0,progress:0,timeElapsed:"",timeRemaining:""},this.songInfo={songId:"",songName:"",songArtist:"",songAuthor:"",songLength:0,ticksTotal:0,difficulty:"",classification:""}}processSongSelected(t){this.songInfo.songId=t.data.songId,this.songInfo.songName=t.data.songName,this.songInfo.songArtist=t.data.songArtist,this.songInfo.songAuthor=t.data.songAuthor,this.songInfo.songLength=t.data.songLength,this.songInfo.difficulty=t.data.difficulty,this.songInfo.classification=t.data.classification,this.songInfo.ticksTotal=t.data.ticksTotal}processSongProgressEvent(t){this.songProgress.timeElapsed=t.data.timeElapsed,this.songProgress.timeRemaining=t.data.timeRemaining,this.songProgress.progress=t.data.progress,this.songProgress.currentTick=t.data.currentTick}processSongPlayerStatus(t){this.songPlayerStatus.score=t.data.score,this.songPlayerStatus.health=Math.floor(100*t.data.health),this.songPlayerStatus.scoreMultiplier=t.data.scoreMultiplier,this.songPlayerStatus.streak=t.data.streak,this.songPlayerStatus.highScore=t.data.highScore,this.songPlayerStatus.isFullComboSoFar=t.data.isFullComboSoFar,this.songPlayerStatus.isNoFailMode=t.data.isNoFailMode,this.songPlayerStatus.isPracticeMode=t.data.isPracticeMode,this.songPlayerStatus.songSpeed=t.data.songSpeed}processTargetHit(t){this.targetCounters.targetHits.push({hand:t.data.hand,aimScore:t.data.aimScore,targetHitPosition:{x:t.data.targetHitPosition.x,y:t.data.targetHitPosition.y},targetIndex:t.data.targetIndex,tick:t.data.tick,type:t.data.type,score:t.data.score,timingScore:t.data.timingScore})}processTargetMiss(t){this.targetCounters.targetMisses.push({hand:t.data.hand,targetIndex:t.data.targetIndex,type:t.data.type,reason:t.data.reason}),console.log(this.targetCounters.targetMisses)}getQueryVariable(t){for(var e=window.location.search.substring(1).split("&"),s=0;s<e.length;s++){var n=e[s].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return console.log("Query variable %s not found",t),null}}return t.\u0275fac=function(e){return new(e||t)(ho(Ac))},t.\u0275cmp=Gt({type:t,selectors:[["app-root"]],decls:10,vars:11,consts:[["fxLayout","row",1,"overlayBar"],["fxFlex","20%",1,"scores"],[3,"hidden","songPlayerStatus"],["fxFlex","60%",1,"progressArea",3,"hidden"],[1,"stats"],[3,"hidden","songProgress","songPlayerStatus","targetCounters"],[1,"progress"],[3,"hidden","songProgress"],["fxFlex","20%",1,"songDetails"],[3,"hidden","songInfo"]],template:function(t,e){1&t&&(po(0,"div",0),po(1,"div",1),go(2,"app-score-info",2),fo(),po(3,"div",3),po(4,"div",4),go(5,"app-score-details",5),fo(),po(6,"div",6),go(7,"app-song-progress",7),fo(),fo(),po(8,"div",8),go(9,"app-song-details",9),fo(),fo()),2&t&&($i(2),co("hidden",""==e.songInfo.songId)("songPlayerStatus",e.songPlayerStatus),$i(1),co("hidden",""==e.songInfo.songId),$i(2),co("hidden",!e.showStats)("songProgress",e.songProgress)("songPlayerStatus",e.songPlayerStatus)("targetCounters",e.targetCounters),$i(2),co("hidden",""==e.songInfo.songId)("songProgress",e.songProgress),$i(2),co("hidden",""==e.songInfo.songId)("songInfo",e.songInfo))},styles:[".songDetails[_ngcontent-%COMP%]{text-align:right}.overlayBar[_ngcontent-%COMP%]{position:fixed;width:100%;height:200px;padding:5px;bottom:0}.stats[_ngcontent-%COMP%]{height:150px}app-song-progress[_ngcontent-%COMP%]{margin-top:51px}"]}),t})();class Ec extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}function Mc(t,e){return function(s){return s.lift(new Pc(t,e))}}class Pc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ic(t,this.predicate,this.thisArg))}}class Ic extends v{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(t)}}const Rc={provide:dl,useFactory:function(t,e){return()=>{if(mh(e)){const e=Array.from(t.querySelectorAll(`[class*=${Oc}]`)),s=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${Oc}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(s,"")})}}},deps:[Jl,ul],multi:!0},Oc="flex-layout-";let Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:[Rc]}),t})();class Dc{constructor(t=!1,e="all",s="",n="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=s,this.suffix=n,this.priority=i,this.property=""}clone(){return new Dc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Fc=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,s){const n=this.stylesheet.get(t);n?n.set(e,s):this.stylesheet.set(t,new Map([[e,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const s=this.stylesheet.get(t);let n="";if(s){const t=s.get(e);"number"!=typeof t&&"string"!=typeof t||(n=t+"")}return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Nc={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Bc=new Ws("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Nc}),zc=new Ws("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Vc=new Ws("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function jc(t,e){return t=t?t.clone():new Dc,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const Hc="inline",Uc=["row","column","row-reverse","column-reverse"];function $c(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let qc=(()=>{class t{constructor(t,e,s,n){this.elementRef=t,this.styleBuilder=e,this.styler=s,this.marshal=n,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new E,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const s=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const s=this.styleBuilder,n=s.shouldCache;let i=this.styleCache.get(t);i&&n||(i=s.buildStyles(t,e),n&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),s.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[s,n]=this.styler.getFlowDirection(t);if(!n&&e){const e=function(t){let[e,s,n]=function(t){t=t?t.toLowerCase():"";let[e,s,n]=t.split(" ");return Uc.find(t=>t===e)||(e=Uc[0]),s===Hc&&(s=n!==Hc?n:"",n=Hc),[e,$c(s),!!n]}(t);return function(t,e=null,s=!1){return{display:s?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,s,n)}(s);this.styler.applyStyleToElements(e,[t])}return s.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,s=this.nativeElement){this.styler.applyStyleToElement(s,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){!function(){throw new Error("invalid")}()},t.\u0275dir=Kt({type:t,features:[pe]}),t})();const Gc=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Wc="(orientation: portrait) and (max-width: 599.98px)",Qc="(orientation: landscape) and (max-width: 959.98px)",Zc="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Xc="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Yc="(orientation: portrait) and (min-width: 840px)",Kc="(orientation: landscape) and (min-width: 1280px)",Jc={HANDSET:`${Wc}, ${Qc}`,TABLET:`${Zc} , ${Xc}`,WEB:`${Yc}, ${Kc} `,HANDSET_PORTRAIT:`${Wc}`,TABLET_PORTRAIT:`${Zc} `,WEB_PORTRAIT:`${Yc}`,HANDSET_LANDSCAPE:`${Qc}`,TABLET_LANDSCAPE:`${Xc}`,WEB_LANDSCAPE:`${Kc}`},tu=[{alias:"handset",priority:2e3,mediaQuery:Jc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Jc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Jc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Jc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Jc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Jc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Jc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Jc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Jc.WEB_PORTRAIT,overlapping:!0}],eu=/(\.|-|_)/g;function su(t){let e=t.length>0?t.charAt(0):"",s=t.length>1?t.slice(1):"";return e.toUpperCase()+s}const nu=new Ws("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=un(Vc),e=un(Bc),s=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const s={};return t.forEach(t=>{s[t.alias]=t}),e.forEach(t=>{s[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let s of e)if(null!=s)for(let e in s)s.hasOwnProperty(e)&&(t[e]=s[e])}(s[t.alias],t):s[t.alias]=t}),(n=Object.keys(s).map(t=>s[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(eu,"|").split("|").map(su).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n;var n}((e.disableDefaultBps?[]:Gc).concat(e.addOrientationBps?tu:[]),s)}});function iu(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function ru(t,e){return(t.priority||0)-(e.priority||0)}let ou=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(ru)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let s=this.findByMap.get(t);return s||(s=this.items.find(e)||null,this.findByMap.set(t,s)),s||null}}return t.\u0275fac=function(e){return new(e||t)(cn(nu))},t.\u0275prov=gt({factory:function(){return new t(cn(nu))},token:t,providedIn:"root"}),t})(),au=(()=>{class t{constructor(t,e,s){this._zone=t,this._platformId=e,this._document=s,this.source=new Ec(new Dc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,s)=>{e.matches&&t.push(s)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const s=this._observable$.pipe(Mc(s=>!e||t.indexOf(s.mediaQuery)>-1));return Q(new S(e=>{const s=this.registerQuery(t);if(s.length){const t=s.pop();s.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()}),s)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],s=[];return function(t,e){const s=t.filter(t=>!lu[t]);if(s.length>0){const t=s.join(", ");try{const n=e.createElement("style");n.setAttribute("type","text/css"),n.styleSheet||n.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(n),s.forEach(t=>lu[t]=n)}catch(n){console.error(n)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new Dc(e.matches,t)))};let n=this.registry.get(t);n||(n=this.buildMQL(t),n.addListener(e),this.pendingRemoveListenerFns.push(()=>n.removeListener(e)),this.registry.set(t,n)),n.matches&&s.push(new Dc(!0,t))}),s}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,mh(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(cn(Al),cn(ul),cn(Jl))},t.\u0275prov=gt({factory:function(){return new t(cn(Al),cn(ul),cn(Jl))},token:t,providedIn:"root"}),t})();const lu={},hu="print",cu={alias:hu,mediaQuery:hu,priority:1e3};let uu=(()=>{class t{constructor(t,e,s){this.breakpoints=t,this.layoutConfig=e,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new du,this.deactivations=[]}withPrintQuery(t){return[...t,hu]}isPrintEvent(t){return t.mediaQuery.startsWith(hu)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(iu)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),jc(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Dc(!0,hu))),t.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(s)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(iu))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return t.\u0275fac=function(e){return new(e||t)(cn(ou),cn(Bc),cn(Jl))},t.\u0275prov=gt({factory:function(){return new t(cn(ou),cn(Bc),cn(Jl))},token:t,providedIn:"root"}),t})();class du{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(cu),t.sort(iu),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(hu)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function pu(t){for(let e in t){let s=t[e]||"";switch(e){case"display":t.display="flex"===s?["-webkit-flex","flex"]:"inline-flex"===s?["-webkit-inline-flex","inline-flex"]:s;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=s;break;case"flex-direction":s=s||"row",t["-webkit-flex-direction"]=s,t["flex-direction"]=s;break;case"order":t.order=t["-webkit-"+e]=isNaN(+s)?"0":s}}return t}let fu=(()=>{class t{constructor(t,e,s,n){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=s,this.layoutConfig=n}applyStyleToElement(t,e,s=null){let n={};"string"==typeof e&&(n[e]=s,e=n),n=this.layoutConfig.disableVendorPrefixes?e:pu(e),this._applyMultiValueStyleToElement(n,t)}applyStyleToElements(t,e=[]){const s=this.layoutConfig.disableVendorPrefixes?t:pu(t);e.forEach(t=>{this._applyMultiValueStyleToElement(s,t)})}getFlowDirection(t){const e="flex-direction";let s=this.lookupStyle(t,e);return[s||"row",this.lookupInlineStyle(t,e)||yh(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return mh(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,s=!1){let n="";return t&&((n=this.lookupInlineStyle(t,e))||(mh(this._platformId)?s||(n=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(n=this._serverStylesheet.getStyleForElement(t,e)))),n?n.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(s=>{const n=t[s],i=Array.isArray(n)?n:[n];i.sort();for(let t of i)t=t?t+"":"",mh(this._platformId)||!this._serverModuleLoaded?mh(this._platformId)?e.style.setProperty(s,t):this._setServerStyle(e,s,t):this._serverStylesheet.addStyleToElement(e,s,t)})}_setServerStyle(t,e,s){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const n=this._readStyleAttribute(t);n[e]=s||"",this._writeStyleAttribute(t,n)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},s=t.getAttribute("style");if(s){const t=s.split(/;+/g);for(let s=0;s<t.length;s++){const n=t[s].trim();if(n.length>0){const t=n.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${n}`);e[n.substr(0,t).trim()]=n.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let s="";for(const n in e)e[n]&&(s+=n+":"+e[n]+";");t.setAttribute("style",s)}}return t.\u0275fac=function(e){return new(e||t)(cn(Fc),cn(zc),cn(ul),cn(Bc))},t.\u0275prov=gt({factory:function(){return new t(cn(Fc),cn(zc),cn(ul),cn(Bc))},token:t,providedIn:"root"}),t})();class gu{constructor(){this.shouldCache=!0}sideEffect(t,e,s){}}function mu(t,e="1",s="1"){let n=[e,s,t],i=t.indexOf("calc");if(i>0){n[2]=yu(t.substring(i).trim());let e=t.substr(0,i).trim().split(" ");2==e.length&&(n[0]=e[0],n[1]=e[1])}else if(0==i)n[2]=yu(t.trim());else{let i=t.split(" ");n=3===i.length?i:[e,s,t]}return n}function yu(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let xu=(()=>{class t{constructor(t,e,s){this.matchMedia=t,this.breakpoints=e,this.hook=s,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new E,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=jc(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(iu),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(iu),this.updateStyles()))}init(t,e,s,n,i=[]){vu(this.updateMap,t,e,s),vu(this.clearMap,t,e,n),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,s){const n=this.elementMap.get(t);if(n){const t=void 0!==s?n.get(s):this.getActivatedValues(n,e);if(t)return t.get(e)}}hasValue(t,e){const s=this.elementMap.get(t);if(s){const t=this.getActivatedValues(s,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,s,n){let i=this.elementMap.get(t);if(i){const r=(i.get(n)||new Map).set(e,s);i.set(n,r),this.elementMap.set(t,i)}else i=(new Map).set(n,(new Map).set(e,s)),this.elementMap.set(t,i);const r=this.getValue(t,e);void 0!==r&&this.updateElement(t,e,r)}trackValue(t,e){return this.subject.asObservable().pipe(Mc(s=>s.element===t&&s.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const s=new Set(this.elementKeyMap.get(e));let n=this.getActivatedValues(t);n&&n.forEach((t,n)=>{this.updateElement(e,n,t),s.delete(n)}),s.forEach(s=>{if(n=this.getActivatedValues(t,s),n){const t=n.get(s);this.updateElement(e,s,t)}else this.clearElement(e,s)})})}clearElement(t,e){const s=this.clearMap.get(t);if(s){const n=s.get(e);n&&(n(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,s){const n=this.updateMap.get(t);if(n){const i=n.get(e);i&&(i(s),this.subject.next({element:t,key:e,value:s}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const s=this.elementMap.get(t);s&&(s.forEach((t,e)=>s.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const s=this.elementMap.get(t);if(s){const n=this.getActivatedValues(s,e);n&&(e?this.updateElement(t,e,n.get(e)):n.forEach((e,s)=>this.updateElement(t,s,e)))}}buildElementKeyMap(t,e){let s=this.elementKeyMap.get(t);s||(s=new Set,this.elementKeyMap.set(t,s)),s.add(e)}watchExtraTriggers(t,e,s){if(s&&s.length){let n=this.watcherMap.get(t);if(n||(n=new Map,this.watcherMap.set(t,n)),!n.get(e)){const i=Q(...s).subscribe(()=>{const s=this.getValue(t,e);this.updateElement(t,e,s)});n.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let n=0;n<this.activatedBreakpoints.length;n++){const s=t.get(this.activatedBreakpoints[n].alias);if(s&&(void 0===e||s.has(e)&&null!=s.get(e)))return s}const s=t.get("");return void 0===e||s&&s.has(e)?s:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Kh(this.hook.interceptEvents(this)),Mc(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(cn(au),cn(ou),cn(uu))},t.\u0275prov=gt({factory:function(){return new t(cn(au),cn(ou),cn(uu))},token:t,providedIn:"root"}),t})();function vu(t,e,s,n){if(void 0!==n){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(s,n)}}let bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({}),t})();function _u(t){return e=>e.lift(new wu(t))}class wu{constructor(t){this.notifier=t}call(t,e){const s=new Su(t),n=U(this.notifier,new j(s));return n&&!s.seenValue?(s.add(n),e.subscribe(s)):s}}class Su extends H{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const ku="inline",Cu=["row","column","row-reverse","column-reverse"];function Au(t){t=t?t.toLowerCase():"";let[e,s,n]=t.split(" ");return Cu.find(t=>t===e)||(e=Cu[0]),s===ku&&(s=n!==ku?n:"",n=ku),[e,Eu(s),!!n]}function Tu(t){let[e]=Au(t);return e.indexOf("row")>-1}function Eu(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Mu=(()=>{class t extends gu{buildStyles(t){return function(t){let[e,s,n]=Au(t);return function(t,e=null,s=!1){return{display:s?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,s,n)}(t)}}return t.\u0275fac=function(){let e;return function(s){return(e||(e=Us(t)))(s||t)}}(),t.\u0275prov=gt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Pu=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Iu=(()=>{class t extends qc{constructor(t,e,s,n){super(t,s,e,n),this.DIRECTIVE_KEY="layout",this.styleCache=Ou,this.init()}}return t.\u0275fac=function(e){return new(e||t)(ho(Go),ho(fu),ho(Mu),ho(xu))},t.\u0275dir=Kt({type:t,features:[Xr]}),t})(),Ru=(()=>{class t extends Iu{constructor(){super(...arguments),this.inputs=Pu}}return t.\u0275fac=function(){let e;return function(s){return(e||(e=Us(t)))(s||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Xr]}),t})();const Ou=new Map;function Lu(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let s of e)if(null!=s)for(let e in s)s.hasOwnProperty(e)&&(t[e]=s[e]);return t}let Du=(()=>{class t extends gu{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[s,n,...i]=t.split(" "),r=i.join(" ");const o=e.direction.indexOf("column")>-1?"column":"row",a=Tu(o)?"max-width":"max-height",l=Tu(o)?"min-width":"min-height",h=String(r).indexOf("calc")>-1,c=h||"auto"===r,u=String(r).indexOf("%")>-1&&!h,d=String(r).indexOf("px")>-1||String(r).indexOf("rem")>-1||String(r).indexOf("em")>-1||String(r).indexOf("vw")>-1||String(r).indexOf("vh")>-1;let p=h||d;s="0"==s?0:s,n="0"==n?0:n;const f=!s&&!n;let g={};const m={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(r||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;r="row"===o?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,r="auto";break;case"grow":r="100%";break;case"noshrink":n=0,r="auto";break;case"auto":break;case"none":s=0,n=0,r="auto";break;default:p||u||isNaN(r)||(r+="%"),"0%"===r&&(p=!0),"0px"===r&&(r="0%"),g=Lu(m,h?{"flex-grow":s,"flex-shrink":n,"flex-basis":p?r:"100%"}:{flex:`${s} ${n} ${p?r:"100%"}`})}return g.flex||g["flex-grow"]||(g=Lu(m,h?{"flex-grow":s,"flex-shrink":n,"flex-basis":r}:{flex:`${s} ${n} ${r}`})),"0%"!==r&&"0px"!==r&&"0.000000001px"!==r&&"auto"!==r&&(g[l]=f||p&&s?r:null,g[a]=f||!c&&n?r:null),g[l]||g[a]?e.hasWrap&&(g[h?"flex-basis":"flex"]=g[a]?h?g[a]:`${s} ${n} ${g[a]}`:h?g[l]:`${s} ${n} ${g[l]}`):g=Lu(m,h?{"flex-grow":s,"flex-shrink":n,"flex-basis":r}:{flex:`${s} ${n} ${r}`}),Lu(g,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(cn(Bc))},t.\u0275prov=gt({factory:function(){return new t(cn(Bc))},token:t,providedIn:"root"}),t})();const Fu=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Nu=(()=>{class t extends qc{constructor(t,e,s,n,i){super(t,n,e,i),this.layoutConfig=s,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(_u(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(_u(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const e=this.direction,s=e.startsWith("row"),n=this.wrap;s&&n?this.styleCache=ju:s&&!n?this.styleCache=zu:!s&&n?this.styleCache=Hu:s||n||(this.styleCache=Vu);const i=mu(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:e,hasWrap:n})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=mu(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(ho(Go),ho(fu),ho(Bc),ho(Du),ho(xu))},t.\u0275dir=Kt({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Xr]}),t})(),Bu=(()=>{class t extends Nu{constructor(){super(...arguments),this.inputs=Fu}}return t.\u0275fac=function(){let e;return function(s){return(e||(e=Us(t)))(s||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Xr]}),t})();const zu=new Map,Vu=new Map,ju=new Map,Hu=new Map;let Uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[Lc,bu]]}),t})(),$u=(()=>{class t{constructor(){this.songPlayerStatus={score:0,health:1,scoreMultiplier:1,streak:0,highScore:0,isFullComboSoFar:!0,isNoFailMode:!1,isPracticeMode:!1,songSpeed:1}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-score-info"]],inputs:{songPlayerStatus:"songPlayerStatus"},decls:17,vars:7,consts:[["fxLayout","column"],[2,"font-size","20px"],[1,"score",2,"font-size","40px"],[1,"scoreMultiplier"]],template:function(t,e){1&t&&(po(0,"div",0),po(1,"div"),po(2,"span",1),To(3,"Score"),fo(),go(4,"br"),po(5,"div",2),To(6),Ha(7,"number"),fo(),po(8,"div",3),To(9),fo(),fo(),po(10,"div"),po(11,"span",1),To(12,"Personal Best"),fo(),go(13,"br"),po(14,"span",2),To(15),Ha(16,"number"),fo(),fo(),fo()),2&t&&($i(6),Eo(Ua(7,3,e.songPlayerStatus.score)),$i(3),Mo("x",e.songPlayerStatus.scoreMultiplier,""),$i(6),Eo(Ua(16,5,e.songPlayerStatus.highScore)))},directives:[Ru],pipes:[fh],styles:[".score[_ngcontent-%COMP%]{width:190px;float:left}.scoreMultiplier[_ngcontent-%COMP%]{background-color:#fff;border-radius:100px;width:50px;text-align:center;padding-top:5px;padding-bottom:5px;color:#000;font-size:30px;margin-left:195px}"]}),t})();class qu{}const Gu="*";function Wu(t,e=null){return{type:2,steps:t,options:e}}function Qu(t){return{type:6,styles:t,offset:null}}function Zu(t){Promise.resolve(null).then(t)}class Xu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Yu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,s=0,n=0;const i=this.players.length;0==i?Zu(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++s==i&&this._onDestroy()}),t.onStart(()=>{++n==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const s=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(s)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ku(){return"undefined"!=typeof window&&void 0!==window.document}function Ju(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function td(t){switch(t.length){case 0:return new Xu;case 1:return t[0];default:return new Yu(t)}}function ed(t,e,s,n,i={},r={}){const o=[],a=[];let l=-1,h=null;if(n.forEach(t=>{const s=t.offset,n=s==l,c=n&&h||{};Object.keys(t).forEach(s=>{let n=s,a=t[s];if("offset"!==s)switch(n=e.normalizePropertyName(n,o),a){case"!":a=i[s];break;case Gu:a=r[s];break;default:a=e.normalizeStyleValue(s,n,a,o)}c[n]=a}),n||a.push(c),h=c,l=s}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function sd(t,e,s,n){switch(e){case"start":t.onStart(()=>n(s&&nd(s,"start",t)));break;case"done":t.onDone(()=>n(s&&nd(s,"done",t)));break;case"destroy":t.onDestroy(()=>n(s&&nd(s,"destroy",t)))}}function nd(t,e,s){const n=s.totalTime,i=id(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!s.disabled),r=t._data;return null!=r&&(i._data=r),i}function id(t,e,s,n,i="",r=0,o){return{element:t,triggerName:e,fromState:s,toState:n,phaseName:i,totalTime:r,disabled:!!o}}function rd(t,e,s){let n;return t instanceof Map?(n=t.get(e),n||t.set(e,n=s)):(n=t[e],n||(n=t[e]=s)),n}function od(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ad=(t,e)=>!1,ld=(t,e)=>!1,hd=(t,e,s)=>[];const cd=Ju();(cd||"undefined"!=typeof Element)&&(ad=Ku()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),ld=(()=>{if(cd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,s)=>e.apply(t,[s]):ld}})(),hd=(t,e,s)=>{let n=[];if(s){const s=t.querySelectorAll(e);for(let t=0;t<s.length;t++)n.push(s[t])}else{const s=t.querySelector(e);s&&n.push(s)}return n});let ud=null,dd=!1;function pd(t){ud||(ud=("undefined"!=typeof document?document.body:null)||{},dd=!!ud.style&&"WebkitAppearance"in ud.style);let e=!0;return ud.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ud.style,!e&&dd)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ud.style),e}const fd=ld,gd=ad,md=hd;function yd(t){const e={};return Object.keys(t).forEach(s=>{const n=s.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[s]}),e}let xd=(()=>{class t{validateStyleProperty(t){return pd(t)}matchesElement(t,e){return fd(t,e)}containsElement(t,e){return gd(t,e)}query(t,e,s){return md(t,e,s)}computeStyle(t,e,s){return s||""}animate(t,e,s,n,i,r=[],o){return new Xu(s,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class vd{}vd.NOOP=new xd;const bd="ng-enter",_d="ng-leave",wd="ng-trigger",Sd=".ng-trigger",kd="ng-animating",Cd=".ng-animating";function Ad(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Td(parseFloat(e[1]),e[2])}function Td(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ed(t,e,s){return t.hasOwnProperty("duration")?t:function(t,e,s){let n,i=0,r="";if("string"==typeof t){const s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};n=Td(parseFloat(s[1]),s[2]);const o=s[3];null!=o&&(i=Td(parseFloat(o),s[4]));const a=s[5];a&&(r=a)}else n=t;if(!s){let s=!1,r=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),s=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),s=!0),s&&e.splice(r,0,`The provided timing value "${t}" is invalid.`)}return{duration:n,delay:i,easing:r}}(t,e,s)}function Md(t,e={}){return Object.keys(t).forEach(s=>{e[s]=t[s]}),e}function Pd(t,e,s={}){if(e)for(let n in t)s[n]=t[n];else Md(t,s);return s}function Id(t,e,s){return s?e+":"+s+";":""}function Rd(t){let e="";for(let s=0;s<t.style.length;s++){const n=t.style.item(s);e+=Id(0,n,t.style.getPropertyValue(n))}for(const s in t.style)t.style.hasOwnProperty(s)&&!s.startsWith("_")&&(e+=Id(0,s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[s]));t.setAttribute("style",e)}function Od(t,e,s){t.style&&(Object.keys(e).forEach(n=>{const i=jd(n);s&&!s.hasOwnProperty(n)&&(s[n]=t.style[i]),t.style[i]=e[n]}),Ju()&&Rd(t))}function Ld(t,e){t.style&&(Object.keys(e).forEach(e=>{const s=jd(e);t.style[s]=""}),Ju()&&Rd(t))}function Dd(t){return Array.isArray(t)?1==t.length?t[0]:Wu(t):t}const Fd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Nd(t){let e=[];if("string"==typeof t){let s;for(;s=Fd.exec(t);)e.push(s[1]);Fd.lastIndex=0}return e}function Bd(t,e,s){const n=t.toString(),i=n.replace(Fd,(t,n)=>{let i=e[n];return e.hasOwnProperty(n)||(s.push(`Please provide a value for the animation param ${n}`),i=""),i.toString()});return i==n?t:i}function zd(t){const e=[];let s=t.next();for(;!s.done;)e.push(s.value),s=t.next();return e}const Vd=/-+([a-z0-9])/g;function jd(t){return t.replace(Vd,(...t)=>t[1].toUpperCase())}function Hd(t,e){return 0===t||0===e}function Ud(t,e,s){const n=Object.keys(s);if(n.length&&e.length){let r=e[0],o=[];if(n.forEach(t=>{r.hasOwnProperty(t)||o.push(t),r[t]=s[t]}),o.length)for(var i=1;i<e.length;i++){let s=e[i];o.forEach(function(e){s[e]=qd(t,e)})}}return e}function $d(t,e,s){switch(e.type){case 7:return t.visitTrigger(e,s);case 0:return t.visitState(e,s);case 1:return t.visitTransition(e,s);case 2:return t.visitSequence(e,s);case 3:return t.visitGroup(e,s);case 4:return t.visitAnimate(e,s);case 5:return t.visitKeyframes(e,s);case 6:return t.visitStyle(e,s);case 8:return t.visitReference(e,s);case 9:return t.visitAnimateChild(e,s);case 10:return t.visitAnimateRef(e,s);case 11:return t.visitQuery(e,s);case 12:return t.visitStagger(e,s);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function qd(t,e){return window.getComputedStyle(t)[e]}const Gd="*";function Wd(t,e){const s=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,s){if(":"==t[0]){const n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,s);if("function"==typeof n)return void e.push(n);t=n}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return s.push(`The provided transition expression "${t}" is not supported`),e;const i=n[1],r=n[2],o=n[3];e.push(Xd(i,o)),"<"!=r[0]||i==Gd&&o==Gd||e.push(Xd(o,i))}(t,s,e)):s.push(t),s}const Qd=new Set(["true","1"]),Zd=new Set(["false","0"]);function Xd(t,e){const s=Qd.has(t)||Zd.has(t),n=Qd.has(e)||Zd.has(e);return(i,r)=>{let o=t==Gd||t==i,a=e==Gd||e==r;return!o&&s&&"boolean"==typeof i&&(o=i?Qd.has(t):Zd.has(t)),!a&&n&&"boolean"==typeof r&&(a=r?Qd.has(e):Zd.has(e)),o&&a}}const Yd=new RegExp("s*:selfs*,?","g");function Kd(t,e,s){return new Jd(t).build(e,s)}class Jd{constructor(t){this._driver=t}build(t,e){const s=new tp(e);return this._resetContextStyleTimingState(s),$d(this,Dd(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let s=e.queryCount=0,n=e.depCount=0;const i=[],r=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const s=t,n=s.name;n.toString().split(/\s*,\s*/).forEach(t=>{s.name=t,i.push(this.visitState(s,e))}),s.name=n}else if(1==t.type){const i=this.visitTransition(t,e);s+=i.queryCount,n+=i.depCount,r.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:r,queryCount:s,depCount:n,options:null}}visitState(t,e){const s=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(s.containsDynamicStyles){const i=new Set,r=n||{};if(s.styles.forEach(t=>{if(ep(t)){const e=t;Object.keys(e).forEach(t=>{Nd(e[t]).forEach(t=>{r.hasOwnProperty(t)||i.add(t)})})}}),i.size){const s=zd(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${s.join(", ")}`)}}return{type:0,name:t.name,style:s,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const s=$d(this,Dd(t.animation),e);return{type:1,matchers:Wd(t.expr,e.errors),animation:s,queryCount:e.queryCount,depCount:e.depCount,options:sp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>$d(this,t,e)),options:sp(t.options)}}visitGroup(t,e){const s=e.currentTime;let n=0;const i=t.steps.map(t=>{e.currentTime=s;const i=$d(this,t,e);return n=Math.max(n,e.currentTime),i});return e.currentTime=n,{type:3,steps:i,options:sp(t.options)}}visitAnimate(t,e){const s=function(t,e){let s=null;if(t.hasOwnProperty("duration"))s=t;else if("number"==typeof t)return np(Ed(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=np(0,0,"");return t.dynamic=!0,t.strValue=n,t}return s=s||Ed(n,e),np(s.duration,s.delay,s.easing)}(t.timings,e.errors);let n;e.currentAnimateTimings=s;let i=t.styles?t.styles:Qu({});if(5==i.type)n=this.visitKeyframes(i,e);else{let i=t.styles,r=!1;if(!i){r=!0;const t={};s.easing&&(t.easing=s.easing),i=Qu(t)}e.currentTime+=s.duration+s.delay;const o=this.visitStyle(i,e);o.isEmptyStep=r,n=o}return e.currentAnimateTimings=null,{type:4,timings:s,style:n,options:null}}visitStyle(t,e){const s=this._makeStyleAst(t,e);return this._validateStyleAst(s,e),s}_makeStyleAst(t,e){const s=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Gu?s.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):s.push(t)}):s.push(t.styles);let n=!1,i=null;return s.forEach(t=>{if(ep(t)){const e=t,s=e.easing;if(s&&(i=s,delete e.easing),!n)for(let t in e)if(e[t].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:s,easing:i,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const s=e.currentAnimateTimings;let n=e.currentTime,i=e.currentTime;s&&i>0&&(i-=s.duration+s.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(s=>{if(!this._driver.validateStyleProperty(s))return void e.errors.push(`The provided animation property "${s}" is not a supported CSS property for animations`);const r=e.collectedStyles[e.currentQuerySelector],o=r[s];let a=!0;o&&(i!=n&&i>=o.startTime&&n<=o.endTime&&(e.errors.push(`The CSS property "${s}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${n}ms"`),a=!1),i=o.startTime),a&&(r[s]={startTime:i,endTime:n}),e.options&&function(t,e,s){const n=e.params||{},i=Nd(t);i.length&&i.forEach(t=>{n.hasOwnProperty(t)||s.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[s],e.options,e.errors)})})}visitKeyframes(t,e){const s={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),s;let n=0;const i=[];let r=!1,o=!1,a=0;const l=t.steps.map(t=>{const s=this._makeStyleAst(t,e);let l=null!=s.offset?s.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ep(t)&&t.hasOwnProperty("offset")){const s=t;e=parseFloat(s.offset),delete s.offset}});else if(ep(t)&&t.hasOwnProperty("offset")){const s=t;e=parseFloat(s.offset),delete s.offset}return e}(s.styles),h=0;return null!=l&&(n++,h=s.offset=l),o=o||h<0||h>1,r=r||h<a,a=h,i.push(h),s});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&e.errors.push("Please ensure that all keyframe offsets are in order");const h=t.steps.length;let c=0;n>0&&n<h?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(c=1/(h-1));const u=h-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,n)=>{const r=c>0?n==u?1:c*n:i[n],o=r*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=r,s.styles.push(t)}),s}visitReference(t,e){return{type:8,animation:$d(this,Dd(t.animation),e),options:sp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:sp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:sp(t.options)}}visitQuery(t,e){const s=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[i,r]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Yd,"")),[t=t.replace(/@\*/g,Sd).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Cd),e]}(t.selector);e.currentQuerySelector=s.length?s+" "+i:i,rd(e.collectedStyles,e.currentQuerySelector,{});const o=$d(this,Dd(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=s,{type:11,selector:i,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:o,originalSelector:t.selector,options:sp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const s="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ed(t.timings,e.errors,!0);return{type:12,animation:$d(this,Dd(t.animation),e),timings:s,options:null}}}class tp{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ep(t){return!Array.isArray(t)&&"object"==typeof t}function sp(t){var e;return t?(t=Md(t)).params&&(t.params=(e=t.params)?Md(e):null):t={},t}function np(t,e,s){return{duration:t,delay:e,easing:s}}function ip(t,e,s,n,i,r,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:s,postStyleProps:n,duration:i,delay:r,totalTime:i+r,easing:o,subTimeline:a}}class rp{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let s=this._map.get(t);s||this._map.set(t,s=[]),s.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const op=new RegExp(":enter","g"),ap=new RegExp(":leave","g");function lp(t,e,s,n,i,r={},o={},a,l,h=[]){return(new hp).buildKeyframes(t,e,s,n,i,r,o,a,l,h)}class hp{buildKeyframes(t,e,s,n,i,r,o,a,l,h=[]){l=l||new rp;const c=new up(t,e,l,n,i,h,[]);c.options=a,c.currentTimeline.setStyles([r],null,c.errors,a),$d(this,s,c);const u=c.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[ip(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const s=e.subInstructions.consume(e.element);if(s){const n=e.createSubContext(t.options),i=e.currentTimeline.currentTime,r=this._visitSubInstructions(s,n,n.options);i!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){const s=e.createSubContext(t.options);s.transformIntoNewTimeline(),this.visitReference(t.animation,s),e.transformIntoNewTimeline(s.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,s){let n=e.currentTimeline.currentTime;const i=null!=s.duration?Ad(s.duration):null,r=null!=s.delay?Ad(s.delay):null;return 0!==i&&t.forEach(t=>{const s=e.appendInstructionToTimeline(t,i,r);n=Math.max(n,s.duration+s.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),$d(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const s=e.subContextCount;let n=e;const i=t.options;if(i&&(i.params||i.delay)&&(n=e.createSubContext(i),n.transformIntoNewTimeline(),null!=i.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cp);const t=Ad(i.delay);n.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>$d(this,t,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>s&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const s=[];let n=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Ad(t.options.delay):0;t.steps.forEach(r=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),$d(this,r,o),n=Math.max(n,o.currentTimeline.currentTime),s.push(o.currentTimeline)}),s.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const s=t.strValue;return Ed(e.params?Bd(s,e.params,e.errors):s,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const s=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;s.delay&&(e.incrementTime(s.delay),n.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(s.duration),this.visitStyle(i,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const s=e.currentTimeline,n=e.currentAnimateTimings;!n&&s.getCurrentStyleProperties().length&&s.forwardFrame();const i=n&&n.easing||t.easing;t.isEmptyStep?s.applyEmptyStep(i):s.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const s=e.currentAnimateTimings,n=e.currentTimeline.duration,i=s.duration,r=e.createSubContext().currentTimeline;r.easing=s.easing,t.styles.forEach(t=>{r.forwardTime((t.offset||0)*i),r.setStyles(t.styles,t.easing,e.errors,e.options),r.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(n+i),e.previousNode=t}visitQuery(t,e){const s=e.currentTimeline.currentTime,n=t.options||{},i=n.delay?Ad(n.delay):0;i&&(6===e.previousNode.type||0==s&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cp);let r=s;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((s,n)=>{e.currentQueryIndex=n;const o=e.createSubContext(t.options,s);i&&o.delayNextStep(i),s===e.element&&(a=o.currentTimeline),$d(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const s=e.parentContext,n=e.currentTimeline,i=t.timings,r=Math.abs(i.duration),o=r*(e.currentQueryTotal-1);let a=r*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=s.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const h=l.currentTime;$d(this,t.animation,e),e.previousNode=t,s.currentStaggerTime=n.currentTime-h+(n.startTime-s.currentTimeline.startTime)}}const cp={};class up{constructor(t,e,s,n,i,r,o,a){this._driver=t,this.element=e,this.subInstructions=s,this._enterClassName=n,this._leaveClassName=i,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new dp(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const s=t;let n=this.options;null!=s.duration&&(n.duration=Ad(s.duration)),null!=s.delay&&(n.delay=Ad(s.delay));const i=s.params;if(i){let t=n.params;t||(t=this.options.params={}),Object.keys(i).forEach(s=>{e&&t.hasOwnProperty(s)||(t[s]=Bd(i[s],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const s=t.params={};Object.keys(e).forEach(t=>{s[t]=e[t]})}}return t}createSubContext(t=null,e,s){const n=e||this.element,i=new up(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,s||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=cp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,s){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+t.delay,easing:""},i=new pp(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(i),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,s,n,i,r){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(op,"."+this._enterClassName)).replace(ap,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=s);0!==s&&(e=s<0?e.slice(e.length+s,e.length):e.slice(0,s)),o.push(...e)}return i||0!=o.length||r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class dp{constructor(t,e,s,n){this._driver=t,this.element=e,this.startTime=s,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dp(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Gu,this._currentKeyframe[t]=Gu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,s,n){e&&(this._previousKeyframe.easing=e);const i=n&&n.params||{},r=function(t,e){const s={};let n;return t.forEach(t=>{"*"===t?(n=n||Object.keys(e),n.forEach(t=>{s[t]=Gu})):Pd(t,!1,s)}),s}(t,this._globalTimelineStyles);Object.keys(r).forEach(t=>{const e=Bd(r[t],i,s);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Gu),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const s=this._styleSummary[e],n=t._styleSummary[e];(!s||n.time>s.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,s=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((i,r)=>{const o=Pd(i,!0);Object.keys(o).forEach(s=>{const n=o[s];"!"==n?t.add(s):n==Gu&&e.add(s)}),s||(o.offset=r/this.duration),n.push(o)});const i=t.size?zd(t.values()):[],r=e.size?zd(e.values()):[];if(s){const t=n[0],e=Md(t);t.offset=0,e.offset=1,n=[t,e]}return ip(this.element,n,i,r,this.duration,this.startTime,this.easing,!1)}}class pp extends dp{constructor(t,e,s,n,i,r,o=!1){super(t,e,r.delay),this.keyframes=s,this.preStyleProps=n,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:s,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],r=s+e,o=e/r,a=Pd(t[0],!1);a.offset=0,i.push(a);const l=Pd(t[0],!1);l.offset=fp(o),i.push(l);const h=t.length-1;for(let n=1;n<=h;n++){let o=Pd(t[n],!1);o.offset=fp((e+o.offset*s)/r),i.push(o)}s=r,e=0,n="",t=i}return ip(this.element,t,this.preStyleProps,this.postStyleProps,s,e,n,!0)}}function fp(t,e=3){const s=Math.pow(10,e-1);return Math.round(t*s)/s}class gp{}class mp extends gp{normalizePropertyName(t,e){return jd(t)}normalizeStyleValue(t,e,s,n){let i="";const r=s.toString().trim();if(yp[e]&&0!==s&&"0"!==s)if("number"==typeof s)i="px";else{const e=s.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(`Please provide a CSS unit value for ${t}:${s}`)}return r+i}}const yp=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xp(t,e,s,n,i,r,o,a,l,h,c,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:s,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:u,errors:d}}const vp={};class bp{constructor(t,e,s){this._triggerName=t,this.ast=e,this._stateStyles=s}match(t,e,s,n){return function(t,e,s,n,i){return t.some(t=>t(e,s,n,i))}(this.ast.matchers,t,e,s,n)}buildStyles(t,e,s){const n=this._stateStyles["*"],i=this._stateStyles[t],r=n?n.buildStyles(e,s):{};return i?i.buildStyles(e,s):r}build(t,e,s,n,i,r,o,a,l,h){const c=[],u=this.ast.options&&this.ast.options.params||vp,d=this.buildStyles(s,o&&o.params||vp,c),p=a&&a.params||vp,f=this.buildStyles(n,p,c),g=new Set,m=new Map,y=new Map,x="void"===n,v={params:Object.assign(Object.assign({},u),p)},b=h?[]:lp(t,e,this.ast.animation,i,r,d,f,v,l,c);let _=0;if(b.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),c.length)return xp(e,this._triggerName,s,n,x,d,f,[],[],m,y,_,c);b.forEach(t=>{const s=t.element,n=rd(m,s,{});t.preStyleProps.forEach(t=>n[t]=!0);const i=rd(y,s,{});t.postStyleProps.forEach(t=>i[t]=!0),s!==e&&g.add(s)});const w=zd(g.values());return xp(e,this._triggerName,s,n,x,d,f,b,w,m,y,_)}}class _p{constructor(t,e,s){this.styles=t,this.defaultParams=e,this.normalizer=s}buildStyles(t,e){const s={},n=Md(this.defaultParams);return Object.keys(t).forEach(e=>{const s=t[e];null!=s&&(n[e]=s)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let r=i[t];r.length>1&&(r=Bd(r,n,e));const o=this.normalizer.normalizePropertyName(t,e);r=this.normalizer.normalizeStyleValue(t,o,r,e),s[o]=r})}}),s}}class wp{constructor(t,e,s){this.name=t,this.ast=e,this._normalizer=s,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new _p(t.style,t.options&&t.options.params||{},s)}),Sp(this.states,"true","1"),Sp(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new bp(t,e,this.states))}),this.fallbackTransition=new bp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,s,n){return this.transitionFactories.find(i=>i.match(t,e,s,n))||null}matchStyles(t,e,s){return this.fallbackTransition.buildStyles(t,e,s)}}function Sp(t,e,s){t.hasOwnProperty(e)?t.hasOwnProperty(s)||(t[s]=t[e]):t.hasOwnProperty(s)&&(t[e]=t[s])}const kp=new rp;class Cp{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(t,e){const s=[],n=Kd(this._driver,e,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,s){const n=t.element,i=ed(0,this._normalizer,0,t.keyframes,e,s);return this._driver.animate(n,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,s={}){const n=[],i=this._animations[t];let r;const o=new Map;if(i?(r=lp(this._driver,e,i,bd,_d,{},{},s,kp,n),r.forEach(t=>{const e=rd(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),r=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(s=>{t[s]=this._driver.computeStyle(e,s,Gu)})});const a=td(r.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const s=this.players.indexOf(e);s>=0&&this.players.splice(s,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,s,n){const i=id(e,"","","");return sd(this._getPlayer(t),s,i,n),()=>{}}command(t,e,s,n){if("register"==s)return void this.register(t,n[0]);if("create"==s)return void this.create(t,e,n[0]||{});const i=this._getPlayer(t);switch(s){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const Ap="ng-animate-queued",Tp="ng-animate-disabled",Ep=".ng-animate-disabled",Mp=[],Pp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ip={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Rp{constructor(t,e=""){this.namespaceId=e;const s=t&&t.hasOwnProperty("value");if(this.value=null!=(n=s?t.value:t)?n:null,s){const e=Md(t);delete e.value,this.options=e}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(s=>{null==t[s]&&(t[s]=e[s])})}}}const Op="void",Lp=new Rp(Op);class Dp{constructor(t,e,s){this.id=t,this.hostElement=e,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Hp(e,this._hostClassName)}listen(t,e,s,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${e}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=s)&&"done"!=i)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${e}" is not supported!`);var i;const r=rd(this._elementListeners,t,[]),o={name:e,phase:s,callback:n};r.push(o);const a=rd(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Hp(t,wd),Hp(t,"ng-trigger-"+e),a[e]=Lp),()=>{this._engine.afterFlush(()=>{const t=r.indexOf(o);t>=0&&r.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,s,n=!0){const i=this._getTrigger(e),r=new Np(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Hp(t,wd),Hp(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Rp(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Lp),l.value!==Op&&a.value===l.value){if(!function(t,e){const s=Object.keys(t),n=Object.keys(e);if(s.length!=n.length)return!1;for(let i=0;i<s.length;i++){const n=s[i];if(!e.hasOwnProperty(n)||t[n]!==e[n])return!1}return!0}(a.params,l.params)){const e=[],s=i.matchStyles(a.value,a.params,e),n=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ld(t,s),Od(t,n)})}return}const h=rd(this._engine.playersByElement,t,[]);h.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),u=!1;if(!c){if(!n)return;c=i.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:r,isFallbackTransition:u}),u||(Hp(t,Ap),r.onStart(()=>{Up(t,Ap)})),r.onDone(()=>{let e=this.players.indexOf(r);e>=0&&this.players.splice(e,1);const s=this._engine.playersByElement.get(t);if(s){let t=s.indexOf(r);t>=0&&s.splice(t,1)}}),this.players.push(r),h.push(r),r}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,s)=>{delete e[t]}),this._elementListeners.forEach((e,s)=>{this._elementListeners.set(s,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const s=this._engine.driver.query(t,Sd,!0);s.forEach(t=>{if(t.__ng_removed)return;const s=this._engine.fetchNamespacesByElement(t);s.size?s.forEach(s=>s.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,s,n){const i=this._engine.statesByElement.get(t);if(i){const r=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const s=this.trigger(t,e,Op,n);s&&r.push(s)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),s&&td(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),s=this._engine.statesByElement.get(t);if(e&&s){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=s[i]||Lp,a=new Rp(Op),l=new Np(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const s=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(s.totalAnimations){const e=s.players.length?s.playersByQueriedElement.get(t):[];if(e&&e.length)n=!0;else{let e=t;for(;e=e.parentNode;)if(s.statesByElement.get(e)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)s.markElementAsRemoved(this.id,t,!1,e);else{const n=t.__ng_removed;n&&n!==Pp||(s.afterFlush(()=>this.clearElementCache(t)),s.destroyInnerAnimations(t),s._onRemovalComplete(t,e))}}insertNode(t,e){Hp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(s=>{const n=s.player;if(n.destroyed)return;const i=s.element,r=this._elementListeners.get(i);r&&r.forEach(e=>{if(e.name==s.triggerName){const n=id(i,s.triggerName,s.fromState.value,s.toState.value);n._data=t,sd(s.player,e.phase,n,e.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(s)}),this._queue=[],e.sort((t,e)=>{const s=t.transition.ast.depCount,n=e.transition.ast.depCount;return 0==s||0==n?s-n:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Fp{constructor(t,e,s){this.bodyNode=t,this.driver=e,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const s=new Dp(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(s,e):(this.newHostElements.set(e,s),this.collectEnterElement(e)),this._namespaceLookup[t]=s}_balanceNamespaceList(t,e){const s=this._namespaceList.length-1;if(s>=0){let n=!1;for(let i=s;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let s=this._namespaceLookup[t];return s||(s=this.createNamespace(t,e)),s}registerTrigger(t,e,s){let n=this._namespaceLookup[t];n&&n.register(e,s)&&this.totalAnimations++}destroy(t,e){if(!t)return;const s=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(s);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>s.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,s=this.statesByElement.get(t);if(s){const t=Object.keys(s);for(let n=0;n<t.length;n++){const i=s[t[n]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,s,n){if(Bp(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,s,n),!0}return!1}insertNode(t,e,s,n){if(!Bp(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const n=this._fetchNamespace(t);n&&n.insertNode(e,s)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Hp(t,Tp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Up(t,Tp))}removeNode(t,e,s,n){if(Bp(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),s){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,s,n){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:n,hasAnimation:s,removedBeforeQueried:!1}}listen(t,e,s,n,i){return Bp(e)?this._fetchNamespace(t).listen(e,s,n,i):()=>{}}_buildInstruction(t,e,s,n,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,s,n,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Sd,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Cd,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return td(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Pp,e.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(e.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ep)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ep,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Hp(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{e=this._flushAnimations(s,t)}finally{for(let t=0;t<s.length;t++)s[t]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?td(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const s=new rp,n=[],i=new Map,r=[],o=new Map,a=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let s=0;s<e.length;s++)h.add(e[s])});const c=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=jp(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const s=bd+f++;p.set(e,s),t.forEach(t=>Hp(t,s))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const x=new Map,v=jp(u,Array.from(m));v.forEach((t,e)=>{const s=_d+f++;x.set(e,s),t.forEach(t=>Hp(t,s))}),t.push(()=>{d.forEach((t,e)=>{const s=p.get(e);t.forEach(t=>Up(t,s))}),v.forEach((t,e)=>{const s=x.get(e);t.forEach(t=>Up(t,s))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],_=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const h=!c||!this.driver.containsElement(c,i),u=x.get(i),d=p.get(i),f=this._buildInstruction(t,s,d,u,h);if(f.errors&&f.errors.length)_.push(f);else{if(h)return e.onStart(()=>Ld(i,f.fromStyles)),e.onDestroy(()=>Od(i,f.toStyles)),void n.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ld(i,f.fromStyles)),e.onDestroy(()=>Od(i,f.toStyles)),void n.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),s.append(i,f.timelines),r.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>rd(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const s=Object.keys(t);if(s.length){let t=a.get(e);t||a.set(e,t=new Set),s.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const s=Object.keys(t);let n=l.get(e);n||l.set(e,n=new Set),s.forEach(t=>n.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const w=new Map,S=new Map;r.forEach(t=>{const e=t.element;s.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,w))}),n.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{rd(w,e,[]).push(t),t.destroy()})});const k=g.filter(t=>Gp(t,a,l)),C=new Map;Vp(C,this.driver,y,l,Gu).forEach(t=>{Gp(t,a,l)&&k.push(t)});const A=new Map;d.forEach((t,e)=>{Vp(A,this.driver,new Set(t),a,"!")}),k.forEach(t=>{const e=C.get(t),s=A.get(t);C.set(t,Object.assign(Object.assign({},e),s))});const T=[],E=[],M={};r.forEach(t=>{const{element:e,player:r,instruction:o}=t;if(s.has(e)){if(h.has(e))return r.onDestroy(()=>Od(e,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void n.push(r);let t=M;if(S.size>1){let s=e;const n=[];for(;s=s.parentNode;){const e=S.get(s);if(e){t=e;break}n.push(s)}n.forEach(e=>S.set(e,t))}const s=this._buildAnimation(r.namespaceId,o,w,i,A,C);if(r.setRealPlayer(s),t===M)T.push(r);else{const e=this.playersByElement.get(t);e&&e.length&&(r.parentPlayer=td(e)),n.push(r)}}else Ld(e,o.fromStyles),r.onDestroy(()=>Od(e,o.toStyles)),E.push(r),h.has(e)&&n.push(r)}),E.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const s=td(e);t.setRealPlayer(s)}}),n.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(Up(t,_d),e&&e.hasAnimation)continue;let s=[];if(o.size){let e=o.get(t);e&&e.length&&s.push(...e);let n=this.driver.query(t,Cd,!0);for(let t=0;t<n.length;t++){let e=o.get(n[t]);e&&e.length&&s.push(...e)}}const n=s.filter(t=>!t.destroyed);n.length?$p(this,t,n):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let s=!1;const n=e.__ng_removed;return n&&n.setForRemoval&&(s=!0),this.playersByElement.has(e)&&(s=!0),this.playersByQueriedElement.has(e)&&(s=!0),this.statesByElement.has(e)&&(s=!0),this._fetchNamespace(t).elementContainsData(e)||s}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,s,n,i){let r=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(r=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Op;e.forEach(e=>{e.queued||(t||e.triggerName==n)&&r.push(e)})}}return(s||n)&&(r=r.filter(t=>!(s&&s!=t.namespaceId||n&&n!=t.triggerName))),r}_beforeAnimationBuild(t,e,s){const n=e.element,i=e.isRemovalTransition?void 0:t,r=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==n,l=rd(s,t,[]);this._getPreviousPlayers(t,a,i,r,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Ld(n,e.fromStyles)}_buildAnimation(t,e,s,n,i,r){const o=e.triggerName,a=e.element,l=[],h=new Set,c=new Set,u=e.timelines.map(e=>{const u=e.element;h.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new Xu(e.duration,e.delay);const p=u!==a,f=function(t){const e=[];return qp(t,e),e}((s.get(u)||Mp).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),g=i.get(u),m=r.get(u),y=ed(0,this._normalizer,0,e.keyframes,g,m),x=this._buildPlayer(e,y,f);if(e.subTimeline&&n&&c.add(u),p){const e=new Np(t,o,u);e.setRealPlayer(x),l.push(e)}return x});l.forEach(t=>{rd(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,s){let n;if(t instanceof Map){if(n=t.get(e),n){if(n.length){const t=n.indexOf(s);n.splice(t,1)}0==n.length&&t.delete(e)}}else if(n=t[e],n){if(n.length){const t=n.indexOf(s);n.splice(t,1)}0==n.length&&delete t[e]}return n}(this.playersByQueriedElement,t.element,t))}),h.forEach(t=>Hp(t,kd));const d=td(u);return d.onDestroy(()=>{h.forEach(t=>Up(t,kd)),Od(a,e.toStyles)}),c.forEach(t=>{rd(n,t,[]).push(d)}),d}_buildPlayer(t,e,s){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,s):new Xu(t.duration,t.delay)}}class Np{constructor(t,e,s){this.namespaceId=t,this.triggerName=e,this.element=s,this._player=new Xu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(s=>sd(t,e,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){rd(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Bp(t){return t&&1===t.nodeType}function zp(t,e){const s=t.style.display;return t.style.display=null!=e?e:"none",s}function Vp(t,e,s,n,i){const r=[];s.forEach(t=>r.push(zp(t)));const o=[];n.forEach((s,n)=>{const r={};s.forEach(t=>{const s=r[t]=e.computeStyle(n,t,i);s&&0!=s.length||(n.__ng_removed=Ip,o.push(n))}),t.set(n,r)});let a=0;return s.forEach(t=>zp(t,r[a++])),o}function jp(t,e){const s=new Map;if(t.forEach(t=>s.set(t,[])),0==e.length)return s;const n=new Set(e),i=new Map;function r(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=s.has(o)?o:n.has(o)?1:r(o),i.set(t,e),e}return e.forEach(t=>{const e=r(t);1!==e&&s.get(e).push(t)}),s}function Hp(t,e){if(t.classList)t.classList.add(e);else{let s=t.$$classes;s||(s=t.$$classes={}),s[e]=!0}}function Up(t,e){if(t.classList)t.classList.remove(e);else{let s=t.$$classes;s&&delete s[e]}}function $p(t,e,s){td(s).onDone(()=>t.processLeaveNode(e))}function qp(t,e){for(let s=0;s<t.length;s++){const n=t[s];n instanceof Yu?qp(n.players,e):e.push(n)}}function Gp(t,e,s){const n=s.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(t=>i.add(t)):e.set(t,n),s.delete(t),!0}class Wp{constructor(t,e,s){this.bodyNode=t,this._driver=e,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Fp(t,e,s),this._timelineEngine=new Cp(t,e,s),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,s,n,i){const r=t+"-"+n;let o=this._triggerCache[r];if(!o){const t=[],e=Kd(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e,s){return new wp(t,e,s)}(n,e,this._normalizer),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,s,n){this._transitionEngine.insertNode(t,e,s,n)}onRemove(t,e,s,n){this._transitionEngine.removeNode(t,e,n||!1,s)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,s,n){if("@"==s.charAt(0)){const[t,i]=od(s);this._timelineEngine.command(t,e,i,n)}else this._transitionEngine.trigger(t,e,s,n)}listen(t,e,s,n,i){if("@"==s.charAt(0)){const[t,n]=od(s);return this._timelineEngine.listen(t,e,n,i)}return this._transitionEngine.listen(t,e,s,n,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Qp(t,e){let s=null,n=null;return Array.isArray(e)&&e.length?(s=Xp(e[0]),e.length>1&&(n=Xp(e[e.length-1]))):e&&(s=Xp(e)),s||n?new Zp(t,s,n):null}class Zp{constructor(t,e,s){this._element=t,this._startStyles=e,this._endStyles=s,this._state=0;let n=Zp.initialStylesByElement.get(t);n||Zp.initialStylesByElement.set(t,n={}),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&Od(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Od(this._element,this._initialStyles),this._endStyles&&(Od(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Zp.initialStylesByElement.delete(this._element),this._startStyles&&(Ld(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ld(this._element,this._endStyles),this._endStyles=null),Od(this._element,this._initialStyles),this._state=3)}}function Xp(t){let e=null;const s=Object.keys(t);for(let n=0;n<s.length;n++){const i=s[n];Yp(i)&&(e=e||{},e[i]=t[i])}return e}function Yp(t){return"display"===t||"position"===t}Zp.initialStylesByElement=new WeakMap;const Kp="animation",Jp="animationend";class tf{constructor(t,e,s,n,i,r,o){this._element=t,this._name=e,this._duration=s,this._delay=n,this._easing=i,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const s=af(t,"").trim();s.length&&(function(t,e){let s=0;for(let n=0;n<t.length;n++)","===t.charAt(n)&&s++}(s),e=`${s}, ${e}`),of(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ef(this._element,this._name,"paused")}resume(){ef(this._element,this._name,"running")}setPosition(t){const e=sf(this._element,this._name);this._position=t*this._duration,of(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const s=af(t,"").split(","),n=nf(s,e);n>=0&&(s.splice(n,1),of(t,"",s.join(",")))}(this._element,this._name))}}function ef(t,e,s){of(t,"PlayState",s,sf(t,e))}function sf(t,e){const s=af(t,"");return s.indexOf(",")>0?nf(s.split(","),e):nf([s],e)}function nf(t,e){for(let s=0;s<t.length;s++)if(t[s].indexOf(e)>=0)return s;return-1}function rf(t,e,s){s?t.removeEventListener(Jp,e):t.addEventListener(Jp,e)}function of(t,e,s,n){const i=Kp+e;if(null!=n){const e=t.style[i];if(e.length){const t=e.split(",");t[n]=s,s=t.join(",")}}t.style[i]=s}function af(t,e){return t.style[Kp+e]||""}class lf{constructor(t,e,s,n,i,r,o,a){this.element=t,this.keyframes=e,this.animationName=s,this._duration=n,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(t[s]=e?this._finalStyles[s]:qd(this.element,s))})}this.currentSnapshot=t}}class hf extends Xu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=yd(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class cf{constructor(){this._count=0}validateStyleProperty(t){return pd(t)}matchesElement(t,e){return fd(t,e)}containsElement(t,e){return gd(t,e)}query(t,e,s){return md(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,s){s=s.map(t=>yd(t));let n=`@keyframes ${e} {\n`,i="";s.forEach(t=>{i=" ";const e=parseFloat(t.offset);n+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const s=t[e];switch(e){case"offset":return;case"easing":return void(s&&(n+=`${i}animation-timing-function: ${s};\n`));default:return void(n+=`${i}${e}: ${s};\n`)}}),n+=`${i}}\n`}),n+="}\n";const r=document.createElement("style");return r.textContent=n,r}animate(t,e,s,n,i,r=[],o){const a=r.filter(t=>t instanceof lf),l={};Hd(s,n)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(s=>{"offset"!=s&&"easing"!=s&&(e[s]=t[s])})}),e}(e=Ud(t,e,l));if(0==s)return new hf(t,h);const c="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,c,e);(function(t){var e;const s=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot?s:document.head})(t).appendChild(u);const d=Qp(t,e),p=new lf(t,e,c,s,n,i,h,d);return p.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(u)),p}}class uf{constructor(t,e,s,n){this.element=t,this.keyframes=e,this.options=s,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,s){return t.animate(e,s)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:qd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class df{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pf().toString()),this._cssKeyframesDriver=new cf}validateStyleProperty(t){return pd(t)}matchesElement(t,e){return fd(t,e)}containsElement(t,e){return gd(t,e)}query(t,e,s){return md(t,e,s)}computeStyle(t,e,s){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,s,n,i,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,s,n,i,r);const a={duration:s,delay:n,fill:0==n?"both":"forwards"};i&&(a.easing=i);const l={},h=r.filter(t=>t instanceof uf);Hd(s,n)&&h.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Qp(t,e=Ud(t,e=e.map(t=>Pd(t,!1)),l));return new uf(t,e,a,c)}}function pf(){return Ku()&&Element.prototype.animate||{}}let ff=(()=>{class t extends qu{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Pt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Wu(t):t;return yf(this._renderer,null,e,"register",[s]),new gf(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(cn(Qo),cn(Jl))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class gf extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new mf(this._id,t,e||{},this._renderer)}}class mf{constructor(t,e,s,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yf(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function yf(t,e,s,n,i){return t.setProperty(e,`@@${s}:${n}`,i)}const xf="@",vf="@.disabled";let bf=(()=>{class t{constructor(t,e,s){this.delegate=t,this.engine=e,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const s=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(s);return t||(t=new _f("",s,this.engine),this._rendererCache.set(s,t)),t}const n=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const r=e=>{Array.isArray(e)?e.forEach(r):this.engine.registerTrigger(n,i,t,e.name,e)};return e.data.animation.forEach(r),new wf(this,i,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,s){t>=0&&t<this._microtaskId?this._zone.run(()=>e(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,s]=t;e(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(cn(Qo),cn(Wp),cn(Al))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();class _f{constructor(t,e,s){this.namespaceId=t,this.delegate=e,this.engine=s,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,s,n=!0){this.delegate.insertBefore(t,e,s),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,s){this.engine.onRemove(this.namespaceId,e,this.delegate,s)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,s,n){this.delegate.setAttribute(t,e,s,n)}removeAttribute(t,e,s){this.delegate.removeAttribute(t,e,s)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,s,n){this.delegate.setStyle(t,e,s,n)}removeStyle(t,e,s){this.delegate.removeStyle(t,e,s)}setProperty(t,e,s){e.charAt(0)==xf&&e==vf?this.disableAnimations(t,!!s):this.delegate.setProperty(t,e,s)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,s){return this.delegate.listen(t,e,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wf extends _f{constructor(t,e,s,n){super(e,s,n),this.factory=t,this.namespaceId=e}setProperty(t,e,s){e.charAt(0)==xf?"."==e.charAt(1)&&e==vf?this.disableAnimations(t,s=void 0===s||!!s):this.engine.process(this.namespaceId,t,e.substr(1),s):this.delegate.setProperty(t,e,s)}listen(t,e,s){if(e.charAt(0)==xf){const n=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),r="";return i.charAt(0)!=xf&&([i,r]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,n,i,r,t=>{this.factory.scheduleListenerCallback(t._data||-1,s,t)})}return this.delegate.listen(t,e,s)}}let Sf=(()=>{class t extends Wp{constructor(t,e,s){super(t.body,e,s)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(cn(Jl),cn(vd),cn(gp))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const kf=new Ws("AnimationModuleType"),Cf=[{provide:qu,useClass:ff},{provide:gp,useFactory:function(){return new mp}},{provide:Wp,useClass:Sf},{provide:Qo,useFactory:function(t,e,s){return new bf(t,e,s)},deps:[Dh,Wp,Al]}],Af=[{provide:vd,useFactory:function(){return"function"==typeof pf()?new df:new cf}},{provide:kf,useValue:"BrowserAnimations"},...Cf],Tf=[{provide:vd,useClass:xd},{provide:kf,useValue:"NoopAnimations"},...Cf];let Ef=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Tf:Af}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:Af,imports:[Xh]}),t})();const Mf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();class Pf{constructor(t){if(this.total=t,this.total<0)throw new Mf}call(t,e){return e.subscribe(new If(t,this.total))}}class If extends v{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,s=++this.count;s<=e&&(this.destination.next(t),s===e&&(this.destination.complete(),this.unsubscribe()))}}function Rf(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}let Of;try{Of="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(NL){Of=!1}let Lf,Df=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?mh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Of)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(cn(ul))},t.\u0275prov=gt({factory:function(){return new t(cn(ul))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Ff="cdk-high-contrast-black-on-white",Nf="cdk-high-contrast-white-on-black",Bf="cdk-high-contrast-active";let zf=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,s=e&&e.getComputedStyle?e.getComputedStyle(t):null,n=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),n){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Bf),t.remove(Ff),t.remove(Nf),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Bf),t.add(Ff)):2===e&&(t.add(Bf),t.add(Nf))}}}return t.\u0275fac=function(e){return new(e||t)(cn(Df),cn(Jl))},t.\u0275prov=gt({factory:function(){return new t(cn(Df),cn(Jl))},token:t,providedIn:"root"}),t})();const Vf=new Ko("12.1.4"),jf=new Ko("12.1.4"),Hf=new Ws("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Uf,$f=(()=>{class t{constructor(t,e,s){this._hasDoneGlobalChecks=!1,this._document=s,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Vl()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&jf.full!==Vf.full&&console.warn("The Angular Material version ("+jf.full+") does not match the Angular CDK version ("+Vf.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(cn(zf),cn(Hf,8),cn(Jl))},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[bu],bu]}),t})();function qf(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}try{Uf="undefined"!=typeof Intl}catch(NL){Uf=!1}function Gf(t,e){return new S(s=>{const n=t.length;if(0===n)return void s.complete();const i=new Array(n);let r=0,o=0;for(let a=0;a<n;a++){const l=V(t[a]);let h=!1;s.add(l.subscribe({next:t=>{h||(h=!0,o++),i[a]=t},error:t=>s.error(t),complete:()=>{r++,r!==n&&h||(o===n&&s.next(e?e.reduce((t,e,s)=>(t[e]=i[s],t),{}):i),s.complete())}}))}})}class Wf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Qf(t,this.callback))}}class Qf extends v{constructor(t,e){super(t),this.add(new m(e))}}class Zf{}class Xf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const s=t.slice(0,e),n=s.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(s,n),this.headers.has(n)?this.headers.get(n).push(i):this.headers.set(n,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const n=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(n,s),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...s),this.headers.set(e,n);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Yf{encodeKey(t){return Kf(t)}encodeValue(t){return Kf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Kf(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Jf(t){return`${t}`}class tg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Yf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const s=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const n=t.indexOf("="),[i,r]=-1==n?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,n)),e.decodeValue(t.slice(n+1))],o=s.get(i)||[];o.push(r),s.set(i,o)}),s}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const n=t[s];Array.isArray(n)?n.forEach(t=>{e.push({param:s,value:t,op:"a"})}):e.push({param:s,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new tg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Jf(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const s=e.indexOf(Jf(t.value));-1!==s&&e.splice(s,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class eg{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function sg(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ng(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ig(t){return"undefined"!=typeof FormData&&t instanceof FormData}class rg{constructor(t,e,s,n){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==s?s:null,i=n):i=s,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Xf),this.context||(this.context=new eg),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+t}}else this.params=new tg,this.urlWithParams=e}serializeBody(){return null===this.body?null:sg(this.body)||ng(this.body)||ig(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof tg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ig(this.body)?null:ng(this.body)?this.body.type||null:sg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const s=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,h=t.params||this.params;const c=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,s)=>e.set(s,t.setHeaders[s]),l)),t.setParams&&(h=Object.keys(t.setParams).reduce((e,s)=>e.set(s,t.setParams[s]),h)),new rg(s,n,r,{params:h,headers:l,context:c,reportProgress:a,responseType:i,withCredentials:o})}}var og=(()=>((og=og||{})[og.Sent=0]="Sent",og[og.UploadProgress=1]="UploadProgress",og[og.ResponseHeader=2]="ResponseHeader",og[og.DownloadProgress=3]="DownloadProgress",og[og.Response=4]="Response",og[og.User=5]="User",og))();class ag extends class{constructor(t,e=200,s="OK"){this.headers=t.headers||new Xf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=og.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ag({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function lg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let hg=(()=>{class t{constructor(t){this.handler=t}request(t,e,s={}){let n;if(t instanceof rg)n=t;else{let i,r;i=s.headers instanceof Xf?s.headers:new Xf(s.headers),s.params&&(r=s.params instanceof tg?s.params:new tg({fromObject:s.params})),n=new rg(t,e,void 0!==s.body?s.body:null,{headers:i,context:s.context,params:r,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const i=lc(n).pipe($(t=>this.handler.handle(t),void 0,1));if(t instanceof rg||"events"===s.observe)return i;const r=i.pipe(Mc(t=>t instanceof ag));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return r.pipe(I(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return r.pipe(I(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return r.pipe(I(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return r.pipe(I(t=>t.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new tg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,s={}){return this.request("PATCH",t,lg(s,e))}post(t,e,s={}){return this.request("POST",t,lg(s,e))}put(t,e,s={}){return this.request("PUT",t,lg(s,e))}}return t.\u0275fac=function(e){return new(e||t)(cn(Zf))},t.\u0275prov=gt({token:t,factory:t.\u0275fac}),t})();const cg=["*"];function ug(t){return Error(`Unable to find icon with the name "${t}"`)}function dg(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function pg(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class fg{constructor(t,e,s){this.url=t,this.svgText=e,this.options=s}}let gg=(()=>{class t{constructor(t,e,s,n){this._httpClient=t,this._sanitizer=e,this._errorHandler=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(t,e,s){return this.addSvgIconInNamespace("",t,e,s)}addSvgIconLiteral(t,e,s){return this.addSvgIconLiteralInNamespace("",t,e,s)}addSvgIconInNamespace(t,e,s,n){return this._addSvgIconConfig(t,e,new fg(s,null,n))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,s,n){const i=this._sanitizer.sanitize(Xn.HTML,s);if(!i)throw pg(s);return this._addSvgIconConfig(t,e,new fg("",i,n))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,s){return this._addSvgIconSetConfig(t,new fg(e,null,s))}addSvgIconSetLiteralInNamespace(t,e,s){const n=this._sanitizer.sanitize(Xn.HTML,e);if(!n)throw pg(e);return this._addSvgIconSetConfig(t,new fg("",n,s))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Xn.RESOURCE_URL,t);if(!e)throw dg(t);const s=this._cachedIconsByUrl.get(e);return s?lc(mg(s)):this._loadSvgIconFromConfig(new fg(t,null)).pipe(Kh(t=>this._cachedIconsByUrl.set(e,t)),I(t=>mg(t)))}getNamedSvgIcon(t,e=""){const s=yg(e,t);let n=this._svgIconConfigs.get(s);if(n)return this._getSvgFromConfig(n);if(n=this._getIconConfigFromResolvers(e,t),n)return this._svgIconConfigs.set(s,n),this._getSvgFromConfig(n);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):yc(ug(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lc(mg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(I(t=>mg(t)))}_getSvgFromIconSetConfigs(t,e){const s=this._extractIconWithNameFromAnySet(t,e);return s?lc(s):function(...t){if(1===t.length){const e=t[0];if(p(e))return Gf(e,null);if(f(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Gf(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Gf(t=1===t.length&&p(t[0])?t[0]:t,null).pipe(I(t=>e(...t)))}return Gf(t,null)}(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(hc(e=>{const s=this._sanitizer.sanitize(Xn.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${s} failed: ${e.message}`)),lc(null)})))).pipe(I(()=>{const s=this._extractIconWithNameFromAnySet(t,e);if(!s)throw ug(t);return s}))}_extractIconWithNameFromAnySet(t,e){for(let s=e.length-1;s>=0;s--){const n=e[s];if(n.svgText&&n.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(n),s=this._extractSvgIconFromSet(e,t,n.options);if(s)return s}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Kh(e=>t.svgText=e),I(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lc(null):this._fetchIcon(t).pipe(Kh(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,s){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const i=n.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,s);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),s);const r=this._svgElementFromString("<svg></svg>");return r.appendChild(i),this._setSvgAttributes(r,s)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const s=e.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),s=t.attributes;for(let n=0;n<s.length;n++){const{name:t,value:i}=s[n];"id"!==t&&e.setAttribute(t,i)}for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:s,options:n}=t,i=null!==(e=null==n?void 0:n.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const r=this._sanitizer.sanitize(Xn.RESOURCE_URL,s);if(!r)throw dg(s);const o=this._inProgressUrlFetches.get(r);if(o)return o;const a=this._httpClient.get(r,{responseType:"text",withCredentials:i}).pipe((l=()=>this._inProgressUrlFetches.delete(r),t=>t.lift(new Wf(l))),st());var l;return this._inProgressUrlFetches.set(r,a),a}_addSvgIconConfig(t,e,s){return this._svgIconConfigs.set(yg(t,e),s),this}_addSvgIconSetConfig(t,e){const s=this._iconSetConfigs.get(t);return s?s.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let n=0;n<this._resolvers.length;n++){const i=this._resolvers[n](e,t);if(i)return(s=i).url&&s.options?new fg(i.url,null,i.options):new fg(i,null)}var s}}return t.\u0275fac=function(e){return new(e||t)(cn(hg,8),cn(qh),cn(Jl,8),cn(ei))},t.\u0275prov=gt({factory:function(){return new t(cn(hg,8),cn(qh),cn(Jl,8),cn(ei))},token:t,providedIn:"root"}),t})();function mg(t){return t.cloneNode(!0)}function yg(t,e){return t+":"+e}const xg=qf(class{constructor(t){this._elementRef=t}}),vg=new Ws("mat-icon-location",{providedIn:"root",factory:function(){const t=un(Jl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),bg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_g=bg.map(t=>`[${t}]`).join(", "),wg=/^url\(['"]?#(.*?)['"]?\)$/;let Sg=(()=>{class t extends xg{constructor(t,e,s,n,i){super(t),this._iconRegistry=e,this._location=n,this._errorHandler=i,this._inline=!1,this._currentIconFetch=m.EMPTY,s||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){var e;this._inline=null!=(e=t)&&"false"!=`${e}`}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const s=t.childNodes[e];1===s.nodeType&&"svg"!==s.nodeName.toLowerCase()||t.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,s)=>{e.forEach(e=>{s.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(_g),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let n=0;n<e.length;n++)bg.forEach(t=>{const i=e[n],r=i.getAttribute(t),o=r?r.match(wg):null;if(o){let e=s.get(i);e||(e=[],s.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,s]=this._splitIconName(t);e&&(this._svgNamespace=e),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,e).pipe((1,t=>t.lift(new Pf(1)))).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${s}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(ho(Go),ho(gg),("aria-hidden",function(t,e){const s=t.attrs;if(s){const t=s.length;let n=0;for(;n<t;){const i=s[n];if(ys(i))break;if(0===i)n+=2;else if("number"==typeof i)for(n++;n<t&&"string"==typeof s[n];)n++;else{if(i===e)return s[n+1];n+=2}}}return null}(Fe(),"aria-hidden")),ho(vg),ho(ei))},t.\u0275cmp=Gt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(ao("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),_o("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Xr],ngContentSelectors:cg,decls:1,vars:0,template:function(t,e){1&t&&(function(t){const e=Le()[16][6];if(!e.projection){const t=e.projection=Ks(1,null),s=t.slice();let n=e.child;for(;null!==n;){const e=0;null!==e&&(s[e]?s[e].projectionNext=n:t[e]=n,s[e]=n),n=n.next}}}(),function(t,e=0,s){const n=Le(),i=De(),r=tr(i,se+t,16,null,s||null);null===r.projection&&(r.projection=e),Ve(),64!=(64&r.flags)&&function(t,e,s){Mi(e[11],0,e,s,mi(t,s,e),_i(s.parent||e[6],s,e))}(i,n,r)}(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),kg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[$f],$f]}),t})();function Cg(t,e,s,n){return l(s)&&(n=s,s=void 0),n?Cg(t,e,s).pipe(I(t=>p(t)?n(...t):n(t))):new S(n=>{Ag(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,s)})}function Ag(t,e,s,n,i){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,s,i),r=()=>n.removeEventListener(e,s,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,s),r=()=>n.off(e,s)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,s),r=()=>n.removeListener(e,s)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,o=t.length;r<o;r++)Ag(t[r],e,s,n,i)}n.add(r)}const Tg=["primaryValueBar"],Eg=qf(class{constructor(t){this._elementRef=t}},"primary"),Mg=new Ws("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=un(Jl),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let Pg=0,Ig=(()=>{class t extends Eg{constructor(t,e,s,n){super(t),this._ngZone=e,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new qa,this._animationEndSubscription=m.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Pg++;const i=n?n.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${i}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s}get value(){return this._value}set value(t){this._value=Rg(Rf(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=Rg(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Cg(t,"transitionend").pipe(Mc(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ho(Go),ho(Al),ho(kf,8),ho(Mg,8))},t.\u0275cmp=Gt({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){if(1&t&&function(t,e,s){const n=De();n.firstCreatePass&&(function(t,e,s){null===t.queries&&(t.queries=new Ya),t.queries.track(new Ka(e,-1))}(n,new Xa(t,e,s)),2==(2&e)&&(n.staticViewQueries=!0)),function(t,e,s){const n=new Wa(4==(4&s));cr(t,e,n,n.destroy),null===e[19]&&(e[19]=new Za),e[19].queries.push(new Qa(n))}(n,Le(),e)}(Tg,5),2&t){let t;nl((s=Le(),n=Qe(),t=s[19].queries[n].queryList))&&(e._primaryValueBar=t.first)}var s,n},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(ao("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),_o("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Xr],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(po(0,"div",0),as(),po(1,"svg",1),po(2,"defs"),po(3,"pattern",2),go(4,"circle",3),fo(),fo(),go(5,"rect",4),fo(),Re.lFrame.currentNamespace=null,go(6,"div",5),go(7,"div",6,7),go(9,"div",8),fo()),2&t&&($i(3),co("id",e.progressbarId),$i(2),ao("fill",e._rectangleFillValue),$i(1),co("ngStyle",e._bufferTransform()),$i(1),co("ngStyle",e._primaryTransform()))},directives:[ph],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function Rg(t,e=0,s=100){return Math.max(e,Math.min(s,t))}let Og=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[gh,$f],$f]}),t})(),Lg=(()=>{class t{constructor(){this.songInfo={songId:"",songName:"",songArtist:"",songAuthor:"",songLength:0,ticksTotal:0,difficulty:"",classification:""}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-song-details"]],inputs:{songInfo:"songInfo"},decls:8,vars:4,consts:[[1,"songName"],[1,"songArtist"],[1,"songAuthor"],[1,"difficulty"]],template:function(t,e){1&t&&(po(0,"div",0),To(1),fo(),po(2,"div",1),To(3),fo(),po(4,"div",2),To(5),fo(),po(6,"div",3),To(7),fo()),2&t&&($i(1),Eo(e.songInfo.songName),$i(2),Eo(e.songInfo.songArtist),$i(2),Eo(e.songInfo.songAuthor),$i(2),Eo(e.songInfo.difficulty))},styles:[".songName[_ngcontent-%COMP%]{font-size:45px}.songArtist[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Dg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[Lc]]}),t})(),Fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[Lc]]}),t})(),Ng=(()=>{class t{constructor(t,e){yh(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,s=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:Bc,useValue:Object.assign(Object.assign({},Nc),e)},{provide:Vc,useValue:s,multi:!0},{provide:zc,useValue:!0}]:[{provide:Bc,useValue:Object.assign(Object.assign({},Nc),e)},{provide:Vc,useValue:s,multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)(cn(zc),cn(ul))},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[Uu,Dg,Fg],Uu,Dg,Fg]}),t})(),Bg=(()=>{class t{constructor(){this.songProgress={currentTick:0,progress:0,timeElapsed:"",timeRemaining:""},this.songPlayerStatus={score:0,health:1,scoreMultiplier:1,streak:0,highScore:0,isFullComboSoFar:!0,isNoFailMode:!1,isPracticeMode:!1,songSpeed:1},this.targetCounters={targetHits:[],targetMisses:[]},this.healthGaugeColors=[{to:25,color:"#FF0000"},{from:25,to:50,color:"#FFFF00"},{from:50,to:75,color:"#559900"},{from:75,color:"#00FF00"}]}ngOnInit(){}getTargetHits(t,e){return this.targetCounters.targetHits.filter(s=>t&&e?s.hand==t&&s.type==e:e?s.type==e:!t||s.hand==t).length}getTargetMisses(t,e){return this.targetCounters.targetMisses.filter(s=>t&&e?s.hand==t&&s.type==e:e?s.type==e:!t||s.hand==t).length}getTargetTotal(t,e){return this.getTargetHits(t,e)+this.getTargetMisses(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-score-details"]],inputs:{songProgress:"songProgress",songPlayerStatus:"songPlayerStatus",targetCounters:"targetCounters"},decls:96,vars:33,consts:[[1,"targetCounters"],[1,"leftHand"],[1,"handLabel"],["rowspan","3",1,"totalTargets"],[1,"health"],[1,"rightHand"],[1,"melee"],["colspan","7"]],template:function(t,e){1&t&&(po(0,"div"),po(1,"div",0),po(2,"table"),po(3,"tr"),go(4,"th"),po(5,"th"),To(6,"Hits"),fo(),po(7,"th"),To(8,"Standard"),fo(),po(9,"th"),To(10,"Sustain"),fo(),po(11,"th"),To(12,"Vertical"),fo(),po(13,"th"),To(14,"Horizontal"),fo(),po(15,"th"),To(16,"Chain Start"),fo(),po(17,"th"),To(18,"Chain"),fo(),po(19,"th"),To(20,"All Targets"),fo(),fo(),po(21,"tr",1),po(22,"td",2),To(23,"Left"),fo(),po(24,"td"),po(25,"mat-icon"),To(26,"check_circle"),fo(),To(27),fo(),po(28,"td"),po(29,"mat-icon"),To(30,"adjust"),fo(),To(31),fo(),po(32,"td"),po(33,"mat-icon"),To(34,"stop"),fo(),To(35),fo(),po(36,"td"),po(37,"mat-icon"),To(38,"panorama_vertical"),fo(),To(39),fo(),po(40,"td"),po(41,"mat-icon"),To(42,"panorama_horizontal"),fo(),To(43),fo(),po(44,"td"),po(45,"mat-icon"),To(46,"link"),fo(),To(47),fo(),po(48,"td"),po(49,"mat-icon"),To(50,"hdr_weak"),fo(),To(51),fo(),po(52,"td",3),To(53),po(54,"div",4),po(55,"mat-icon"),To(56,"favorite"),fo(),To(57),fo(),fo(),fo(),po(58,"tr",5),po(59,"td",2),To(60,"Right"),fo(),po(61,"td"),po(62,"mat-icon"),To(63,"check_circle"),fo(),To(64),fo(),po(65,"td"),po(66,"mat-icon"),To(67,"adjust"),fo(),To(68),fo(),po(69,"td"),po(70,"mat-icon"),To(71,"stop"),fo(),To(72),fo(),po(73,"td"),po(74,"mat-icon"),To(75,"panorama_vertical"),fo(),To(76),fo(),po(77,"td"),po(78,"mat-icon"),To(79,"panorama_horizontal"),fo(),To(80),fo(),po(81,"td"),po(82,"mat-icon"),To(83,"link"),fo(),To(84),fo(),po(85,"td"),po(86,"mat-icon"),To(87,"hdr_weak"),fo(),To(88),fo(),fo(),po(89,"tr",6),po(90,"td",2),To(91,"Melees"),fo(),po(92,"td",7),po(93,"mat-icon"),To(94,"sports_soccer"),fo(),To(95),fo(),fo(),fo(),fo(),fo()),2&t&&($i(27),Po(" ",e.getTargetHits("Left")," / ",e.getTargetTotal("Left")," "),$i(4),Po(" ",e.getTargetHits("Left","Standard")," / ",e.getTargetTotal("Left","Standard")," "),$i(4),Po(" ",e.getTargetHits("Left","Hold")," / ",e.getTargetTotal("Left","Hold")," "),$i(4),Po(" ",e.getTargetHits("Left","Vertical")," / ",e.getTargetTotal("Left","Vertical")," "),$i(4),Po(" ",e.getTargetHits("Left","Horizontal")," / ",e.getTargetTotal("Left","Horizontal"),""),$i(4),Po(" ",e.getTargetHits("Left","ChainStart")," / ",e.getTargetTotal("Left","ChainStart"),""),$i(4),Po(" ",e.getTargetHits("Left","Chain")," / ",e.getTargetTotal("Left","Chain"),""),$i(2),Po(" ",e.getTargetHits()," / ",e.getTargetTotal()," "),$i(4),Mo("",e.songPlayerStatus.health,"% "),$i(7),Po(" ",e.getTargetHits("Right")," / ",e.getTargetTotal("Right")," "),$i(4),Po(" ",e.getTargetHits("Right","Standard")," / ",e.getTargetTotal("Right","Standard")," "),$i(4),Po(" ",e.getTargetHits("Right","Hold")," / ",e.getTargetTotal("Right","Hold")," "),$i(4),Po(" ",e.getTargetHits("Right","Vertical")," / ",e.getTargetTotal("Right","Vertical")," "),$i(4),Po(" ",e.getTargetHits("Right","Horizontal")," / ",e.getTargetTotal("Right","Horizontal"),""),$i(4),Po(" ",e.getTargetHits("Right","ChainStart")," / ",e.getTargetTotal("Right","ChainStart"),""),$i(4),Po(" ",e.getTargetHits("Right","Chain")," / ",e.getTargetTotal("Right","Chain"),""),$i(7),Po(" ",e.getTargetHits("","Melee")," / ",e.getTargetTotal("","Melee")," "))},directives:[Sg],styles:[".targetCounters[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:text-bottom}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:0}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:30px;width:100px;padding-left:10px;padding-right:10px;border:1px solid grey}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .handLabel[_ngcontent-%COMP%]{font-weight:700}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .leftHand[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#0000ff80}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .rightHand[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#00ff0080}.targetCounters[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .totalTargets[_ngcontent-%COMP%]{font-size:30px;background-color:#000!important;width:150px;text-align:center}.targetHits[_ngcontent-%COMP%]{width:100px;float:left;margin-right:3px;margin-bottom:3px}.targetHits[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:text-bottom}.targetMiss[_ngcontent-%COMP%]{width:100px;float:left;margin-right:3px;margin-bottom:3px}.targetMiss[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:text-bottom}.health[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.health[_ngcontent-%COMP%]   .k-gauge[_ngcontent-%COMP%]{display:block}.health[_ngcontent-%COMP%]   kendo-arcgauge[_ngcontent-%COMP%]{width:50px;border:1px solid #fff}.progressBottom[_ngcontent-%COMP%]{margin-top:15px}.songTime[_ngcontent-%COMP%]   .timeElapsed[_ngcontent-%COMP%]{width:100px;float:left}.songTime[_ngcontent-%COMP%]   .timeRemaining[_ngcontent-%COMP%]{width:100px;float:right;text-align:right}.songTime[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px}"]}),t})();function zg(t,e){if(1&t&&(as(),go(0,"circle",3)),2&t){const t=yo();bo("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ao("r",t._getCircleRadius())}}function Vg(t,e){if(1&t&&(as(),go(0,"circle",3)),2&t){const t=yo();bo("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),ao("r",t._getCircleRadius())}}const jg=qf(class{constructor(t){this._elementRef=t}},"primary"),Hg=new Ws("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Ug extends jg{constructor(t,e,s,n,i){super(t),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const r=Ug._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),r.has(s.head)||r.set(s.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===n&&!!i&&!i._forceAnimations,i&&(i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Rf(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Rf(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Rf(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t){if(function(){if(null==Lf){const t="undefined"!=typeof document?document.head:null;Lf=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Lf}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,s=Ug._diameters;let n=s.get(t);if(!n||!n.has(e)){const i=this._document.createElement("style");i.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),i.textContent=this._getAnimationText(),t.appendChild(i),n||(n=new Set,s.set(t,n)),n.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ug.\u0275fac=function(t){return new(t||Ug)(ho(Go),ho(Df),ho(Jl,8),ho(kf,8),ho(Hg))},Ug.\u0275cmp=Gt({type:Ug,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(ao("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),bo("width",e.diameter,"px")("height",e.diameter,"px"),_o("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[Xr],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(as(),po(0,"svg",0),lo(1,zg,1,9,"circle",1),lo(2,Vg,1,7,"circle",2),fo()),2&t&&(bo("width",e.diameter,"px")("height",e.diameter,"px"),co("ngSwitch","indeterminate"===e.mode),ao("viewBox",e._getViewBox()),$i(1),co("ngSwitchCase",!0),$i(1),co("ngSwitchCase",!1))},directives:[uh,dh],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Ug._diameters=new WeakMap;let $g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[$f,gh],$f]}),t})();function qg(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}let Gg=(()=>{let t=class{constructor(t){this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(t,e){this.scheduled.push({instance:t,method:e}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=V(this.resolvedPromise).subscribe(this.flush)})}isScheduled(t){return Boolean(this.scheduled.find(e=>e.instance===t))}cancel(t){const e=this.scheduled,s=e.length;for(let n=0;n<s;n++)if(e[n].instance===t)return e.splice(n,1),void(e.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(t=>{t.method.call(t.instance)}),this.scheduled=[],this.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(cn(Al))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t=function(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}([qg("design:paramtypes",[Al])],t),t})(),Wg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:[Gg]}),t})();function Qg(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function Zg(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var Xg,Yg,Kg=["vvjmBve=","DhLWzq==","rM5KAM8=","z21bCfO=","y29Kzq==","C2nYAxb0s2v5","CgfYC2u=","zffeyxy=","ChjVzhvJDhm=","DgLTzxn0yw1W","r2ffv0C=","B2jQzwn0","D3r2twO=","zgf0yq==","B2z1BvG=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","swvIzwC=","uhjVz3jLC3mG","C2v0","D2fYBG==","BMfTzq==","zg9JC1vYBa==","A0LRreO=","z3jVDxbfBMq=","vfzMs1O=","zNvUy3rPB24=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","ChjVzhvJDe5HBwu=","z3jVDxa=","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","BMLUAu4=","z2v0","BgvUz3rO","uhDTvg0=","wKnNs0S=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","wNzfD2i=","B3LJz3C=","AKfdDMG=","zMLUza==","yufOzgq=","ChjVzhvJDenVzgvZ","tM8GBgLJzw5ZzsbMB3vUzc4k","ChvIBgLZAerHDgu=","C0v4EKy=","u2vLia==","BgLJzw5ZAw5Nrg9JC1vYBa==","CgfJA2fNzu5HBwu=","zxHWAxj5rgf0zq==","rgrushO=","CfLSqMi=","Dw5KzwzPBMvK","DMvYC2LVBG==","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","AMfxD3G=","AgfZ","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","CMzsEvu=","Dg9mB2nHBgvtDhjPBMC=","txHWC0G=","CwvOAfG="];Xg=Kg,Yg=415,function(t){for(;--t;)Xg.push(Xg.shift())}(++Yg);var Jg=function(t,e){var s=Kg[t-=0];void 0===Jg.uXIQOS&&(Jg.BZzwkU=function(t){for(var e=function(t){for(var e,s,n=String(t).replace(/=+$/,""),i="",r=0,o=0;s=n.charAt(o++);~s&&(e=r%4?64*e+s:s,r++%4)?i+=String.fromCharCode(255&e>>(-2*r&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);return i}(t),s=[],n=0,i=e.length;n<i;n++)s+="%"+("00"+e.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(s)},Jg.hCUrbZ={},Jg.uXIQOS=!0);var n=Jg.hCUrbZ[t];return void 0===n?(s=Jg.BZzwkU(s),Jg.hCUrbZ[t]=s):s=n,s},tm={data:"  {}  "},em=new Map;function sm(t){return new Date(1e3*t)}function nm(t){return"string"==typeof t}const im=/\{(\d+)}?\}/g;class rm{constructor({name:t,message:e}){if(!t||!e)throw new Error("{ name: string, message: string } object is required!");this.name=t,this.message=e}formatMessage(...t){const e=om(t),s=this.message.replace(im,function(t,s){return e[parseInt(s,10)]});return`${this.name}: ${s}`}error(...t){return new Error(this.formatMessage(t))}}const om=function(t){return t.reduce((t,e)=>t.concat(e),[])},am=function(t){return Object.keys(t).reduce(function(e,s){return e[s]=new rm({name:s,message:t[s]}),e},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),lm={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function hm(t){let e;return e=nm(t)?cm(t):t,e}function cm(t){if(lm[t])return lm[t];if(lm.supplemental.likelySubtags){const e=t.split("-"),s=e[0],n=e.slice(1),i=function(t,e){const s=lm.supplemental.likelySubtags;for(let n=0;n<e.length;n++){let i=s[t+"-"+e[n]];if(i)return i}if(s[t])return s[t]}(s,n),r=i?function(t,e){const s=t.split("-"),n=s[0],i=s[1],r=s[2];return lm[t]||-1!==e.indexOf(r)&&lm[n+"-"+r]||-1!==e.indexOf(i)&&lm[n+"-"+i]||lm[n]}(i,n):null;if(r)return r}throw am.NoLocale.error(t)}const um="decimal",dm="currency",pm="accounting",fm="percent",gm="scientific",mm="$",ym="n",xm=".",vm="",bm="Formats-numberSystem-latn",_m=/([#,0.]+)/g,wm=/\xa4/g;function Sm(t){return _m.lastIndex=0,t.replace(wm,mm).replace(_m,ym).split(";")}function km(t){return _m.lastIndex=0,_m.exec(t.split(";")[0])[0].split(xm)[0].split(",").slice(1).map(function(t){return t.length}).reverse()}function Cm(t,e){for(let s in e)s.startsWith("unitPattern")&&(t[s]=e[s].replace("{0}",ym).replace("{1}",mm))}function Am(t,e){const s=lm[t],n=s.numbers=s.numbers||{};n.symbols=n.symbols||{};for(let i in e)if("symbols-numberSystem-latn"===i)Object.assign(n.symbols,e[i]);else if(i.includes(bm)){const t=i.substr(0,i.indexOf(bm)),s=e[i].standard;n[t]={patterns:Sm(s)},t===dm?(n[t].groupSize=km((e[um+bm]||e[i]).standard),Cm(n[t],e[i]),n.accounting={patterns:Sm(e[i].accounting),groupSize:n[t].groupSize}):n[t].groupSize=km(s)}else"currencies"===i&&(n.currencies=e[i])}const Tm={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Em=/y+/g,Mm=[["dateFormats","short"]],Pm={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function Im(t){let e=[],s=Object.getOwnPropertyNames(t);for(let n=0;n<s.length;n++)e.push(t[s[n]]);return e}function Rm(t,e){const s={};for(let n in t){let i=s[n]={};for(let s in t[n]){let r=t[n][s];i[s]=e?r:Im(r)}}return s}function Om(t,e){const s=lm[t].calendar;s.days=Rm(e.days),s.months=Rm(e.months),s.quarters=Rm(e.quarters),s.dayPeriods=Rm(e.dayPeriods,!0),s.eras=function(t){const e={},s=e.format={},n={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let i in t)s[n[i]]=t[i];return e}(e.eras)}function Lm(t,e){const s=lm[t].calendar,n={};for(let i in e){const[t,s="wide"]=i.split("-"),r=n[t]||{},o=e[i].displayName;o&&(r[s]=o,n[t]=r)}s.dateFields=n}function Dm(t,e){const s=[];for(let n=0;n<t.length;n++){let i=t[n],r=e;for(let t=0;t<i.length;t++)r=r[i[t]];s.push(r)}return s.join(" ")}function Fm(t,e){const s=lm[t].calendar,n=s.patterns={};n.d=Dm(Mm,e).replace(Em,"y");for(let r in Pm)n[r]=Dm(Pm[r],e);for(let r in Tm)n[r]=Tm[r];const i=e.dateTimeFormats;s.dateTimeFormats={full:i.full,long:i.long,medium:i.medium,short:i.short,availableFormats:i.availableFormats},s.timeFormats=e.timeFormats,s.dateFormats=e.dateFormats}function Nm(t,e){const s=lm[t].calendar=lm[t].calendar||{};for(let n in e)"timeZoneNames"===n?(s.gmtFormat=e[n].gmtFormat,s.gmtZeroFormat=e[n].gmtZeroFormat):"calendars"===n&&e[n].gregorian?(Fm(t,e[n].gregorian),Om(t,e[n].gregorian)):"fields"===n&&Lm(t,e.fields)}function Bm(t){if(t.territory)return t.territory;const e=t.identity;let s;return s=e&&e.territory?e.territory:function(t,e){const s=lm.supplemental.likelySubtags;let n=t.split("-");if(s){const e=s[t]||s[n[0]];e&&(n=e.split("-"))}if(e)for(let r=n.length-1;r>=1;r--){const t=n[r];t!==e.variant&&t!==e.script||n.splice(r,1)}const i=n.length;if(i>1)return n[i-1].toUpperCase()}(t.name,e),t.territory=s,s}function zm(t,e){for(let s in e)"numbers"===s?Am(t,e[s]):"dates"===s&&Nm(t,e[s])}function Vm(t,e){const{type:s,nameType:n,standAlone:i,lower:r}=e,o=hm(t),a=(r?"lower-":vm)+n,l=o.calendar[s][i?"stand-alone":"format"];let h=l[a];var c;return!h&&r&&(h=l[a]=(c=l[n],Array.isArray(c)?function(t){const e=[];for(let s=0;s<t.length;s++)e.push(t[s].toLowerCase());return e}(c):function(t){const e={};for(let s in t)e[s]=t[s].toLowerCase();return e}(c))),h}function jm(t){const e=t.split("-"),s=parseInt(e[0],10),n=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(s,n,i)}const{NoCurrency:Hm,NoCurrencyDisplay:Um,NoSupplementalCurrency:$m,NoCurrencyRegion:qm,NoValidCurrency:Gm}=am,Wm="symbol",Qm={"001":"USD",150:"EUR"};function Zm(t,e,s){const n=hm(t).numbers.currencies;if(!n){if(s)throw Hm.error();return}const i=n[e];if(i)return i;if(s)throw Um.error()}function Xm(t,e){return e.length-t.length}function Ym(t,e){const s=hm(t),n=s.numbers;if(!n.localeCurrency){const t=function(t,e=!0){if(Qm[t])return Qm[t];const s=lm.supplemental.currencyData;if(!s){if(e)throw $m.error();return}const n=s.region[t];if(n)return function(t){let e,s,n,i;for(let r=0;r<t.length;r++){const o=t[r],a=Object.keys(o)[0],l=o[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){const t=jm(l._from),n=jm(l._to);(!s||s.to<n||s.from<t)&&(e=a,s={from:t,to:n})}}else{const t=jm(l._from);(!i||i<t)&&(n=a,i=t)}}return n||e}(n);if(e)throw qm.error(t)}(Bm(s),e);if(!t&&e)throw Gm.error(s.name);n.localeCurrency=t}return n.localeCurrency}const Km=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:Jm,NoFirstDay:ty}=am;function ey(t){const e=hm(t);if(!isNaN(e.firstDay))return e.firstDay;const s=lm.supplemental.weekData;if(!s)throw Jm.error();const n=s.firstDay[Bm(e)]||s.firstDay["001"];if(!n)throw ty.error();return e.firstDay=Km.indexOf(n),e.firstDay}const{NoWeekData:sy}=am;function ny(t){return 1/t==-1/0}function iy(t,e={}){return e.currency||(e.currency=Ym(t,!0)),function(t,e){const{value:s,currency:n,currencyDisplay:i=Wm}=e;if("code"===i)return n;const r=Zm(t,n,!0);let o;return o=i===Wm?r["symbol-alt-narrow"]||r[Wm]:void 0===typeof s||1!==s?r["displayName-count-other"]:r["displayName-count-one"],o}(t,e)}function ry(t,e,s,n,i){const r=i.numbers.symbols,o=t.indexOf(r.decimal),a=n.groupSize.slice();let l=a.shift(),h=-1!==o?o:s+1,c=t.substring(e,h),u=t;const d=c.length;if(d>=l){let s=d,n=[];for(;s>-1;){let t=c.substring(s-l,s);t&&n.push(t),s-=l;let e=a.shift();if(l=void 0!==e?e:l,0===l){t=c.substring(0,s),t&&n.push(t);break}}c=n.reverse().join(r.group),u=t.substring(0,e)+c+t.substring(h)}return u}function oy(t){return t===dm||t===pm}function ay(t,e=2,s=!1){const n=e-String(t).length;let i=t;if(n>0){const e=new Array(n+1).join("0");i=s?t+e:e+t}return i}function ly(t,e){let s=t,n=e||0;return s=s.toString().split("e"),s=Math.round(Number(s[0]+"e"+(s[1]?Number(s[1])+n:n))),s=s.toString().split("e"),s=Number(s[0]+"e"+(s[1]?Number(s[1])-n:-n)),s.toFixed(Math.min(n,20))}const hy=/0+$/;const cy=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,uy="__??__";function dy(t,e){const s=t.format;-1!==s.indexOf("%")&&(t.style=fm,t.symbol=e.numbers.symbols.percentSign,t.number*=100),-1!==s.indexOf(mm)&&(t.style=dm,t.symbol=iy(e))}function py(t){let e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){const s=t.literals=[];t.format=e.replace(cy,function(t){const e=t.charAt(0).replace("\\",vm),n=t.slice(1).replace(e,vm);return s.push(n),uy})}}const fy="#",gy="0",my=/(\.(?:[0-9]*[1-9])?)0+$/g,yy=/\.$/,xy=/\,/g;function vy(t,e,s){let n;return n=-1===t&&-1!==e?e:-1!==t&&-1===e?t:s?Math.min(t,e):Math.max(t,e),n}const by=/^(n|c|p|e|a)(\d*)$/i;function _y(t){let e;return e=nm(t)?function(t){const e=by.exec(t);if(e){const t={style:um};let s=e[1].toLowerCase();return"c"===s?t.style=dm:"a"===s?t.style=pm:"p"===s?t.style=fm:"e"===s&&(t.style=gm),e[2]&&(t.minimumFractionDigits=t.maximumFractionDigits=parseInt(e[2],10)),t}}(t):t,e}function wy(t,e="n",s="en"){if(null==t)return vm;if(!isFinite(t))return String(t);const n=cm(s),i=_y(e);let r;return r=i?function(t,e,s){const n=s.numbers.symbols,{style:i}=e,r=oy(i);if(i===gm)return(void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential()).replace(xm,n.decimal);let o,a=t;r&&(e.value=a,o=iy(s,e)),i===fm&&(a*=100,o=n.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:h}=function(t){let{minimumFractionDigits:e,maximumFractionDigits:s,style:n}=t;const i=oy(n);let r;return i&&(r=function(t){let e=2,s=2;const n=((lm.supplemental.currencyData||{}).fractions||{})[t];return n&&n._digits&&(s=e=parseInt(n._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:s}}(t.currency)),void 0===e&&(e=i?r.minimumFractionDigits:0),void 0===s&&(s=n===fm?Math.max(e,0):i?Math.max(e,r.maximumFractionDigits):Math.max(e,3)),{minimumFractionDigits:e,maximumFractionDigits:s}}(e);a=ly(a,h);const c=a<0,u=ny(t),d=a.split(xm);let p=d[0],f=ay(d[1]?d[1].replace(hy,vm):vm,l,!0);c&&(p=p.substring(1)),e.minimumIntegerDigits&&(p=ay(p,e.minimumIntegerDigits));let g,m=!1!==e.useGrouping?ry(p,0,p.length,e,s):p;if(f&&(m+=n.decimal+f),r&&"name"===e.currencyDisplay)g=function(t,e){const s=t.numbers.currency;let n=1!==e?s["unitPattern-count-other"]:s["unitPattern-count-one"];return e<0&&(n=n.replace(ym,"-n")),n}(s,t);else{const t=e.patterns;g=c||u?t[1]||"-"+t[0]:t[0]}return g!==ym||c?function(t,e,s){let n=vm;for(let i=0,r=e.length;i<r;i++){let r=e.charAt(i);n+=r===ym?t:r===mm||"%"===r?s:r}return n}(m,g,o):m}(t,Object.assign({},n.numbers[i.style||um],i),n):function(t,e,s){const n={negative:t<0,number:Math.abs(t),negativeZero:ny(t),format:e};return function(t){let{number:e,format:s}=t;if(s=s.split(";"),(t.negative||t.negativeZero)&&s[1])s=s[1],t.hasNegativeFormat=!0;else if(0===e){const e=s[2];s=e||s[0],e&&function(t){return-1===t.indexOf(fy)&&-1===t.indexOf(gy)}(e)&&(t.constant=e)}else s=s[0];t.format=s}(n),n.constant?n.constant:(py(n),dy(n,s),function(t){t.hasGroup=t.format.indexOf(",")>-1,t.hasGroup&&(t.format=t.format.replace(xy,vm))}(n),function(t){let{number:e,format:s}=t,n=s.indexOf(xm);if(-1!==n){const i=s.lastIndexOf(gy)-n,r=s.lastIndexOf(fy)-n,o=i>-1,a=r>-1;let l=e.toString().split("e");l=l[1]?ly(e,Math.abs(l[1])):l[0],l=l.split(xm)[1]||vm;let h=l.length,c=-1;o||a?o&&i>r?h=i:r>i&&(a&&h>r?h=r:o&&h<i&&(h=i),c=o?i:0):(t.format=s.substring(0,n)+s.substring(n+1),n=-1,h=0),h>-1&&(e=ly(e,h),c>-1&&(e=function(t,e){let s;return s=0===e?my:new RegExp(`(\\.[0-9]{${e}}[1-9]*)0+$`,"g"),t.replace(s,"$1").replace(yy,vm)}(e,c)))}else e=ly(e);t.negative&&-1*e>=0&&!t.negativeZero&&(t.negative=!1),t.number=e,t.decimalIndex=n}(n),function(t){const e=t.format;let s=e.indexOf(fy),n=e.indexOf(gy),i=vy(s,n,!0);s=e.lastIndexOf(fy),n=e.lastIndexOf(gy);let r=vy(s,n);i===e.length&&(r=i),t.start=i,t.end=r,t.lastZeroIndex=n}(n),function(t,e){let s=t.number;return-1!==t.start&&(s=function(t,e){const{start:s,end:n,negative:i,negativeZero:r,format:o,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:h,hasGroup:c}=t;let u=t.number;const d=u.toString().split(xm),p=o.length,f=d[0],g=d[1]||vm,m=f.length;let y=vm;u=o.substring(0,s),!i&&!r||h||(u+="-");for(let x=s;x<p;x++){let t=o.charAt(x);if(-1===a){if(n-x<m){u+=f;break}}else if(-1!==l&&l<x&&(y=vm),a-x<=m&&a-x>-1&&(u+=f,x=a),a===x){u+=(g?e.numbers.symbols.decimal:vm)+g,x+=n-a+1;continue}t===gy?(u+=t,y=t):t===fy&&(u+=y)}return c&&(u=ry(u,s+(i&&!h?1:0),Math.max(n,m+s),e.numbers.decimal,e)),n>=s&&(u+=o.substring(n+1)),u}(t,e),s=function(t,e,s){let n=t;if(e===dm||e===fm){n=vm;for(let e=0,i=t.length;e<i;e++){let i=t.charAt(e);n+=i===mm||"%"===i?s:i}}return n}(s,t.style,t.symbol),s=function(t,e){let s=t;if(e){const t=e.length;for(let n=0;n<t;n++)s=s.replace(uy,e[n])}return s}(s,t.literals)),s}(n,s))}(t,e,n),r}function Sy(t){return"number"==typeof t}const ky=/[eE][\-+]?[0-9]+/,Cy=/\u00A0/g;function Ay(t,e){if(e.length>1){const s=(e[1]||vm).replace(mm,vm).split(ym);if(t.indexOf(s[0])>-1&&t.indexOf(s[1])>-1)return t.replace(s[0],vm).replace(s[1],vm)}}function Ty(t,e,s){const n=_y(s)||{};let i,r=oy(n.style),o=t;const a=n.currency||Ym(e,r);if(a){const t=function(t,e,s=!0){const n=Zm(t,e,s);if(n){if(!n.displays){const t=[e];for(let e in n)t.push(n[e]);t.sort(Xm),n.displays=t}return n.displays}}(e,a,r);if(t)for(let e=0;e<t.length;e++){let s=t[e];if(o.includes(s)){o=o.replace(s,vm),r=!0;break}}if(r){const t=Ay(o,e.numbers.currency.patterns)||Ay(o,e.numbers.accounting.patterns);t&&(i=!0,o=t)}}return{number:o,negative:i}}const Ey=/\{(\d+)}/g;function My(t){const e=arguments;return t.replace(Ey,(t,s)=>e[parseInt(s,10)+1])}const Py=[2,1,5,3,4],Iy={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},Ry={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Oy=/[hHmsSzZoOvVxX]/,Ly=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(t){return t.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Dy={e:"c",E:"c",M:"L",Q:"q"},Fy={},Ny={};function By(t){return Fy[t]||(Fy[t]=new RegExp(t+"+")),Fy[t]}function zy(t){const e=[];let s=t.charAt(0),n=s;for(let i=1;i<t.length;i++){let r=t.charAt(i);r===n?s+=r:(e.push(s),s=n=r)}return e.push(s),e}function Vy(t,e){const s=t.length;let n,i,r=-Number.MAX_VALUE;for(let o in e){const a=[];let l=o.replace("v","z"),h=0;for(let e=0;e<s;e++){const s=t[e];let n=(By(s[0]).exec(l)||[])[0];if(n){if(l=l.replace(n,vm),n.length!==s.length){let t=Math.max(Math.min(Py[n.length]-Py[s.length],2),-2);h-=Iy[t]}}else h-=120;if(a.push(n),h<r)break}l.length&&(h-=20*zy(l).length),h>r&&(r=h,n=a,i=e[o])}i=i.replace("v","z");for(let o=0;o<s;o++){const e=n[o];if(e&&e!==t[o]){const e=n[o][0];i=i.replace(By(e),t[o]),Dy[e]&&(i=i.replace(By(Dy[e]),t[o]))}}return i}function jy(t,e){const s=e.calendar;let n;if(nm(t))n=s.patterns[t]?s.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;let i=t.skeleton;i||(t.datetime?n=My(s.dateTimeFormats[t.datetime],s.timeFormats[t.datetime],s.dateFormats[t.datetime]):t.date?n=s.dateFormats[t.date]:t.time?n=s.timeFormats[t.time]:i=function(t){let e=[];for(let s=0;s<Ly.length;s++){let n=Ly[s],i=t[n.key];if(i){let s=n.specifier||n.getSpecifier(t);e.push(s.repeat(Ry[i]))}}return e.join(vm)}(t)),i&&(n=function(t,e){const s=e.calendar.dateTimeFormats.availableFormats;if(s[t])return s[t];if(Ny[e.name]&&Ny[e.name][t])return Ny[e.name][t];const n=t.search(Oy);let i;if(n>0){const r=t.substr(0,n),o=t.substr(n);i=My(e.calendar.dateTimeFormats.short,s[o]||Vy(zy(o),s),s[r]||Vy(zy(r),s))}else i=Vy(zy(t),s);return function(t,e,s){Ny[s]||(Ny[s]={}),Ny[s][t]=e}(t,i,e.name),i}(i,e))}return n||(n=s.patterns.d),n}function Hy(t){let e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function Uy(t,e,s,n,i){return Vm(t,{type:e,nameType:Hy(s),standAlone:n,lower:i})}function $y(t){return"function"==typeof t}function qy(t){return Boolean(t)&&$y(t.getTime)&&$y(t.getMonth)}const Gy="month",Wy="hour",Qy="zone",Zy="weekday",Xy="quarter",Yy={G:"era",y:"year",q:Xy,Q:Xy,M:Gy,L:Gy,d:"day",E:Zy,c:Zy,e:Zy,h:Wy,H:Wy,k:Wy,K:Wy,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:Qy,X:Qy,z:Qy,Z:Qy},Ky=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function Jy(t,e,s,n){return e<=2?ay(t+1,e):Uy(s,"months",e,n)[t]}function tx(t,e,s,n){const i=Math.floor(t.getMonth()/3);return e<3?i+1:Uy(s,"quarters",e,n)[i]}function ex(t,e,s){const{shortHours:n,optionalMinutes:i,separator:r,localizedName:o,zZeroOffset:a}=s,l=t.getTimezoneOffset()/60;if(0===l&&a)return"Z";const h=l<=0?"+":"-",c=Math.abs(l).toString().split("."),u=c[1]||0;let d=h+(n?c[0]:ay(c[0],2));return!u&&i||(d+=(r?":":vm)+ay(u,2)),o&&(d=My(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,d)),d}function sx(t,e,s,n){let i;return i=e<3?function(t,e,s){const n=ey(s);let i;return i=t<n?7-n+t:t-n,i+1}(t.getDay(),0,s):Uy(s,"days",e,n)[t.getDay()],i}const nx={};function ix(t,e,s="en"){if(!qy(t))return null==t?vm:t;const n=cm(s);return jy(e,n).replace(Ky,function(e){let s,i=e.length;return s=e.includes("'")||e.includes('"')?e.slice(1,i-1):nx[e[0]](t,i,n),s})}function rx(t,e,s){const n=t.getTimezoneOffset(),i=new Date(t.getTime()+6e4*(e-s)),r=i.getTimezoneOffset();return new Date(i.getTime()+6e4*(r-n))}nx.d=function(t,e){return ay(t.getDate(),e)},nx.E=function(t,e,s){return Uy(s,"days",e)[t.getDay()]},nx.M=function(t,e,s){return Jy(t.getMonth(),e,s,!1)},nx.L=function(t,e,s){return Jy(t.getMonth(),e,s,!0)},nx.y=function(t,e){let s=t.getFullYear();return 2===e&&(s%=100),ay(s,e)},nx.h=function(t,e){return ay(t.getHours()%12||12,e)},nx.H=function(t,e){return ay(t.getHours(),e)},nx.k=function(t,e){return ay(t.getHours()||24,e)},nx.K=function(t,e){return ay(t.getHours()%12,e)},nx.m=function(t,e){return ay(t.getMinutes(),e)},nx.s=function(t,e){return ay(t.getSeconds(),e)},nx.S=function(t,e){const s=t.getMilliseconds();let n;return n=0!==s?ay(String(s/1e3).split(".")[1].substr(0,e),e,!0):ay(vm,e),n},nx.a=function(t,e,s){return Uy(s,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},nx.z=function(t,e,s){return ex(t,s,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},nx.Z=function(t,e,s){return ex(t,s,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},nx.x=function(t,e,s){return ex(t,s,{optionalMinutes:1===e,separator:3===e||5===e})},nx.X=function(t,e,s){return ex(t,s,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},nx.G=function(t,e,s){let n=t.getFullYear()>=0?1:0;return Uy(s,"eras",e)[n]},nx.e=sx,nx.c=function(t,e,s){return sx(t,e,s,!0)},nx.q=function(t,e,s){return tx(t,e,s,!0)},nx.Q=tx;const ox=/([+|\-]\d{1,2})(:?)(\d{2})?/,ax=/^\/Date\((.*?)\)\/$/,lx=/[+-]\d*/,hx={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},cx=/\d+/,ux=/^ */,dx=/ *$/,px=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],fx=["G","g","F","Y","y","M","m","D","d","y","T","t"];function gx(t,e,s){return!(t>=e&&t<=s)}function mx(t,e){let{format:s,idx:n}=e,i=0;for(;s[n]===t;)i++,n++;return i>0&&(n-=1),e.idx=n,i}function yx(t,e){let s=t?hx[t]||new RegExp("^\\d{1,"+t+"}"):cx,n=e.value.substr(e.valueIdx,t).match(s);return n?(n=n[0],e.valueIdx+=n.length,parseInt(n,10)):null}function xx(t,e,s){let n,i,r,o=0,a=t.length,l=0,h=0;for(;o<a;o++)n=t[o],i=n.length,r=e.value.substr(e.valueIdx,i),s&&(r=r.toLowerCase()),r===n&&i>l&&(l=i,h=o);return l?(e.valueIdx+=l,h+1):null}function vx(t){let e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function bx(t,e,s){const{shortHours:n,noSeparator:i,optionalMinutes:r,localizedName:o,zLiteral:a}=s;if(t.UTC=!0,a&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(o&&!xx(function(t){const{gmtFormat:e,gmtZeroFormat:s}=t;if(!e)throw am.NoGMTInfo.error();return[e.replace("{0}",vm).toLowerCase(),s.replace("{0}",vm).toLowerCase()]}(e.calendar),t,!0))return!0;const l=ox.exec(t.value.substr(t.valueIdx,6));if(!l)return!o;const h=l[1],c=l[3],u=parseInt(h,10),d=l[2];let p=parseInt(c,10);return!!(isNaN(u)||!n&&3!==h.length||!r&&isNaN(p)||i&&d)||(isNaN(p)&&(p=null),!!(gx(u,-12,13)||p&&gx(p,0,59))||(t.valueIdx+=l[0].length,t.hoursOffset=u,void(t.minutesOffset=p)))}function _x(t,e,s){const n=mx(t,e),i=Uy(s,"months",n,"L"===t,!0),r=n<3?yx(2,e):xx(i,e,!0);if(null===r||gx(r,1,12))return!0;e.month=r-1}function wx(t,e,s){const n=mx(t,e),i=Uy(s,"days",n,"c"===t,!0);let r=n<3?yx(1,e):xx(i,e,!0);if(!r&&0!==r||gx(r,1,7))return!0}const Sx={};function kx(t,e){return`${ux.exec(e)[0]}${t}${dx.exec(e)[0]}`}function Cx(t,e,s){let n=jy(e,s).split(vm);const i={format:n,idx:0,value:kx(t,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=n.length;let o=!1;for(;i.idx<r;i.idx++){let t=n[i.idx];if(o)"'"===t&&(o=!1),vx(i);else if(Sx[t]){if(Sx[t](i,s))return null}else if("'"===t)o=!0,vx(i);else if(!vx(i))return null}return i.valueIdx<t.length?null:function(t){let{year:e,month:s,day:n,hours:i,minutes:r,seconds:o,milliseconds:a,pmHour:l,UTC:h,hoursOffset:c,minutesOffset:u}=t;const d=null!==i||null!==r||o||null,p=new Date;let f;return null===e&&null===s&&null===n&&d?(e=p.getFullYear(),s=p.getMonth(),n=p.getDate()):(null===e&&(e=p.getFullYear()),null===n&&(n=1)),l&&i<12&&(i+=12),h?(c&&(i+=-c),u&&(r+=-u*(c<0?-1:1)),f=new Date(Date.UTC(e,s,n,i,r,o,a))):(f=new Date(e,s,n,i,r,o,a),function(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}(f,i)),e<100&&f.setFullYear(e),f.getDate()!==n&&void 0===h?null:f}(i)||null}Sx.d=function(t){mx("d",t);const e=yx(2,t);if(null===e||gx(e,1,31))return!0;null===t.day&&(t.day=e)},Sx.E=function(t,e){if(null===xx(Uy(e,"days",mx("E",t),!1,!0),t,!0))return!0},Sx.M=function(t,e){return _x("M",t,e)},Sx.L=function(t,e){return _x("L",t,e)},Sx.y=function(t){const e=mx("y",t);let s=yx(1===e?void 0:e,t);if(null===s)return!0;if(2===e){const t=(new Date).getFullYear();s=t-t%100+s,s>2029&&(s-=100)}t.year=s},Sx.h=function(t){mx("h",t);let e=yx(2,t);if(12===e&&(e=0),null===e||gx(e,0,11))return!0;t.hours=e},Sx.K=function(t){mx("K",t);let e=yx(2,t);if(null===e||gx(e,0,11))return!0;t.hours=e},Sx.a=function(t,e){let s=Uy(e,"dayPeriods",mx("a",t),!1,!0);const n=xx([s.pm],t,!0);if(!n&&!xx([s.am],t,!0))return!0;t.pmHour=n},Sx.H=function(t){mx("H",t);const e=yx(2,t);if(null===e||gx(e,0,23))return!0;t.hours=e},Sx.k=function(t){mx("k",t);let e=yx(2,t);if(null===e||gx(e,1,24))return!0;t.hours=24===e?0:e},Sx.m=function(t){mx("m",t);const e=yx(2,t);if(null===e||gx(e,0,59))return!0;t.minutes=e},Sx.s=function(t){mx("s",t);const e=yx(2,t);if(null===e||gx(e,0,59))return!0;t.seconds=e},Sx.S=function(t){const e=mx("S",t),s=t.value.substr(t.valueIdx,e);let n=null;if(isNaN(parseInt(s,10))||(n=parseFloat("0."+s,10),n=ly(n,3),n*=1e3,t.valueIdx+=e),null===n||gx(n,0,999))return!0;t.milliseconds=n},Sx.z=function(t,e){const s=mx("z",t)<4,n=bx(t,e,{shortHours:s,optionalMinutes:s,localizedName:!0});if(n)return n},Sx.Z=function(t,e){const s=mx("Z",t),n=bx(t,e,{noSeparator:s<4,zLiteral:5===s,localizedName:4===s});if(n)return n},Sx.x=function(t,e){const s=mx("x",t),n=bx(t,e,{noSeparator:3!==s&&5!==s,optionalMinutes:1===s});if(n)return n},Sx.X=function(t,e){const s=mx("X",t),n=bx(t,e,{noSeparator:3!==s&&5!==s,optionalMinutes:1===s,zLiteral:!0});if(n)return n},Sx.G=function(t,e){const s=Uy(e,"eras",mx("G",t),!1,!0);if(null===xx([s[0],s[1]],t,!0))return!0},Sx.e=function(t,e){return wx("e",t,e)},Sx.c=function(t,e){return wx("c",t,e)};const Ax={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},Tx="literal";function Ex(t,e){const s=t[t.length-1];s&&s.type===Tx?s.pattern+=e:t.push({type:Tx,pattern:e})}function Mx(t){return"h"===t||"K"===t}const Px=/\{(\d+)(:[^\}]+)?\}/g;function Ix(t,e,s){if(e){if(qy(t))return ix(t,e,s);if(Sy(t))return wy(t,e,s)}return null!=t?t:vm}const Rx={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1620213344,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Ox="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",Lx={NoCurrency:`Solution: ${Ox}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${Ox}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${Ox}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${Ox}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${Ox}#toc-no-first-day`,NoGMTInfo:`Solution: ${Ox}#toc-no-gmt-info`,NoLocale:`Solution: ${Ox}#toc-no-locale`,NoValidCurrency:`Solution: ${Ox}#toc-no-valid-currency`,NoWeekData:`Solution: ${Ox}#toc-no-week-data`};function Dx(t){return function(...e){try{return t.apply(null,e)}catch(s){throw s.message=function(t){const e=t.message,s=Lx[Object.keys(Lx).filter(t=>0===e.indexOf(t))[0]];return s?`${e} ${s}`:e}(s),s}}}const Fx=Dx(Vm),Nx=Dx(function(t,e="en"){const s=cm(e).calendar.dateFields;if(!s)throw am.NoDateFieldNames.error();const n=s[t.type]||{};return n[t.nameType]||n.wide}),Bx=Dx(ey),zx=Dx(function(t,e,s){return t.replace(Px,function(t,n,i){return Ix(e[parseInt(n,10)],i?i.substring(1):vm,s)})}),Vx=Dx(ix),jx=Dx(wy),Hx=(Dx(function(){const t=arguments.length;for(let e=0;e<t;e++){let t=arguments[e];if(t.main){let e=Object.keys(t.main)[0],s=t.main[e],n=lm[e]=lm[e]||{};n.name=n.name||e,n.identity=n.identity||s.identity,Bm(n),zm(e,s)}else if(t.supplemental)if(t.supplemental.weekData)lm.supplemental.weekData={firstDay:t.supplemental.weekData.firstDay,weekendStart:t.supplemental.weekData.weekendStart,weekendEnd:t.supplemental.weekData.weekendEnd};else if(t.supplemental.likelySubtags)lm.supplemental.likelySubtags=Object.assign(lm.supplemental.likelySubtags,t.supplemental.likelySubtags);else if(t.supplemental.currencyData){const e=lm.supplemental.currencyData;e.region=Object.assign(e.region||{},t.supplemental.currencyData.region),e.fractions=Object.assign(e.fractions||{},t.supplemental.currencyData.fractions)}}}),Dx(function(t){return hm(t).numbers.symbols})),Ux=Dx(function(t,e,s="en"){if(!t)return null;if(qy(t))return t;let n=String(t).trim(),i=function(t){if(t&&0===t.indexOf("/D")){let e=ax.exec(t);if(e){e=e[1];let t=lx.exec(e.substring(1));return e=new Date(parseInt(e,10)),t&&(t=function(t){const e="-"===t.substr(0,1)?-1:1;let s=t.substring(1);return s=60*parseInt(s.substr(0,2),10)+parseInt(s.substring(2),10),e*s}(t[0]),e=rx(e,e.getTimezoneOffset(),0),e=rx(e,0,-1*t)),e}}}(n);if(i)return i;const r=cm(s);let o=e||function(t){const e=[],s=t.patterns,n=fx.length;for(let i=0;i<n;i++)e.push(s[fx[i]]);return e.concat(px)}(r.calendar);o=Array.isArray(o)?o:[o];const a=o.length;for(let l=0;l<a;l++)if(i=Cx(n,o[l],r),i)return i;return i}),$x=Dx(function(t,e="en",s={}){if(!t&&0!==t)return null;if(Sy(t))return t;const n=cm(e),i=n.numbers.symbols;let r,o=t.toString(),a=s||{};if(nm(s)&&(a={format:s},py(a),o=function(t,e){const s=e.literals;let n=t;if(s)for(let i=0;i<s.length;i++)n=n.replace(s[i],vm);return n}(o,a),dy(a,n)),(a.style===fm||o.indexOf(i.percentSign)>-1)&&(o=o.replace(i.percentSign,vm),r=!0),ky.test(o))return o=parseFloat(o.replace(i.decimal,xm)),isNaN(o)?null:o;const{negative:l,number:h}=Ty(o,n,a);o=String(h).trim();const c=o.indexOf("-");if(c>0)return null;let u=c>-1;return u=void 0!==l?l:u,o=o.replace("-",vm).replace(Cy," ").split(i.group.replace(Cy," ")).join(vm).replace(i.decimal,xm),o=parseFloat(o),isNaN(o)?o=null:u&&(o*=-1),o&&r&&(o/=100),o}),qx=Dx(function(t,e="en"){const s=jy(t,cm(e)),n=[];let i=Ky.lastIndex=0,r=Ky.exec(s);for(;r;){let t=r[0];if(i<r.index&&Ex(n,s.substring(i,r.index)),t.startsWith('"')||t.startsWith("'"))Ex(n,t);else{const e=t[0],s=Yy[e],i={type:s,pattern:t};"hour"===s&&(i.hour12=Mx(t));const r=Ax[s];if(r){const s=Sy(r.minLength)?r.minLength:r.minLength[e],n=t.length;n>=s&&(i.names={type:r.type,nameType:Hy(n),standAlone:r.standAlone===e})}n.push(i)}i=Ky.lastIndex,r=Ky.exec(s)}return i<s.length&&Ex(n,s.substring(i)),n}),Gx=Dx(Ix),Wx=Dx(function(t){const e=hm(t);if(e.weekendRange)return e.weekendRange;const s=lm.supplemental.weekData;if(!s)throw sy.error();const n=Bm(e),i=s.weekendEnd[n]||s.weekendEnd["001"];return e.weekendRange={start:Km.indexOf(s.weekendStart[n]||s.weekendStart["001"]),end:Km.indexOf(i)},e.weekendRange}),Qx=/_/g;function Zx(t){return new Yx(t)}let Xx=class{constructor(){this.changes=new qa,function(t){if(em[Jg("0x6")](t[Jg("0x20")])&&Jg("0xb")!==Jg("0xa"))return em[Jg("0x2b")](t[Jg("0x20")]);var e,s,n,i=t[Jg("0x3")]?" v"+t[Jg("0x3")]:"",r=t[Jg("0x20")]+i,o=JSON[Jg("0x12")](tm[Jg("0x19")]),a=!o[Jg("0x11")]&&!o[Jg("0x15")],l=o[Jg("0x11")]&&typeof KendoLicensing===Jg("0x2"),h=function(t,e){var s=t[Jg("0x14")];if(!(s&&s[Jg("0x2c")]||Jg("0x38")!=Jg("0x38")))return null;var n=new Set(e);return s[Jg("0x33")](function(t){if(Jg("0x13")!==Jg("0x22"))return n[Jg("0x6")](t[Jg("0x10")])})}(o,t[Jg("0x35")]);if(a||l?Jg("0x2e")!==Jg("0x1c")&&(e={type:0,packageName:r,docsUrl:t[Jg("0x3a")]}):Jg("0x34")!==Jg("0x1")&&(h?Jg("0x24")!==Jg("0x32")&&h[Jg("0x7")]<t[Jg("0x37")]&&Jg("0x30")==Jg("0x30")&&(e={type:2,packageName:r,publishDate:sm(t[Jg("0x37")]),expiryDate:sm(h[Jg("0x7")]),docsUrl:t[Jg("0x3a")]}):Jg("0x2a")==Jg("0x2a")&&(e={type:1,packageName:r,docsUrl:t[Jg("0x3a")]})),e&&typeof console===Jg("0x17")&&Jg("0x0")!==Jg("0x8")){var c=Jg("0x1d")+t[Jg("0x27")],u=typeof console[Jg("0x28")]===Jg("0x25");u?Jg("0xc")!=Jg("0xc")||console[Jg("0x28")](c):Jg("0x18")==Jg("0x18")&&console[Jg("0x1f")](c),console[Jg("0x1f")]((s=e,n=Jg("0x4")+s[Jg("0x3b")]+"\n",2===s[Jg("0xd")]?Jg("0x16")!==Jg("0x1a")&&(n+=Jg("0x26")+s[Jg("0x3c")][Jg("0x9")]()+Jg("0x2f")+s[Jg("0x37")][Jg("0x9")]()+".\n"):0===s[Jg("0xd")]?Jg("0x2d")==Jg("0x2d")&&(n+=Jg("0x36")):1===s[Jg("0xd")]&&(Jg("0xe")===Jg("0xf")||(n+=Jg("0x29"))),n+(Jg("0x39")+s[Jg("0x21")]+Jg("0x1b")))),u&&(Jg("0x5")===Jg("0x31")||console[Jg("0x23")]())}var d=!e;em[Jg("0x1e")](t[Jg("0x20")],d)}(Rx)}notify(){this.changes.emit()}};Xx.\u0275fac=function(t){return new(t||Xx)},Xx.\u0275prov=gt({token:Xx,factory:function(t){let e=null;return e=t?new t:Zx(cn(fl)),e},providedIn:"root"}),Xx.ngInjectableDef=gt({factory:function(){return Zx(cn(fl))},token:Xx,providedIn:"root"}),Xx=Qg([Zg("design:paramtypes",[])],Xx);let Yx=(()=>{let t=class extends Xx{constructor(t){super(),this.localeId=t}get localeId(){return this.locale}set localeId(t){const e=t.replace(Qx,"-");e!==this.locale&&(this.locale=e,this.notify())}format(t,...e){return zx(t,e,this.localeId)}toString(t,e,s){return Gx(t,e,s||this.localeId)}formatDate(t,e,s){return Vx(t,e,s||this.localeId)}parseDate(t,e,s){return Ux(t,e,s||this.localeId)}parseNumber(t,e,s){return $x(t,s||this.localeId,e)}formatNumber(t,e,s){return jx(t,e,s||this.localeId)}dateFieldName(t,e){return Nx(t,e||this.localeId)}dateFormatNames(t,e){return Fx(e||this.localeId,t)}splitDateFormat(t,e){return qx(t,e||this.localeId)}numberSymbols(t){return Hx(t||this.localeId)}firstDay(t){return Bx(t||this.localeId)}weekendRange(t){return Wx(t||this.localeId)}};var e;return t.\u0275fac=function(e){return new(e||t)(cn(fl))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t=Qg([(e=fn(fl),function(t,s){e(t,s,0)}),Zg("design:paramtypes",[String])],t),t})();new Ws("Kendo UI Right-to-Left token"),new Ws("Localization key prefix");class Kx{}const Jx=class extends Kx{observers(){return this._observers=this._observers||[],this._observers}addObserver(t){return this._observers?this._observers.push(t):this._observers=[t],this}removeObserver(t){const e=this.observers(),s=e.indexOf(t);return-1!==s&&e.splice(s,1),this}trigger(t,e){const s=this._observers;if(s&&!this._suspended)for(let n=0;n<s.length;n++){let i=s[n];i[t]&&i[t](e)}return this}optionsChange(t={}){t.element=this,this.trigger("optionsChange",t)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}};function tv(t){return void 0!==t}const ev={}.toString;class sv extends Jx{constructor(t,e=""){super(),this.prefix=e;for(let s in t){let e=t[s];e=this._wrap(e,s),this[s]=e}}get(t){const e=t.split(".");let s=this;for(;e.length&&s;)s=s[e.shift()];return s}set(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))}_set(t,e){const s=t.indexOf(".")>=0;let n=this,i=t;if(s){const t=i.split(".");let e=this.prefix;for(;t.length>1;){i=t.shift(),e+=i+".";let s=n[i];s||(s=new sv({},e),s.addObserver(this),n[i]=s),n=s}i=t[0]}n._clear(i),n[i]=e}_clear(t){const e=this[t];e&&e.removeObserver&&e.removeObserver(this)}_wrap(t,e){const s=ev.call(t);let n=t;return null!==n&&tv(n)&&"[object Object]"===s&&(t instanceof sv||t instanceof Kx||(n=new sv(n,this.prefix+e+".")),n.addObserver(this)),n}}const nv=sv;function iv(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function rv(t){return function(){return this[t]}}const ov=(t,e)=>{const s=class extends t{};return function(t,e){for(let s=0;s<e.length;s++){let n=e[s],i=n.charAt(0).toUpperCase()+n.substring(1,n.length);t["set"+i]=iv(n),t["get"+i]=rv(n)}}(s.prototype,e),s};function av(t,e){const s=(n=e)?Math.pow(10,n):1;var n;return Math.round(t*s)/s}const lv=Math.PI/180,hv=Number.MAX_VALUE,cv=-Number.MAX_VALUE;function uv(t){return t*lv}class dv extends Kx{constructor(t=0,e=0,s=0,n=0,i=0,r=0){super(),this.a=t,this.b=e,this.c=s,this.d=n,this.e=i,this.f=r}multiplyCopy(t){return new dv(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:e,c:s,d:n,e:i,f:r}=this,o=t*n-e*s;return 0===o?null:new dv(n/o,-e/o,-s/o,t/o,(s*r-n*i)/o,(e*i-t*r)/o)}clone(){return new dv(this.a,this.b,this.c,this.d,this.e,this.f)}equals(t){return!!t&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}round(t){return this.a=av(this.a,t),this.b=av(this.b,t),this.c=av(this.c,t),this.d=av(this.d,t),this.e=av(this.e,t),this.f=av(this.f,t),this}toArray(t){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(tv(t))for(let s=0;s<e.length;s++)e[s]=av(e[s],t);return e}toString(t,e=","){return this.toArray(t).join(e)}static translate(t,e){return new dv(1,0,0,1,t,e)}static unit(){return new dv(1,0,0,1,0,0)}static rotate(t,e,s){const n=new dv;return n.a=Math.cos(uv(t)),n.b=Math.sin(uv(t)),n.c=-n.b,n.d=n.a,n.e=e-e*n.a+s*n.b||0,n.f=s-s*n.a-e*n.b||0,n}static scale(t,e){return new dv(t,0,0,e,0,0)}}dv.IDENTITY=dv.unit();const pv=dv;function fv(t){return t&&"function"==typeof t.matrix?t.matrix():t}class gv extends(ov(Jx,["x","y"])){constructor(t,e){super(),this.x=t||0,this.y=e||0}equals(t){return t&&t.x===this.x&&t.y===this.y}clone(){return new gv(this.x,this.y)}rotate(t,e){const s=gv.create(e)||gv.ZERO;return this.transform(pv.rotate(t,s.x,s.y))}translate(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this}translateWith(t){return this.translate(t.x,t.y)}move(t,e){return this.x=this.y=0,this.translate(t,e)}scale(t,e=t){return this.x*=t,this.y*=e,this.geometryChange(),this}scaleCopy(t,e){return this.clone().scale(t,e)}transform(t){const e=fv(t),{x:s,y:n}=this;return this.x=e.a*s+e.c*n+e.e,this.y=e.b*s+e.d*n+e.f,this.geometryChange(),this}transformCopy(t){const e=this.clone();return t&&e.transform(t),e}distanceTo(t){const e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}round(t){return this.x=av(this.x,t),this.y=av(this.y,t),this.geometryChange(),this}toArray(t){const e=tv(t);return[e?av(this.x,t):this.x,e?av(this.y,t):this.y]}toString(t,e=" "){let{x:s,y:n}=this;return tv(t)&&(s=av(s,t),n=av(n,t)),s+e+n}static create(t,e){if(tv(t))return t instanceof gv?t:1===arguments.length&&2===t.length?new gv(t[0],t[1]):new gv(t,e)}static min(){let t=hv,e=hv;for(let s=0;s<arguments.length;s++){let n=arguments[s];t=Math.min(n.x,t),e=Math.min(n.y,e)}return new gv(t,e)}static max(){let t=cv,e=cv;for(let s=0;s<arguments.length;s++){const n=arguments[s];t=Math.max(n.x,t),e=Math.max(n.y,e)}return new gv(t,e)}static minPoint(){return new gv(cv,cv)}static maxPoint(){return new gv(hv,hv)}static get ZERO(){return new gv(0,0)}}const mv=gv;class yv extends(ov(Jx,["width","height"])){constructor(t,e){super(),this.width=t||0,this.height=e||0}equals(t){return t&&t.width===this.width&&t.height===this.height}clone(){return new yv(this.width,this.height)}toArray(t){const e=tv(t);return[e?av(this.width,t):this.width,e?av(this.height,t):this.height]}static create(t,e){if(tv(t))return t instanceof yv?t:1===arguments.length&&2===t.length?new yv(t[0],t[1]):new yv(t,e)}static get ZERO(){return new yv(0,0)}}const xv=yv;class vv extends Jx{constructor(t=new mv,e=new xv,s=0){super(),this.setOrigin(t),this.setSize(e),this.setCornerRadius(s)}clone(){return new vv(this.origin.clone(),this.size.clone())}equals(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)}setOrigin(t){return this._observerField("origin",mv.create(t)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(t){return this.cornerRadius=Array.isArray(t)?t:[t,t],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(t){return this._observerField("size",xv.create(t)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(t){const e=this.topLeft().transformCopy(t),s=this.topRight().transformCopy(t),n=this.bottomRight().transformCopy(t),i=this.bottomLeft().transformCopy(t);return vv.fromPoints(e,s,n,i)}transformCopy(t){return vv.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))}expand(t,e=t){return this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this}expandCopy(t,e){return this.clone().expand(t,e)}containsPoint(t){const e=this.origin,s=this.bottomRight();return!(t.x<e.x||t.y<e.y||s.x<t.x||s.y<t.y)}_isOnPath(t,e){const s=this.expandCopy(e,e),n=this.expandCopy(-e,-e);return s.containsPoint(t)&&!n.containsPoint(t)}static fromPoints(){const t=mv.min.apply(null,arguments),e=mv.max.apply(null,arguments),s=new xv(e.x-t.x,e.y-t.y);return new vv(t,s)}static union(t,e){return vv.fromPoints(mv.min(t.topLeft(),e.topLeft()),mv.max(t.bottomRight(),e.bottomRight()))}static intersect(t,e){const s={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(s.left<=n.right&&n.left<=s.right&&s.top<=n.bottom&&n.top<=s.bottom)return vv.fromPoints(new mv(Math.max(s.left,n.left),Math.max(s.top,n.top)),new mv(Math.min(s.right,n.right),Math.min(s.bottom,n.bottom)))}}const bv=vv;class _v extends Jx{constructor(t=pv.unit()){super(),this._matrix=t}clone(){return new _v(this._matrix.clone())}equals(t){return t&&t._matrix.equals(this._matrix)}translate(t,e){return this._matrix=this._matrix.multiplyCopy(pv.translate(t,e)),this._optionsChange(),this}scale(t,e=t,s=null){let n=s;return n&&(n=mv.create(n),this._matrix=this._matrix.multiplyCopy(pv.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(pv.scale(t,e)),n&&(this._matrix=this._matrix.multiplyCopy(pv.translate(-n.x,-n.y))),this._optionsChange(),this}rotate(t,e){const s=mv.create(e)||mv.ZERO;return this._matrix=this._matrix.multiplyCopy(pv.rotate(t,s.x,s.y)),this._optionsChange(),this}multiply(t){const e=fv(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const wv=_v;function Sv(t){return null===t?null:t instanceof wv?t:new wv(t)}let kv=1;function Cv(){return"kdef"+kv++}function Av(t,e){return tv(t)?t:e}function Tv(t){return""===t||null===t||"none"===t||"transparent"===t||!tv(t)}const Ev=class extends Jx{get nodeType(){return"Rect"}constructor(t){super(),this._initOptions(t)}_initOptions(t={}){const{clip:e,transform:s}=t;s&&(t.transform=Sv(s)),e&&!e.id&&(e.id=Cv()),this.options=new nv(t),this.options.addObserver(this)}transform(t){if(!tv(t))return this.options.get("transform");this.options.set("transform",Sv(t))}parentTransform(){let t,e=this;for(;e.parent;){e=e.parent;let s=e.transform();s&&(t=s.matrix().multiplyCopy(t||pv.unit()))}if(t)return Sv(t)}currentTransform(t=this.parentTransform()){const e=fv(this.transform());let s,n=fv(t);if(s=e&&n?n.multiplyCopy(e):e||n,s)return Sv(s)}visible(t){return tv(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")}clip(t){const e=this.options;return tv(t)?(t&&!t.id&&(t.id=Cv()),e.set("clip",t),this):e.get("clip")}opacity(t){return tv(t)?(this.options.set("opacity",t),this):Av(this.options.get("opacity"),1)}clippedBBox(t){const e=this._clippedBBox(t);if(e){const s=this.clip();return s?bv.intersect(e,s.bbox(t)):e}}containsPoint(t,e){if(this.visible()){const s=this.currentTransform(e);let n=t;return s&&(n=t.transformCopy(s.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1}_hasFill(){const t=this.options.fill;return t&&!Tv(t.color)}_hasStroke(){const t=this.options.stroke;return t&&t.width>0&&!Tv(t.color)}_clippedBBox(t){return this.bbox(t)}},Mv=(t,e)=>class extends t{traverse(t){const s=this[e];for(let e=0;e<s.length;e++){let n=s[e];n.traverse?n.traverse(t):t(n)}return this}};function Pv(t,e){return t.push.apply(t,e),t}function Iv(t,e,s){let n;for(let i=0;i<t.length;i++){let r=t[i];if(r.visible()){let t=e?r.bbox(s):r.rawBBox();t&&(n=n?bv.union(n,t):t)}}return n}function Rv(t,e){let s;for(let n=0;n<t.length;n++){let i=t[n];if(i.visible()){let t=i.clippedBBox(e);t&&(s=s?bv.union(s,t):t)}}return s}class Ov extends(Mv(Ev,"children")){get nodeType(){return"Group"}constructor(t){super(t),this.children=[]}childrenChange(t,e,s){this.trigger("childrenChange",{action:t,items:e,index:s})}append(){return Pv(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this}insertAt(t,e){return this.insert(e,t)}remove(t){const e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this}removeAt(t){if(0<=t&&t<this.children.length){let e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this}clear(){const t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this}bbox(t){return Iv(this.children,!0,this.currentTransform(t))}rawBBox(){return Iv(this.children,!1)}_clippedBBox(t){return Rv(this.children,this.currentTransform(t))}currentTransform(t){return Ev.prototype.currentTransform.call(this,t)||null}containsPoint(t,e){if(this.visible()){const s=this.children,n=this.currentTransform(e);for(let e=0;e<s.length;e++)if(s[e].containsPoint(t,n))return!0}return!1}_reparent(t,e){for(let s=0;s<t.length;s++){const n=t[s],i=n.parent;i&&i!==this&&i.remove&&i.remove(n),n.parent=e}}}const Lv=Ov;function Dv(t){return"function"==typeof t}function Fv(t){return"string"==typeof t?[t]:t}function Nv(){this._defaultPrevented=!0}function Bv(){return!0===this._defaultPrevented}const zv=class extends Kx{constructor(){super(),this._events={}}bind(t,e,s){const n=Fv(t),i=Dv(e),r=n.length;if(void 0===e){for(let e in t)this.bind(e,t[e]);return this}for(let o=0;o<r;o++){const t=n[o];let r=i?e:e[t];if(r){if(s){const e=r;r=()=>{this.unbind(t,r),e.apply(this,arguments)},r.original=e}(this._events[t]=this._events[t]||[]).push(r)}}return this}one(t,e){return this.bind(t,e,!0)}first(t,e){const s=Fv(t),n=Dv(e);for(let i=0,r=s.length;i<r;i++){const t=s[i],r=n?e:e[t];r&&(this._events[t]=this._events[t]||[]).unshift(r)}return this}trigger(t,e={}){let s=this._events[t];if(s){const t=s.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=Nv,e.isDefaultPrevented=Bv,s=s.slice();for(let n=0;n<t;n++)s[n].call(this,e);return!0===e._defaultPrevented}return!1}unbind(t,e){const s=this._events[t];if(void 0===t)this._events={};else if(s)if(e)for(let n=s.length-1;n>=0;n--)s[n]!==e&&s[n].original!==e||s.splice(n,1);else this._events[t]=[];return this}};function Vv(t,e){const s={},n=window.getComputedStyle(t)||{},i=Array.isArray(e)?e:[e];for(let r=0;r<i.length;r++){let t=i[r];s[t]=n[t]}return s}function jv(t){return isNaN(t)?t:t+"px"}function Hv(t,e){if(!e){const e=Vv(t,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}{const{width:s,height:n}=e;tv(s)&&(t.style.width=jv(s)),tv(n)&&(t.style.height=jv(n))}}function Uv(t={}){return t.touch?t.touch.initialTouch:t.target}function $v(t){const{paddingLeft:e,paddingTop:s}=Vv(t,["paddingLeft","paddingTop"]);return{top:parseFloat(s),left:parseFloat(e)}}function qv(t){const e=t.getBoundingClientRect(),s=document.documentElement;return{top:e.top+(window.pageYOffset||s.scrollTop)-(s.clientTop||0),left:e.left+(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0)}}function Gv(t){return tv((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}const Wv=/matrix\((.*)\)/;function Qv(t){const e=getComputedStyle(t).transform;return"none"===e?pv.unit():function(t){const e=t.match(Wv);if(null===e||2!==e.length)return pv.unit();const s=e[1].split(",").map(t=>parseFloat(t));return new pv(...s)}(e)}function Zv(t){if(!t)return pv.unit();let e=Qv(t),s=t.parentElement;for(;s;){const t=Qv(s);e=e.multiplyCopy(t),s=s.parentElement}return e.b=e.c=e.e=e.f=0,e}const Xv=["click","mouseenter","mouseleave","mousemove","resize"],Yv=class extends zv{constructor(t,e){super(),this.options=Object.assign({},e),this.element=t,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Lv,Hv(t,this.options),this.bind(Xv,this.options),this._enableTracking()}draw(t){this._visual.children.push(t)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(t){let e,s=Uv(t);for(;!e&&s&&(e=s._kendoNode,s!==this.element);)s=s.parentElement;if(e)return e.srcElement}exportVisual(){return this._visual}getSize(){return Hv(this.element)}currentSize(t){if(!t)return this._size;this._size=t}setSize(t){Hv(this.element,t),this.currentSize(t),this._resize()}resize(t){const e=this.getSize(),s=this.currentSize();(t||(e.width>0||e.height>0)&&(!s||e.width!==s.width||e.height!==s.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))}size(t){if(!t)return this.getSize();this.setSize(t)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(t){return e=>{const s=this.eventTarget(e);s&&!this._suspendedTracking&&this.trigger(t,{element:s,originalEvent:e,type:t})}}_elementOffset(){const t=this.element,e=$v(t),{left:s,top:n}=qv(t);return{left:s+e.left,top:n+e.top}}_surfacePoint(t){const e=this._elementOffset(),s=Gv(t),n=s.x-e.left,i=s.y-e.top,r=Zv(this.element).invert();return new mv(n,i).transform(r)}};function Kv(t,e){for(let s in e){const n=s.trim().split(" ");for(let i=0;i<n.length;i++)t.addEventListener(n[i],e[s],!1)}}function Jv(t,e={}){for(let s in e){const n=s.trim().split(" ");for(let i=0;i<n.length;i++)t.removeEventListener(n[i],e[s],!1)}}function tb(){let t,e;const s=new Promise((n,i)=>{t=t=>(s._state="resolved",n(t),s),e=t=>(s._state="rejected",i(t),s)});return s._state="pending",s.resolve=t,s.reject=e,s.state=()=>s._state,s}function eb(t){return Promise.all(t)}const sb=class extends Kx{constructor(t){super(),this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const t=this.childNodes;for(let e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(t){this.childNodes.push(t),t.parent=this}insertAt(t,e){this.childNodes.splice(e,0,t),t.parent=this}remove(t,e){const s=t+e;for(let n=t;n<s;n++)this.childNodes[n].removeSelf();this.childNodes.splice(t,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}},nb={};function ib(t,e){const s=e.segments;if(0===s.length)return;let n=s[0],i=n.anchor();t.moveTo(i.x,i.y);for(let r=1;r<s.length;r++){n=s[r],i=n.anchor();let e=s[r-1].controlOut(),o=n.controlIn();e&&o?t.bezierCurveTo(e.x,e.y,o.x,o.y,i.x,i.y):t.lineTo(i.x,i.y)}e.options.closed&&t.closePath()}const rb=class extends sb{constructor(t){super(t),t&&this.initClip()}initClip(){const t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(t){this.clip&&(t.beginPath(),ib(t,this.clip),t.clip())}optionsChange(t){"clip"===t.field&&(this.clearClip(),this.initClip()),super.optionsChange(t)}setTransform(t){if(this.srcElement){const e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}}loadElements(t,e,s){for(let n=0;n<t.length;n++){let i=t[n],r=i.children,o=new nb[i.nodeType](i,s);r&&r.length>0&&o.load(r,e,s),tv(e)?this.insertAt(o,e):this.append(o)}}load(t,e,s){this.loadElements(t,e,s),this.invalidate()}setOpacity(t){if(this.srcElement){const e=this.srcElement.opacity();tv(e)&&this.globalAlpha(t,e)}}globalAlpha(t,e){let s=e;s&&t.globalAlpha&&(s*=t.globalAlpha),t.globalAlpha=s}visible(){const t=this.srcElement;return!t||t&&!1!==t.options.visible}};class ob extends(Mv(rb,"childNodes")){renderTo(t){if(!this.visible())return;t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);const e=this.childNodes;for(let s=0;s<e.length;s++){let n=e[s];n.visible()&&n.renderTo(t)}t.restore()}}const ab=ob,lb=Date.now||function(){return(new Date).getTime()};function hb(t,e){let s,n=0;if(!e||e<=0)return t;const i=function(){const i=lb()-n,r=arguments,o=function(){t.apply(null,r),n=lb()};if(!n)return o();s&&clearTimeout(s),i>e?o():s=setTimeout(o,e-i)};return i.cancel=function(){clearTimeout(s)},i}let cb=t=>{const e="undefined"!=typeof window?window:{},s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};cb=t=>s.call(e,t),cb(t)};const ub=cb;class db extends(Mv(ab,"childNodes")){constructor(t,e){super(),this.canvas=t,this.size=e,this.ctx=t.getContext("2d");const s=this._invalidate.bind(this);this.invalidate=hb(()=>{ub(s)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(t,e,s){this.loadElements(t,e,s),this._invalidate()}_rescale(t){const{canvas:e,size:s}=this;e.width=s.width*t,e.height=s.height*t,this.ctx.scale(t,t)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(t){if(!this.ctx)return;const e=t&&t.fixedScale?1:this._devicePixelRatio();this._rescale(e),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const pb=db,fb=class extends Kx{constructor(){super(),this.shapes=[]}_add(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this}pointShapes(t){const e=this.shapes,s=e.length,n=[];for(let i=0;i<s;i++)e[i].bbox.containsPoint(t)&&n.push(e[i].shape);return n}insert(t,e){this._add(t,e)}remove(t){const e=this.shapes,s=e.length;for(let n=0;n<s;n++)if(e[n].shape===t){e.splice(n,1);break}}};class gb extends fb{constructor(t){super(),this.children=[],this.rect=t}inBounds(t){const e=this.rect,s=e.bottomRight(),n=t.bottomRight();return e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&n.x<=s.x&&n.y<=s.y}pointShapes(t){const e=this.children,s=e.length,n=super.pointShapes(t);for(let i=0;i<s;i++)Pv(n,e[i].pointShapes(t));return n}insert(t,e){const s=this.children;let n=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{s.length||this._initChildren();for(let i=0;i<s.length;i++)if(s[i].insert(t,e)){n=!0;break}n||this._add(t,e)}n=!0}return n}_initChildren(){const{rect:t,children:e}=this,s=t.center(),n=t.width()/2,i=t.height()/2;e.push(new gb(new bv([t.origin.x,t.origin.y],[n,i])),new gb(new bv([s.x,t.origin.y],[n,i])),new gb(new bv([t.origin.x,s.y],[n,i])),new gb(new bv([s.x,s.y],[n,i])))}}const mb=gb,yb=3e3;function xb(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}const vb=class extends Kx{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new fb,this.rootElements=[]}clear(){const t=this.rootElements;for(let e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()}pointShape(t){const e=(this.rootMap[Math.floor(t.x/yb)]||{})[Math.floor(t.y/yb)];let s=this.root.pointShapes(t);e&&(s=s.concat(e.pointShapes(t))),this.assignZindex(s),s.sort(xb);for(let n=0;n<s.length;n++)if(s[n].containsPoint(t))return s[n]}assignZindex(t){for(let e=0;e<t.length;e++){let s=t[e],n=0,i=Math.pow(1e4,75),r=[];for(;s;)r.push(s),s=s.parent;for(;r.length;)s=r.pop(),n+=((s.parent?s.parent.children:this.rootElements).indexOf(s)+1)*i,i/=1e4;t[e]._zIndex=n}}optionsChange(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)}geometryChange(t){this.bboxChange(t.element)}bboxChange(t){if("Group"===t.nodeType)for(let e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)}add(t){const e=Array.isArray(t)?t.slice(0):[t];Pv(this.rootElements,e),this._insert(e)}childrenChange(t){if("remove"===t.action)for(let e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))}_insert(t){let e;for(;t.length>0;)e=t.pop(),e.addObserver(this),"Group"===e.nodeType?Pv(t,e.children):this._insertShape(e)}_insertShape(t){const e=t.bbox();if(e){const s=this.getSectors(e),n=s[0][0],i=s[1][0];if(this.inRoot(s))this.root.insert(t,e);else{const s=this.rootMap;s[n]||(s[n]={}),s[n][i]||(s[n][i]=new mb(new bv([n*yb,i*yb],[yb,yb]))),s[n][i].insert(t,e)}}}remove(t){if(t.removeObserver(this),"Group"===t.nodeType){const e=t.children;for(let t=0;t<e.length;t++)this.remove(e[t])}else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)}inRoot(t){return t[0].length>1||t[1].length>1}getSectors(t){const e=t.bottomRight(),s=Math.floor(e.x/yb),n=Math.floor(e.y/yb),i=[[],[]];for(let r=Math.floor(t.origin.x/yb);r<=s;r++)i[0].push(r);for(let r=Math.floor(t.origin.y/yb);r<=n;r++)i[1].push(r);return i}};let bb={};const _b={get browser(){return"undefined"==typeof window||bb||(bb=function(t){const e={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};let s;for(let n in e)if(e.hasOwnProperty(n)){const i=t.match(e[n]);if(i){s={},s[n]=!0,s[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,s.version=parseInt(document.documentMode||i[2],10);break}}return s}(window.navigator.userAgent)),bb}},wb={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Sb=_b.browser;let kb=t=>{const e=Object.keys(wb);e.push("transparent");const s=new RegExp("^("+e.join("|")+")(\\W|$)","i");return kb=t=>s.exec(t),s.exec(t)};class Cb extends Kx{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(){return this.toBytes().toHex()}toBytes(){return this}toCss(){return"#"+this.toHex()}toCssRgba(){const t=this.toBytes();return`rgba(${t.r}, ${t.g}, ${t.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return Sb.msie&&Sb.version<9?this.toCss():this.toCssRgba()}equals(t){return t===this||null!==t&&this.toCssRgba()===Rb(t).toCssRgba()}diff(t){if(null===t)return NaN;const e=this.toBytes(),s=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-s.r),2)+Math.pow(.59*(e.g-s.g),2)+Math.pow(.11*(e.b-s.b),2))}clone(){let t=this.toBytes();return t===this&&(t=new Tb(t.r,t.g,t.b,t.a)),t}}class Ab extends Cb{constructor(t,e,s,n){super(),this.r=t,this.g=e,this.b=s,this.a=n}toHSV(){const{r:t,g:e,b:s}=this,n=Math.min(t,e,s),i=Math.max(t,e,s),r=i-n,o=i;let a,l;return 0===r?new Mb(0,0,o,this.a):(0!==i?(l=r/i,a=t===i?(e-s)/r:e===i?2+(s-t)/r:4+(t-e)/r,a*=60,a<0&&(a+=360)):(l=0,a=-1),new Mb(a,l,o,this.a))}toHSL(){const{r:t,g:e,b:s}=this,n=Math.max(t,e,s),i=Math.min(t,e,s);let r,o,a=(n+i)/2;if(n===i)r=o=0;else{const l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:r=(e-s)/l+(e<s?6:0);break;case e:r=(s-t)/l+2;break;case s:r=(t-e)/l+4}}return new Pb(60*r,100*o,100*a,this.a)}toBytes(){return new Tb(255*this.r,255*this.g,255*this.b,this.a)}}class Tb extends Ab{constructor(t,e,s,n){super(Math.round(t),Math.round(e),Math.round(s),n)}toRGB(){return new Ab(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(){return Eb(this.r,2)+Eb(this.g,2)+Eb(this.b,2)}toBytes(){return this}}function Eb(t,e,s="0"){let n=t.toString(16);for(;e>n.length;)n=s+n;return n}class Mb extends Cb{constructor(t,e,s,n){super(),this.h=t,this.s=e,this.v=s,this.a=n}toRGB(){let t,e,s,{h:n,s:i,v:r}=this;if(0===i)t=e=s=r;else{n/=60;const o=Math.floor(n),a=n-o,l=r*(1-i),h=r*(1-i*a),c=r*(1-i*(1-a));switch(o){case 0:t=r,e=c,s=l;break;case 1:t=h,e=r,s=l;break;case 2:t=l,e=r,s=c;break;case 3:t=l,e=h,s=r;break;case 4:t=c,e=l,s=r;break;default:t=r,e=l,s=h}}return new Ab(t,e,s,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class Pb extends Cb{constructor(t,e,s,n){super(),this.h=t,this.s=e,this.l=s,this.a=n}toRGB(){let t,e,s,n=this.h/360,i=this.s/100,r=this.l/100;if(0===i)t=e=s=r;else{const o=r<.5?r*(1+i):r+i-r*i,a=2*r-o;t=Ib(a,o,n+1/3),e=Ib(a,o,n),s=Ib(a,o,n-1/3)}return new Ab(t,e,s,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function Ib(t,e,s){let n=s;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Rb(t,e){let s,n;if(null==t||"none"===t)return null;if(t instanceof Cb)return t;let i=t.toLowerCase();if(s=kb(i))return i="transparent"===s[1]?new Ab(1,1,1,0):Rb(wb[s[1]],e),i.match=[s[1]],i;if((s=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(i))?n=new Tb(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16),1):(s=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(i))?n=new Tb(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16),1):(s=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(i))?n=new Tb(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),1):(s=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(i))?n=new Tb(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4])):(s=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(i))?n=new Ab(parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])/100,1):(s=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(i))&&(n=new Ab(parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])/100,parseFloat(s[4]))),n)n.match=s;else if(!e)throw new Error("Cannot parse color: "+i);return n}function Ob(t){const e="_"+t;return function(t){return tv(t)?(this._observerField(e,mv.create(t)),this.geometryChange(),this):this[e]}}const Lb=(t,e)=>{const s=class extends t{};return function(t,e){for(let s=0;s<e.length;s++)t[e[s]]=Ob(e[s])}(s.prototype,e),s},Db=[].push,Fb=[].pop,Nb=[].splice,Bb=[].shift,zb=[].slice,Vb=[].unshift,jb=class extends Jx{constructor(t=[]){super(),this.length=0,this._splice(0,t.length,t)}elements(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)}push(){const t=arguments,e=Db.apply(this,t);return this._add(t),e}slice(){return zb.call(this)}pop(){const t=this.length,e=Fb.apply(this);return t&&this._remove([e]),e}splice(t,e){const s=zb.call(arguments,2),n=this._splice(t,e,s);return this._change(),n}shift(){const t=this.length,e=Bb.apply(this);return t&&this._remove([e]),e}unshift(){const t=arguments,e=Vb.apply(this,t);return this._add(t),e}indexOf(t){const e=this.length;for(let s=0;s<e;s++)if(this[s]===t)return s;return-1}_splice(t,e,s){const n=Nb.apply(this,[t,e].concat(s));return this._clearObserver(n),this._setObserver(s),n}_add(t){this._setObserver(t),this._change()}_remove(t){this._clearObserver(t),this._change()}_setObserver(t){for(let e=0;e<t.length;e++)t[e].addObserver(this)}_clearObserver(t){for(let e=0;e<t.length;e++)t[e].removeObserver(this)}_change(){}},Hb=class extends jb{_change(){this.optionsChange({field:"stops"})}};function Ub(t){return function(e){return tv(e)?(this.options.set(t,e),this):this.options.get(t)}}const $b=["offset","color","opacity"];class qb extends(((t,e)=>{const s=class extends t{};return function(t,e){for(let s=0;s<e.length;s++)t[e[s]]=Ub(e[s])}(s.prototype,e),s})(Jx,$b)){constructor(t,e,s){super(),this.options=new nv({offset:t,color:e,opacity:tv(s)?s:1}),this.options.addObserver(this)}static create(t){if(tv(t)){let e;return e=t instanceof qb?t:t.length>1?new qb(t[0],t[1],t[2]):new qb(t.offset,t.color,t.opacity),e}}}const Gb=qb,Wb=class extends Jx{get nodeType(){return"Gradient"}constructor(t={}){super(),this.stops=new Hb(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=Cv()}userSpace(t){return tv(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace}_createStops(t=[]){const e=[];for(let s=0;s<t.length;s++)e.push(Gb.create(t[s]));return e}addStop(t,e,s){this.stops.push(new Gb(t,e,s))}removeStop(t){const e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}optionsChange(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})}geometryChange(){this.optionsChange()}},Qb=["start","end"];class Zb extends(Lb(Wb,Qb)){constructor(t={}){super(t),this.start(t.start||new mv),this.end(t.end||new mv(1,0))}}const Xb=Zb;class Yb extends(Lb(Wb,["center"])){constructor(t={}){super(t),this.center(t.center||new mv),this._radius=tv(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill}radius(t){return tv(t)?(this._radius=t,this.geometryChange(),this):this._radius}fallbackFill(t){return tv(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}}const Kb=Yb,Jb={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},t_="solid",e_="butt",s_=class extends rb{renderTo(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()}setFill(t){const e=this.srcElement.options.fill;let s=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),s=!0):Tv(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),s=!0)),s}setGradientFill(t,e){const s=this.srcElement.rawBBox();let n;if(e instanceof Xb){let s=e.start(),i=e.end();n=t.createLinearGradient(s.x,s.y,i.x,i.y)}else if(e instanceof Kb){let s=e.center();n=t.createRadialGradient(s.x,s.y,0,s.x,s.y,e.radius())}!function(t,e){for(let s=0;s<e.length;s++){let n=e[s],i=Rb(n.color());i.a*=n.opacity(),t.addColorStop(n.offset(),i.toCssRgba())}}(n,e.stops),t.save(),e.userSpace()||t.transform(s.width(),0,0,s.height(),s.origin.x,s.origin.y),t.fillStyle=n,t.fill(),t.restore()}setStroke(t){const e=this.srcElement.options.stroke;if(e&&!Tv(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=Av(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0}dashType(){const t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()}setLineDash(t){const e=this.dashType();if(e&&e!==t_){const s=Jb[e];t.setLineDash?t.setLineDash(s):(t.mozDash=s,t.webkitLineDash=s)}}setLineCap(t){const e=this.dashType(),s=this.srcElement.options.stroke;e&&e!==t_?t.lineCap=e_:s&&s.lineCap&&(t.lineCap=s.lineCap)}setLineJoin(t){const e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)}renderPoints(t,e){ib(t,e)}},n_=class extends s_{renderPoints(t){ib(t,this.srcElement.toPath())}},i_=class extends s_{renderPoints(t){const{center:e,radius:s}=this.srcElement.geometry();t.arc(e.x,e.y,s,0,2*Math.PI)}},r_=class extends s_{constructor(t,e){super(t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=tb();const s=this.img=new Image;e&&!/^data:/i.test(t.src())&&(s.crossOrigin=e),s.src=t.src(),s.complete?this.onLoad():(s.onload=this.onLoad,s.onerror=this.onError)}renderTo(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())}optionsChange(t){"src"===t.field?(this.loading=tb(),this.img.src=this.srcElement.src()):super.optionsChange(t)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(t){const e=this.srcElement.rect(),s=e.topLeft();t.drawImage(this.img,s.x,s.y,e.width(),e.height())}},o_=class extends s_{renderPoints(t){const e=this.srcElement.paths;for(let s=0;s<e.length;s++)ib(t,e[s])}},a_=class extends jb{_change(){this.geometryChange()}},l_=t=>class extends t{fill(t,e){const s=this.options;if(tv(t)){if(t&&"Gradient"!==t.nodeType){const n={color:t};tv(e)&&(n.opacity=e),s.set("fill",n)}else s.set("fill",t);return this}return s.get("fill")}stroke(t,e,s){return tv(t)?(this.options.set("stroke.color",t),tv(e)&&this.options.set("stroke.width",e),tv(s)&&this.options.set("stroke.opacity",s),this):this.options.get("stroke")}},h_=pv.IDENTITY.toString(),c_=t=>class extends t{bbox(t){const e=fv(this.currentTransform(t)),s=e?e.toString():h_;let n;this._bboxCache&&this._matrixHash===s?n=this._bboxCache.clone():(n=this._bbox(e),this._bboxCache=n?n.clone():null,this._matrixHash=s);const i=this.options.get("stroke.width");return i&&n&&n.expand(i/2),n}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function u_(t){return t/lv}const d_=10;function p_(t,e,s=10){return 0===av(Math.abs(t-e),s)}function f_(t,e,s){return t<e||p_(t,e,s)}function g_(t,e,s,n){let i=0,r=0;return n&&(i=Math.atan2(n.c*s,n.a*e),0!==n.b&&(r=Math.atan2(n.d*s,n.b*e))),{x:i,y:r}}const m_=Math.pow,y_=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class x_ extends(ov(Jx,y_)){constructor(t=new mv,e={}){super(),this.setCenter(t),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new x_(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(t){return this._observerField("center",mv.create(t)),this.geometryChange(),this}getCenter(){return this.center}pointAt(t){const e=this.center,s=uv(t);return new mv(e.x+this.radiusX*Math.cos(s),e.y+this.radiusY*Math.sin(s))}curvePoints(){const t=this.startAngle,e=this.anticlockwise?-1:1,s=[this.pointAt(t)],n=this._arcInterval(),i=n.endAngle-n.startAngle,r=Math.ceil(i/45),o=i/r;let a,l=t;this.xRotation&&(a=Sv().rotate(this.xRotation,this.center));for(let h=1;h<=r;h++){const t=l+e*o,n=this._intervalCurvePoints(l,t,a);s.push(n.cp1,n.cp2,n.p2),l=t}return s}bbox(t){const e=this._arcInterval(),s=e.startAngle,n=e.endAngle,i=g_(0,this.radiusX,this.radiusY,t),r=u_(i.x),o=u_(i.y),a=this.pointAt(n).transformCopy(t);let l=b_(r,s),h=b_(o,s),c=this.pointAt(s).transformCopy(t),u=mv.min(c,a),d=mv.max(c,a);for(;l<n||h<n;){let e,s;l<n&&(e=this.pointAt(l).transformCopy(t),l+=90),h<n&&(s=this.pointAt(h).transformCopy(t),h+=90),c=new mv(e.x,s.y),u=mv.min(u,c),d=mv.max(d,c)}return bv.fromPoints(u,d)}_arcInterval(){let{startAngle:t,endAngle:e,anticlockwise:s}=this;if(s){let s=t;t=e,e=s}return(t>e||s&&t===e)&&(e+=360),{startAngle:t,endAngle:e}}_intervalCurvePoints(t,e,s){const n=this.pointAt(t),i=this.pointAt(e),r=this._derivativeAt(t),o=this._derivativeAt(e),a=(uv(e)-uv(t))/3,l=new mv(n.x+a*r.x,n.y+a*r.y),h=new mv(i.x-a*o.x,i.y-a*o.y);return s&&(n.transform(s),i.transform(s),l.transform(s),h.transform(s)),{p1:n,cp1:l,cp2:h,p2:i}}_derivativeAt(t){const e=uv(t);return new mv(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(t){const e=this._arcInterval(),s=e.endAngle-e.startAngle,{center:n,radiusX:i,radiusY:r}=this,o=n.distanceTo(t),a=Math.atan2(t.y-n.y,t.x-n.x),l=i*r/Math.sqrt(m_(i,2)*m_(Math.sin(a),2)+m_(r,2)*m_(Math.cos(a),2)),h=this.pointAt(this.startAngle).round(d_),c=this.pointAt(this.endAngle).round(d_),u=function(t,e,s,n){const i=e.x-t.x,r=n.x-s.x,o=e.y-t.y,a=n.y-s.y,l=t.x-s.x,h=t.y-s.y,c=i*a-r*o,u=(i*h-o*l)/c,d=(r*h-a*l)/c;if(u>=0&&u<=1&&d>=0&&d<=1)return new mv(t.x+d*i,t.y+d*o)}(n,t.round(d_),h,c);let d;if(s<180)d=u&&f_(n.distanceTo(u),o)&&f_(o,l);else{let s=v_(n.x,n.y,i,r,t.x,t.y);360!==s&&(s=(360+s)%360);let a=e.startAngle<=s&&s<=e.endAngle;d=a&&f_(o,l)||!a&&(!u||u.equals(t))}return d}_isOnPath(t,e){const s=this._arcInterval(),n=this.center;let i=v_(n.x,n.y,this.radiusX,this.radiusY,t.x,t.y);return 360!==i&&(i=(360+i)%360),s.startAngle<=i&&i<=s.endAngle&&this.pointAt(i).distanceTo(t)<=e}static fromPoints(t,e,s,n,i,r,o){const a=function(t){let{x1:e,y1:s,x2:n,y2:i,rx:r,ry:o,largeArc:a,swipe:l,rotation:h=0}=t;const c=uv(h),u=Math.cos(c),d=Math.sin(c),p=u*(e-n)/2+d*(s-i)/2,f=-d*(e-n)/2+u*(s-i)/2,g=a!==l?1:-1,m=Math.pow(p,2),y=Math.pow(f,2);let x=Math.pow(r,2),v=Math.pow(o,2),b=m/x+y/v;b>1&&(b=Math.sqrt(m/x+y/v),r*=b,x=Math.pow(r,2),o*=b,v=Math.pow(o,2));let _=g*Math.sqrt((x*v-x*y-v*m)/(x*y+v*m));isNaN(_)&&(_=0);const w=_*(r*f)/o,S=o*p*-_/r,k=u*w-d*S+(e+n)/2,C=d*w+u*S+(s+i)/2,A=(p-w)/r,T=(f-S)/o,E=-(p+w)/r,M=-(f+S)/o,P=(T>=0?1:-1)*u_(Math.acos(A/Math.sqrt(A*A+T*T))),I=av((A*E+T*M)/(Math.sqrt(A*A+T*T)*Math.sqrt(E*E+M*M)),10);let R=(A*M-T*E>=0?1:-1)*u_(Math.acos(I));!l&&R>0&&(R-=360),l&&R<0&&(R+=360);let O=P+R;const L=O>=0?1:-1;return O=Math.abs(O)%360*L,{center:new mv(k,C),startAngle:P,endAngle:O,radiusX:r,radiusY:o,xRotation:h}}({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:s,ry:n,largeArc:i,swipe:r,rotation:o});return new x_(a.center,{startAngle:a.startAngle,endAngle:a.endAngle,radiusX:a.radiusX,radiusY:a.radiusY,xRotation:a.xRotation,anticlockwise:0===r})}}function v_(t,e,s,n,i,r){const o=av((i-t)/s,3),a=av((r-e)/n,3);return av(u_(Math.atan2(a,o)))}function b_(t,e){let s=t;for(;s<e;)s+=90;return s}const __=x_;function w_(t,e,s){const n=u_(Math.atan2(e.y-t.y,e.x-t.x));return s.transformCopy(Sv().rotate(-n,t)).x<t.x}function S_(t,e,s){const n=1-t;return Math.pow(n,3)*s[0][e]+3*Math.pow(n,2)*t*s[1][e]+3*Math.pow(t,2)*n*s[2][e]+Math.pow(t,3)*s[3][e]}function k_(t,e){return[3*t[1][e]-t[0][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}class C_ extends Kx{constructor(t=0,e=0){super(),this.real=t,this.img=e}add(t){return new C_(av(this.real+t.real,d_),av(this.img+t.img,d_))}addConstant(t){return new C_(this.real+t,this.img)}negate(){return new C_(-this.real,-this.img)}multiply(t){return new C_(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)}multiplyConstant(t){return new C_(this.real*t,this.img*t)}nthRoot(t){const e=Math.atan2(this.img,this.real),s=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),n=Math.pow(s,1/t);return new C_(n*Math.cos(e/t),n*Math.sin(e/t))}equals(t){return this.real===t.real&&this.img===t.img}isReal(){return 0===this.img}}const A_=C_;function T_(t){return t<0?-1:1}function E_(t,e,s,n){if(0===t)return function(t,e,s){const n=Math.sqrt(Math.pow(e,2)-4*t*s);return[(-e+n)/(2*t),(-e-n)/(2*t)]}(e,s,n);const i=(3*t*s-Math.pow(e,2))/(3*Math.pow(t,2)),r=(2*Math.pow(e,3)-9*t*e*s+27*Math.pow(t,2)*n)/(27*Math.pow(t,3)),o=Math.pow(i/3,3)+Math.pow(r/2,2),a=new A_(0,1),l=-e/(3*t);let h,c,u,d,p,f,g;o<0?(h=new A_(-r/2,Math.sqrt(-o)).nthRoot(3),c=new A_(-r/2,-Math.sqrt(-o)).nthRoot(3)):(h=-r/2+Math.sqrt(o),h=new A_(T_(h)*Math.pow(Math.abs(h),1/3)),c=-r/2-Math.sqrt(o),c=new A_(T_(c)*Math.pow(Math.abs(c),1/3))),u=h.add(c),f=h.add(c).multiplyConstant(-.5),g=h.add(c.negate()).multiplyConstant(Math.sqrt(3)/2),d=f.add(a.multiply(g)),p=f.add(a.negate().multiply(g));const m=[];return u.isReal()&&m.push(av(u.real+l,d_)),d.isReal()&&m.push(av(d.real+l,d_)),p.isReal()&&m.push(av(p.real+l,d_)),m}function M_(t,e,s,n,i){const r=k_(t,n),o=E_(r[0],r[1],r[2],r[3]-e[n]);let a;for(let l=0;l<o.length;l++)if(0<=o[l]&&o[l]<=1&&(a=S_(o[l],s,t),Math.abs(a-e[s])<=i))return!0}function P_(t,e,s){let n;if(t.x!==e.x){const i=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=Math.min(t.y,e.y),a=Math.max(t.y,e.y),l=i<=s.x&&s.x<r;n=o===a?s.y<=o&&l:l&&(a-o)*((t.x-e.x)*(t.y-e.y)>0?s.x-i:r-s.x)/(r-i)+o-s.y>=0}return n?1:0}const I_=["anchor","controlIn","controlOut"];class R_ extends(Lb(Jx,I_)){constructor(t,e,s){super(),this.anchor(t||new mv),this.controlIn(e),this.controlOut(s)}bboxTo(t,e){const s=this.anchor().transformCopy(e),n=t.anchor().transformCopy(e);let i;return i=this.controlOut()&&t.controlIn()?this._curveBoundingBox(s,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),n):this._lineBoundingBox(s,n),i}_lineBoundingBox(t,e){return bv.fromPoints(t,e)}_curveBoundingBox(t,e,s,n){const i=[t,e,s,n],r=this._curveExtremesFor(i,"x"),o=this._curveExtremesFor(i,"y"),a=O_([r.min,r.max,t.x,n.x]),l=O_([o.min,o.max,t.y,n.y]);return bv.fromPoints(new mv(a.min,l.min),new mv(a.max,l.max))}_curveExtremesFor(t,e){const s=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:S_(s.min,e,t),max:S_(s.max,e,t)}}_curveExtremes(t,e,s,n){const i=t-3*e+3*s-n,r=-2*(t-2*e+s),o=t-e,a=Math.sqrt(r*r-4*i*o);let l=0,h=1;0===i?0!==r&&(l=h=-o/r):isNaN(a)||(l=(-r+a)/(2*i),h=(-r-a)/(2*i));let c=Math.max(Math.min(l,h),0);(c<0||c>1)&&(c=0);let u=Math.min(Math.max(l,h),1);return(u>1||u<0)&&(u=1),{min:c,max:u}}_intersectionsTo(t,e){let s;return s=this.controlOut()&&t.controlIn()?function(t,e,s){const n=k_(t,"x"),i=E_(n[0],n[1],n[2],n[3]-e.x);let r,o,a=0;for(let l=0;l<i.length;l++)r=S_(i[l],"y",t),o=p_(r,e.y)||r>e.y,o&&((0===i[l]||1===i[l])&&s.bottomRight().x>e.x||0<i[l]&&i[l]<1)&&a++;return a}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):P_(this.anchor(),t.anchor(),e),s}_isOnCurveTo(t,e,s,n){if(this.bboxTo(t).expand(s,s).containsPoint(e)){const i=this.anchor(),r=this.controlOut(),o=t.controlIn(),a=t.anchor();if("start"===n&&i.distanceTo(e)<=s)return!w_(i,r,e);if("end"===n&&a.distanceTo(e)<=s)return!w_(a,o,e);const l=[i,r,o,a];if(M_(l,e,"x","y",s)||M_(l,e,"y","x",s))return!0;const h=Sv().rotate(45,e),c=[i.transformCopy(h),r.transformCopy(h),o.transformCopy(h),a.transformCopy(h)];return M_(c,e,"x","y",s)||M_(c,e,"y","x",s)}}_isOnLineTo(t,e,s){const n=this.anchor(),i=t.anchor(),r=u_(Math.atan2(i.y-n.y,i.x-n.x));return new bv([n.x,n.y-s/2],[n.distanceTo(i),s]).containsPoint(e.transformCopy(Sv().rotate(-r,n)))}_isOnPathTo(t,e,s,n){let i;return i=this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,s/2,n):this._isOnLineTo(t,e,s),i}}function O_(t){let e=t.length,s=hv,n=cv;for(let i=0;i<e;i++)n=Math.max(n,t[i]),s=Math.min(s,t[i]);return{min:s,max:n}}const L_=R_;function D_(t){if(t)return t[t.length-1]}function F_(t,e,s){const n=e?0:1;for(let i=0;i<t.length;i+=2)t.splice(i+n,0,s)}function N_(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}const B_=1/3;function z_(t,e,s){const n=e.clone().scale(2/3);return{controlOut:n.clone().translateWith(t.scaleCopy(B_)),controlIn:n.translateWith(s.scaleCopy(B_))}}const V_={l:function(t,e){const{parameters:s,position:n}=e;for(let i=0;i<s.length;i+=2){let r=new mv(s[i],s[i+1]);e.isRelative&&r.translateWith(n),t.lineTo(r.x,r.y),n.x=r.x,n.y=r.y}},c:function(t,e){const{parameters:s,position:n}=e;for(let i=0;i<s.length;i+=6){let r=new mv(s[i],s[i+1]),o=new mv(s[i+2],s[i+3]),a=new mv(s[i+4],s[i+5]);e.isRelative&&(o.translateWith(n),r.translateWith(n),a.translateWith(n)),t.curveTo(r,o,a),n.x=a.x,n.y=a.y}},v:function(t,e){F_(e.parameters,!0,e.isRelative?0:e.position.x),this.l(t,e)},h:function(t,e){F_(e.parameters,!1,e.isRelative?0:e.position.y),this.l(t,e)},a:function(t,e){const{parameters:s,position:n}=e;for(let i=0;i<s.length;i+=7){const r=s[i],o=s[i+1],a=s[i+2],l=s[i+3],h=s[i+4],c=new mv(s[i+5],s[i+6]);e.isRelative&&c.translateWith(n),n.x===c.x&&n.y===c.y||(t.arcTo(c,r,o,l,h,a),n.x=c.x,n.y=c.y)}},s:function(t,e){const{parameters:s,position:n,previousCommand:i}=e;let r;"s"!==i&&"c"!==i||(r=D_(D_(t.paths).segments).controlIn());for(let o=0;o<s.length;o+=4){let i,a=new mv(s[o],s[o+1]),l=new mv(s[o+2],s[o+3]);e.isRelative&&(a.translateWith(n),l.translateWith(n)),i=r?N_(r,n):n.clone(),r=a,t.curveTo(i,a,l),n.x=l.x,n.y=l.y}},q:function(t,e){const{parameters:s,position:n}=e;for(let i=0;i<s.length;i+=4){let r=new mv(s[i],s[i+1]),o=new mv(s[i+2],s[i+3]);e.isRelative&&(r.translateWith(n),o.translateWith(n));let a=z_(n,r,o);t.curveTo(a.controlOut,a.controlIn,o),n.x=o.x,n.y=o.y}},t:function(t,e){const{parameters:s,position:n,previousCommand:i}=e;let r;"q"!==i&&"t"!==i||(r=D_(D_(t.paths).segments).controlIn().clone().translateWith(n.scaleCopy(-1/3)).scale(1.5));for(let o=0;o<s.length;o+=2){let i=new mv(s[o],s[o+1]);e.isRelative&&i.translateWith(n),r=r?N_(r,n):n.clone();let a=z_(n,r,i);t.curveTo(a.controlOut,a.controlIn,i),n.x=i.x,n.y=i.y}}},j_=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,H_=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,U_=function(t,e){const s=new mv;let n;return e.replace(j_,(e,i,r,o)=>{let a=i.toLowerCase();const l=a===i,h=function(t){const e=[];return t.replace(H_,function(t,s){e.push(parseFloat(s))}),e}(r.trim());if("m"===a&&(l?(s.x+=h[0],s.y+=h[1]):(s.x=h[0],s.y=h[1]),t.moveTo(s.x,s.y),h.length>2&&(a="l",h.splice(0,2))),V_[a])V_[a](t,{parameters:h,position:s,isRelative:l,previousCommand:n}),o&&"z"===o.toLowerCase()&&t.close();else if("m"!==a)throw new Error("Error while parsing SVG path. Unsupported command: "+a);n=a}),t};function $_(t,e,s){return Math.max(Math.min(t,s),e)}class q_ extends(l_(c_(Ev))){static parse(t,e){return G_.parse(t,e)}get nodeType(){return"Path"}constructor(t){super(t),this.segments=new a_,this.segments.addObserver(this),tv(this.options.stroke)||(this.stroke("#000"),tv(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this}lineTo(t,e){const s=tv(e)?new mv(t,e):t,n=new L_(s);return this.segments.push(n),this}curveTo(t,e,s){if(this.segments.length>0){const n=D_(this.segments),i=new L_(s,e);this.suspend(),n.controlOut(t),this.resume(),this.segments.push(i)}return this}arc(t,e,s,n,i){if(this.segments.length>0){const r=D_(this.segments).anchor(),o=uv(t),a=new mv(r.x-s*Math.cos(o),r.y-n*Math.sin(o)),l=new __(a,{startAngle:t,endAngle:e,radiusX:s,radiusY:n,anticlockwise:i});this._addArcSegments(l)}return this}arcTo(t,e,s,n,i,r){if(this.segments.length>0){const o=D_(this.segments).anchor(),a=__.fromPoints(o,mv.create(t),e,s,n,i,r);this._addArcSegments(a)}return this}_addArcSegments(t){this.suspend();const e=t.curvePoints();for(let s=1;s<e.length;s+=3)this.curveTo(e[s],e[s+1],e[s+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}_containsPoint(t){const e=this.segments,s=e.length;let n,i,r=0;for(let o=1;o<s;o++)n=e[o-1],i=e[o],r+=n._intersectionsTo(i,t);return!this.options.closed&&e[0].anchor().equals(e[s-1].anchor())||(r+=P_(e[0].anchor(),e[s-1].anchor(),t)),r%2!=0}_isOnPath(t,e){const s=this.segments,n=s.length,i=e||this.options.stroke.width;if(n>1){if(s[0]._isOnPathTo(s[1],t,i,"start"))return!0;for(let e=2;e<=n-2;e++)if(s[e-1]._isOnPathTo(s[e],t,i))return!0;if(s[n-2]._isOnPathTo(s[n-1],t,i,"end"))return!0}return!1}_bbox(t){const e=this.segments,s=e.length;let n;if(1===s){let s=e[0].anchor().transformCopy(t);n=new bv(s,xv.ZERO)}else if(s>0)for(let i=1;i<s;i++){let s=e[i-1].bboxTo(e[i],t);n=n?bv.union(n,s):s}return n}static fromRect(t,e){const s=new q_(e);let[n,i]=t.cornerRadius;if(0===n&&0===i)s.moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close();else{const e=t.origin,{x:r,y:o}=e,a=t.width(),l=t.height();n=$_(n,0,a/2),i=$_(i,0,l/2),s.moveTo(r+n,o).lineTo(r+a-n,o).arcTo([r+a,o+i],n,i,!1).lineTo(r+a,o+l-i).arcTo([r+a-n,o+l],n,i,!1).lineTo(r+n,o+l).arcTo([r,o+l-i],n,i,!1).lineTo(r,o+i).arcTo([r+n,o],n,i,!1)}return s}static fromPoints(t,e){if(t){const s=new q_(e);for(let e=0;e<t.length;e++){let n=mv.create(t[e]);n&&(0===e?s.moveTo(n):s.lineTo(n))}return s}}static fromArc(t,e){const s=new q_(e),n=t.startAngle,i=t.pointAt(n);return s.moveTo(i.x,i.y),s.arc(n,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),s}}class G_ extends(l_(c_(Ev))){static parse(t,e){const s=new G_(e);return U_(s,t)}get nodeType(){return"MultiPath"}constructor(t){super(t),this.paths=new a_,this.paths.addObserver(this),tv(this.options.stroke)||this.stroke("#000")}moveTo(t,e){const s=new q_;return s.moveTo(t,e),this.paths.push(s),this}lineTo(t,e){return this.paths.length>0&&D_(this.paths).lineTo(t,e),this}curveTo(t,e,s){return this.paths.length>0&&D_(this.paths).curveTo(t,e,s),this}arc(t,e,s,n,i){return this.paths.length>0&&D_(this.paths).arc(t,e,s,n,i),this}arcTo(t,e,s,n,i,r){return this.paths.length>0&&D_(this.paths).arcTo(t,e,s,n,i,r),this}close(){return this.paths.length>0&&D_(this.paths).close(),this}_bbox(t){return Iv(this.paths,!0,t)}rawBBox(){return Iv(this.paths,!1)}_containsPoint(t){const e=this.paths;for(let s=0;s<e.length;s++)if(e[s]._containsPoint(t))return!0;return!1}_isOnPath(t){const e=this.paths,s=this.options.stroke.width;for(let n=0;n<e.length;n++)if(e[n]._isOnPath(t,s))return!0;return!1}_clippedBBox(t){return Rv(this.paths,this.currentTransform(t))}}const W_=class extends s_{renderPoints(t){const e=this.srcElement.geometry(),[s,n]=e.cornerRadius;if(0===s&&0===n){const{origin:s,size:n}=e;t.rect(s.x,s.y,n.width,n.height)}else super.renderPoints(t,q_.fromRect(e))}},Q_=class extends s_{renderTo(t){const e=this.srcElement,s=e.position(),n=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),s.x,s.y+n.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),s.x,s.y+n.baseline)),t.restore()}};nb.Arc=n_,nb.Circle=i_,nb.Group=ab,nb.Image=r_,nb.MultiPath=o_,nb.Path=s_,nb.Rect=W_,nb.Text=Q_;const Z_=class extends Yv{get type(){return"canvas"}constructor(t,e){super(t,e),this.element.innerHTML=this._template(this);const s=this.element.firstElementChild,n=Hv(t);s.width=n.width,s.height=n.height,this._rootElement=s,this._root=new pb(s,n),this._mouseTrackHandler=this._trackMouse.bind(this),Kv(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Jv(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(t){super.draw(t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(t){if(this._searchTree){const e=this._surfacePoint(t);return this._searchTree.pointShape(e)}}image(){const{_root:t,_rootElement:e}=this,s=[];t.traverse(t=>{t.loading&&s.push(t.loading)});const n=tb(),i=()=>{t._invalidate({fixedScale:!0});try{const t=e.toDataURL();n.resolve(t)}catch(s){n.reject(s)}};return eb(s).then(i,i),n}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new vb;const t=this._root.childNodes,e=[];for(let s=0;s<t.length;s++)e.push(t[s].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}_enableTracking(){this._searchTree=new vb,this._cursor=new class{constructor(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(t){const e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(t){let e=t.element;for(;e&&!tv(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(t){this.element&&(this.element.style.cursor=t,this._current=t)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}(this),super._enableTracking()}_trackMouse(t){if(this._suspendedTracking)return;const e=this.eventTarget(t);if("click"!==t.type){const s=this._currentShape;s&&s!==e&&this.trigger("mouseleave",{element:s,originalEvent:t,type:"mouseleave"}),e&&s!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}};function X_(t,e){const s={width:"800px",height:"600px",cors:"Anonymous"};let n=t;const i=t.clippedBBox();if(i){const e=i.getOrigin();n=new Lv,n.transform(Sv().translate(-e.x,-e.y)),n.children.push(t);const r=i.getSize();s.width=r.width+"px",s.height=r.height+"px"}const r=Object.assign(s,e),o=document.createElement("div"),a=o.style;a.display="none",a.width=r.width,a.height=r.height,document.body.appendChild(o);const l=new Z_(o,r);l.suspendTracking(),l.draw(n);const h=l.image(),c=()=>{l.destroy(),document.body.removeChild(o)};return h.then(c,c),h}const Y_=String.fromCharCode,K_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function J_(t){let e="",s=0;const n=function(t){let e="";for(let s=0;s<t.length;s++){let n=t.charCodeAt(s);if(55296<=n&&n<=56319){const e=n,i=t.charCodeAt(++s);isNaN(i)||(n=1024*(e-55296)+(i-56320)+65536)}n<128?e+=Y_(n):n<2048?(e+=Y_(192|n>>>6),e+=Y_(128|63&n)):n<65536?(e+=Y_(224|n>>>12),e+=Y_(128|n>>>6&63),e+=Y_(128|63&n)):n<1114111&&(e+=Y_(240|n>>>18),e+=Y_(128|n>>>12&63),e+=Y_(128|n>>>6&63),e+=Y_(128|63&n))}return e}(t);for(;s<n.length;){let t=n.charCodeAt(s++),i=n.charCodeAt(s++),r=n.charCodeAt(s++),o=t>>2,a=(3&t)<<4|i>>4,l=(15&i)<<2|r>>6,h=63&r;isNaN(i)?l=h=64:isNaN(r)&&(h=64),e=e+K_.charAt(o)+K_.charAt(a)+K_.charAt(l)+K_.charAt(h)}return e}function tw(t,e){return tv(e)&&null!==e?` ${t}="${e}" `:""}function ew(t){let e="";for(let s=0;s<t.length;s++)e+=tw(t[s][0],t[s][1]);return e}function sw(t){let e="";for(let s=0;s<t.length;s++){let n=t[s][1];tv(n)&&(e+=t[s][0]+":"+n+";")}if(""!==e)return e}const nw={},iw="http://www.w3.org/2000/svg",rw="none";let ow=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){const t="<svg xmlns='"+iw+"'></svg>",e=document.createElement("div"),s="undefined"!=typeof DOMParser;e.innerHTML=t,s&&e.firstChild.namespaceURI!==iw&&(ow=function(t,e){const s=(new DOMParser).parseFromString(e,"text/xml"),n=document.adoptNode(s.documentElement);t.innerHTML="",t.appendChild(n)})}const aw=ow,lw="transform",hw={clip:"clip-path",fill:"fill"};function cw(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}const uw=class extends sb{constructor(t,e){super(t),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(t,e){for(let s=0;s<t.length;s++){const n=t[s],i=n.children,r=new nw[n.nodeType](n,this.options);tv(e)?this.insertAt(r,e):this.append(r),r.createDefinitions(),i&&i.length>0&&r.load(i);const o=this.element;o&&r.attachTo(o,e)}}root(){let t=this;for(;t.parent;)t=t.parent;return t}attachTo(t,e){const s=document.createElement("div");aw(s,"<svg xmlns='"+iw+"' version='1.1'>"+this.render()+"</svg>");const n=s.firstChild.firstChild;n&&(tv(e)?t.insertBefore(n,t.childNodes[e]||null):t.appendChild(n),this.setElement(n))}setElement(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;const e=this.childNodes;for(let s=0;s<e.length;s++)e[s].setElement(t.childNodes[s])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const t=this.childNodes;for(let e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){const t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const t=this.childNodes;let e="";for(let s=0;s<t.length;s++)e+=t[s].render();return e}optionsChange(t){const{field:e,value:s}=t;"visible"===e?this.css("display",s?"":rw):hw[e]&&cw(e,s)?this.updateDefinition(e,s):"opacity"===e?this.attr("opacity",s):"cursor"===e?this.css("cursor",s):"id"===e&&(s?this.attr("id",s):this.removeAttr("id")),super.optionsChange(t)}attr(t,e){this.element&&this.element.setAttribute(t,e)}allAttr(t){for(let e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])}css(t,e){this.element&&(this.element.style[t]=e)}allCss(t){for(let e=0;e<t.length;e++)this.css(t[e][0],t[e][1])}removeAttr(t){this.element&&this.element.removeAttribute(t)}mapTransform(t){const e=[];return t&&e.push([lw,"matrix("+t.matrix().toString(6)+")"]),e}renderTransform(){return ew(this.mapTransform(this.srcElement.transform()))}transformChange(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr(lw)}mapStyle(){const t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display",rw]),e}renderStyle(){return tw("style",sw(this.mapStyle(!0)))}renderOpacity(){return tw("opacity",this.srcElement.options.opacity)}renderId(){return tw("id",this.srcElement.options.id)}createDefinitions(){const t=this.srcElement,e=this.definitions;if(t){const s=t.options;let n;for(let t in hw){let i=s.get(t);i&&cw(t,i)&&(e[t]=i,n=!0)}n&&this.definitionChange({action:"add",definitions:e})}}definitionChange(t){this.parent&&this.parent.definitionChange(t)}updateDefinition(t,e){const s=this.definitions,n=s[t],i=hw[t],r={};n&&(r[t]=n,this.definitionChange({action:"remove",definitions:r}),delete s[t]),e?(r[t]=e,this.definitionChange({action:"add",definitions:r}),s[t]=e,this.attr(i,this.refUrl(e.id))):n&&this.removeAttr(i)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return ew(this.mapDefinitions())}mapDefinitions(){const t=this.definitions,e=[];for(let s in t)e.push([hw[s],this.refUrl(t[s].id)]);return e}refUrl(t){const e=(this.options||{}).skipBaseHref,s=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":s}#${t})`}baseUrl(){return function(){const t=document.getElementsByTagName("base")[0];let e=document.location.href,s="";if(t&&!(_b.browser||{}).msie){const t=e.indexOf("#");-1!==t&&(e=e.substring(0,t)),s=e}return s}()}},dw=class extends uw{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return tw("offset",this.srcElement.offset())}mapStyle(){const t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]}optionsChange(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)}},pw=class extends uw{constructor(t){super(t),this.id=t.id,this.loadStops()}loadStops(){const t=this.srcElement.stops,e=this.element;for(let s=0;s<t.length;s++){let n=new dw(t[s]);this.append(n),e&&n.attachTo(e)}}optionsChange(t){"gradient.stops"===t.field?(sb.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return ew(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},fw=class extends pw{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const t=this.srcElement,e=t.start(),s=t.end();return[["x1",e.x],["y1",e.y],["x2",s.x],["y2",s.y],this.mapSpace()]}},gw=class extends pw{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const t=this.srcElement,e=t.center(),s=t.radius();return[["cx",e.x],["cy",e.y],["r",s],this.mapSpace()]}},mw=class extends uw{constructor(t){super(),this.srcElement=t,this.id=t.id,this.load([t])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},yw=class extends uw{constructor(){super(),this.definitionMap={}}attachTo(t){this.element=t}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(t){const{definitions:e,action:s}=t;"add"===s?this.addDefinitions(e):"remove"===s&&this.removeDefinitions(e)}createDefinition(t,e){let s;return"clip"===t?s=mw:"fill"===t&&(e instanceof Xb?s=fw:e instanceof Kb&&(s=gw)),new s(e)}addDefinitions(t){for(let e in t)this.addDefinition(e,t[e])}addDefinition(t,e){const{element:s,definitionMap:n}=this,i=e.id,r=n[i];if(r)r.count++;else{const r=this.createDefinition(t,e);n[i]={element:r,count:1},this.append(r),s&&r.attachTo(this.element)}}removeDefinitions(t){for(let e in t)this.removeDefinition(t[e])}removeDefinition(t){const e=this.definitionMap,s=t.id,n=e[s];n&&(n.count--,0===n.count&&(this.remove(this.childNodes.indexOf(n.element),1),delete e[s]))}},xw=class extends uw{constructor(t){super(),this.options=t,this.defs=new yw}attachTo(t){this.element=t,this.defs.attachTo(t.firstElementChild)}clear(){sb.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(t){this.defs.definitionChange(t)}};function vw(t){const e=new xw({skipBaseHref:!0}),s=t.clippedBBox();let n=t;if(s){const e=s.getOrigin(),i=new Lv;i.transform(Sv().translate(-e.x,-e.y)),i.children.push(t),n=i}e.load([n]);const i=`<?xml version='1.0' ?><svg xmlns='${iw}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${e.render()}</svg>`;return e.destroy(),i}function bw(t,e){let s=vw(t);return e&&e.raw||(s="data:image/svg+xml;base64,"+J_(s)),tb().resolve(s)}const _w=Math.PI/2;class ww extends(ov(Jx,["radius"])){constructor(t=new mv,e=0){super(),this.setCenter(t),this.setRadius(e)}setCenter(t){return this._observerField("center",mv.create(t)),this.geometryChange(),this}getCenter(){return this.center}equals(t){return t&&t.center.equals(this.center)&&t.radius===this.radius}clone(){return new ww(this.center.clone(),this.radius)}pointAt(t){return this._pointAt(uv(t))}bbox(t){const e=g_(0,this.radius,this.radius,t);let s=mv.maxPoint(),n=mv.minPoint();for(let i=0;i<4;i++){let r=this._pointAt(e.x+i*_w).transformCopy(t),o=this._pointAt(e.y+i*_w).transformCopy(t),a=new mv(r.x,o.y);s=mv.min(s,a),n=mv.max(n,a)}return bv.fromPoints(s,n)}_pointAt(t){const{center:e,radius:s}=this;return new mv(e.x+s*Math.cos(t),e.y+s*Math.sin(t))}containsPoint(t){const{center:e,radius:s}=this;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(s,2)}_isOnPath(t,e){const{center:s,radius:n}=this,i=s.distanceTo(t);return n-e<=i&&i<=n+e}}const Sw=ww,kw="undefined"!=typeof Uint8Array&&_b.browser&&(!_b.browser.msie||_b.browser.version>9),Cw=(Aw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(t){for(var e=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),s=0,n=e.length,i=[];s<n;){var r=Aw.indexOf(e.charAt(s++)),o=Aw.indexOf(e.charAt(s++)),a=Aw.indexOf(e.charAt(s++)),l=Aw.indexOf(e.charAt(s++)),h=(15&o)<<4|a>>>2,c=(3&a)<<6|l;i.push(r<<2|o>>>4),64!=a&&i.push(h),64!=l&&i.push(c)}return i},encode:function(t){for(var e=0,s=t.length,n="";e<s;){var i=t[e++],r=t[e++],o=t[e++],a=(3&i)<<4|r>>>4,l=(15&r)<<2|o>>>6,h=63&o;e-s==2?l=h=64:e-s==1&&(h=64),n+=Aw.charAt(i>>>2)+Aw.charAt(a)+Aw.charAt(l)+Aw.charAt(h)}return n}});var Aw;function Tw(t){var e=0,s=0;null==t?t=kw?new Uint8Array(256):[]:s=t.length;var n=kw?function(e){if(e>=t.length){var s=new Uint8Array(Math.max(e+256,2*t.length));s.set(t,0),t=s}}:function(){},i=kw?function(){return new Uint8Array(t.buffer,0,s)}:function(){return t},r=kw?function(i){if("string"==typeof i)return g(i);var r=i.length;n(e+r),t.set(i,e),(e+=r)>s&&(s=e)}:function(t){if("string"==typeof t)return g(t);for(var e=0;e<t.length;++e)a(t[e])};function o(){return e<s?t[e++]:0}function a(i){n(e),t[e++]=255&i,e>s&&(s=e)}function l(){return o()<<8|o()}function h(t){a(t>>8),a(t)}function c(){return 65536*l()+l()}function u(t){h(t>>>16&65535),h(65535&t)}function d(){var t=c();return t>=2147483648?t-4294967296:t}function p(t){u(t<0?t+4294967296:t)}function f(t){return m(t,o)}function g(t){for(var e=0;e<t.length;++e)a(t.charCodeAt(e))}function m(t,e){for(var s=new Array(t),n=0;n<t;++n)s[n]=e();return s}var y={eof:function(){return e>=s},readByte:o,writeByte:a,readShort:l,writeShort:h,readLong:c,writeLong:u,readFixed:function(){return c()/65536},writeFixed:function(t){u(Math.round(65536*t))},readShort_:function(){var t=l();return t>=32768?t-65536:t},writeShort_:function(t){h(t<0?t+65536:t)},readLong_:d,writeLong_:p,readFixed_:function(){return d()/65536},writeFixed_:function(t){p(Math.round(65536*t))},read:f,write:r,readString:function(t){return String.fromCharCode.apply(String,f(t))},writeString:g,times:m,get:i,slice:kw?function(e,s){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+s));var n=new Uint8Array(s);return n.set(new Uint8Array(t.buffer,e,s)),n}:function(e,s){return t.slice(e,e+s)},offset:function(t){return null!=t?(e=t,y):e},skip:function(t){e+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return s},saveExcursion:function(t){var s=e;try{return t()}finally{e=s}},writeBase64:function(t){window.atob?g(window.atob(t)):r(Cw.decode(t))},base64:function(){return Cw.encode(i())}};return y}function Ew(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mw(t){return Object.keys(t).sort(function(t,e){return t-e}).map(parseFloat)}class Pw{constructor(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}var Iw;(function(){class t{get compound(){return!1}constructor(t){this.raw=t}render(){return this.raw.get()}}class e{get compound(){return!0}constructor(t){this.raw=t;for(var e=this.glyphIds=[],s=this.idOffsets=[];;){var n=t.readShort();if(s.push(t.offset()),e.push(t.readShort()),!(32&n))break;t.skip(1&n?4:2),128&n?t.skip(8):64&n?t.skip(4):8&n&&t.skip(2)}}render(t){for(var e=Tw(this.raw.get()),s=0;s<this.glyphIds.length;++s){var n=this.glyphIds[s];e.offset(this.idOffsets[s]),e.writeShort(t[n])}return e.get()}}})(),function(){class t{constructor(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}}}(),Iw=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),function(){class t{constructor(t,e,s){var n=this;n.platformID=t.readShort(),n.platformSpecificID=t.readShort(),n.offset=e+t.readLong(),t.saveExcursion(function(){var e;switch(t.offset(n.offset),n.format=t.readShort(),n.format){case 0:n.length=t.readShort(),n.language=t.readShort();for(var i=0;i<256;++i)s[i]=t.readByte();break;case 4:n.length=t.readShort(),n.language=t.readShort();var r=t.readShort()/2;t.skip(6);var o=t.times(r,t.readShort);t.skip(2);var a=t.times(r,t.readShort),l=t.times(r,t.readShort_),h=t.times(r,t.readShort),c=(n.length+n.offset-t.offset())/2,u=t.times(c,t.readShort);for(i=0;i<r;++i){var d=a[i],p=o[i];for(e=d;e<=p;++e){var f;0===h[i]?f=e+l[i]:0!==(f=u[h[i]/2-(r-i)+(e-d)]||0)&&(f+=l[i]),s[e]=65535&f}}break;case 6:n.length=t.readShort(),n.language=t.readShort(),e=t.readShort();for(var g=t.readShort();g-- >0;)s[e++]=t.readShort();break;case 12:t.readShort(),n.length=t.readLong(),n.language=t.readLong();for(var m=t.readLong();m-- >0;){e=t.readLong();for(var y=t.readLong(),x=t.readLong();e<=y;)s[e++]=x++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+n.format)}})}}}();var Rw={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Ow(t,e){t=t.toLowerCase(),Rw[t]=function(){return Rw[e]},Rw[t+"|bold"]=function(){return Rw[e+"|bold"]},Rw[t+"|italic"]=function(){return Rw[e+"|italic"]},Rw[t+"|bold|italic"]=function(){return Rw[e+"|bold|italic"]}}Ow("Times New Roman","serif"),Ow("Courier New","monospace"),Ow("Arial","sans-serif"),Ow("Helvetica","sans-serif"),Ow("Verdana","sans-serif"),Ow("Tahoma","sans-serif"),Ow("Georgia","sans-serif"),Ow("Monaco","monospace"),Ow("Andale Mono","monospace");const Lw=class extends Kx{constructor(t){super(),this._size=t,this._length=0,this._map={}}put(t,e){const s=this._map,n={key:t,value:e};s[t]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(s[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(t){const e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}},Dw=/\r?\n|\r|\t/g;function Fw(t){return String(t).replace(Dw," ")}function Nw(t){const e=[];for(let s in t)e.push(s+t[s]);return e.sort().join("")}function Bw(t){let e=2166136261;for(let s=0;s<t.length;++s)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(s);return e>>>0}const zw={baselineMarkerSize:1};let Vw;"undefined"!=typeof document&&(Vw=document.createElement("div"),Vw.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class jw extends Kx{constructor(t){super(),this._cache=new Lw(1e3),this.options=Object.assign({},zw,t)}measure(t,e,s={}){if(null==t)return{width:0,height:0,baseline:0};const n=Bw(t+Nw(e)),i=this._cache.get(n);if(i)return i;const r={width:0,height:0,baseline:0},o=s.box||Vw,a=this._baselineMarker().cloneNode(!1);for(let h in e){let t=e[h];void 0!==t&&(o.style[h]=t)}const l=!1!==s.normalizeText?Fw(t):String(t);return o.textContent=l,o.appendChild(a),document.body.appendChild(o),l.length&&(r.width=o.offsetWidth-this.options.baselineMarkerSize,r.height=o.offsetHeight,r.baseline=a.offsetTop+this.options.baselineMarkerSize),r.width>0&&r.height>0&&this._cache.put(n,r),o.parentNode.removeChild(o),r}_baselineMarker(){const t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}}jw.current=new jw;const Hw=jw;function Uw(t,e,s){return Hw.current.measure(t,e,s)}const $w={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function qw(t){const e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let s="";for(;t>0;)t<e[0]?e.shift():(s+=$w[e[0]],t-=e[0]);return s}function Gw(t,e){return t.length<2?t.slice():function t(s){if(s.length<=1)return s;var n=Math.floor(s.length/2),i=s.slice(0,n),r=s.slice(n);return function(t,s){for(var n=[],i=0,r=0,o=0;i<t.length&&r<s.length;)e(t[i],s[r])<=0?n[o++]=t[i++]:n[o++]=s[r++];return i<t.length&&n.push.apply(n,t.slice(i)),r<s.length&&n.push.apply(n,s.slice(r)),n}(i=t(i),r=t(r))}(t)}class Ww extends(l_(Lb(Ev,["position"]))){get nodeType(){return"Text"}constructor(t,e=new mv,s={}){super(s),this.content(t),this.position(e),this.options.font||(this.options.font="12px sans-serif"),tv(this.options.fill)||this.fill("#000")}content(t){return tv(t)?(this.options.set("content",t),this):this.options.get("content")}measure(){return Uw(this.content(),{font:this.options.get("font")})}rect(){const t=this.measure(),e=this.position().clone();return new bv(e,[t.width,t.height])}bbox(t){const e=fv(this.currentTransform(t));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(t){return this.rect().containsPoint(t)}}const Qw=Ww;function Zw(t){const e="_"+t;return function(t){return tv(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}const Xw=(t,e=["geometry"])=>{const s=class extends t{};return function(t,e){for(let s=0;s<e.length;s++)t[e[s]]=Zw(e[s])}(s.prototype,e),s};class Yw extends(Xw(Ev,["rect"])){get nodeType(){return"Image"}constructor(t,e=new bv,s={}){super(s),this.src(t),this.rect(e)}src(t){return tv(t)?(this.options.set("src",t),this):this.options.get("src")}bbox(t){const e=fv(this.currentTransform(t));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(t){return this._rect.containsPoint(t)}_hasFill(){return this.src()}}const Kw=Yw;class Jw extends(l_(c_(Xw(Ev)))){get nodeType(){return"Circle"}constructor(t=new Sw,e={}){super(e),this.geometry(t),tv(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(t){return this._geometry.bbox(t)}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const tS=Jw;var eS={};eS._root=eS,"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,Object.create(null),Object.create(null);const sS="arc",nS="#000",iS="bottom",rS="center",oS="circle",aS="cross",lS="date",hS="12px sans-serif",cS=10,uS=/\{\d+:?/,dS="height",pS="inside",fS="left",gS=Number.MAX_VALUE,mS=-Number.MAX_VALUE,yS="none",xS="object",vS="outside",bS="right",_S="string",wS="top",SS="value",kS="#fff",CS="width",AS="x",TS="y";function ES(t){return Array.isArray(t)}function MS(t,e){const s=ES(e)?e:[e];for(let n=0;n<s.length;n++){const e=s[n];-1===t.className.indexOf(e)&&(t.className+=" "+e)}}const PS=/\s+/g;function IS(t){let e=.5;t.options.stroke&&tv(t.options.stroke.width)&&t.options.stroke.width%2==0&&(e=0);for(let s=0;s<t.segments.length;s++)t.segments[s].anchor().round(0).translate(e,e);return t}function RS(t,e){return-t.x*e.y+t.y*e.x<0}function OS(t){return"number"==typeof t&&!isNaN(t)}function LS(t){return typeof t===_S}function DS(t){return OS(t)||LS(t)&&isFinite(t)}function FS(t){return"function"==typeof t}const NS="object";function BS(t,e){for(let s in e){let n,i=e[s],r=typeof i;if(n=r===NS&&null!==i?i.constructor:null,n&&n!==Array)if(i instanceof Date)t[s]=new Date(i.getTime());else if(FS(i.clone))t[s]=i.clone();else{let e=t[s];t[s]=typeof e===NS&&e||{},BS(t[s],i)}else"undefined"!==r&&(t[s]=i)}return t}function zS(t){const e=arguments.length;for(let s=1;s<e;s++)BS(t,arguments[s]);return t}function VS(t){return"object"==typeof t}function jS(t){return OS(t)?t+"px":t}const HS=/width|height|top|left|bottom|right/i;function US(t){return HS.test(t)}function $S(t,e){const s=LS(e)?[e]:e;if(ES(s)){const e={},n=window.getComputedStyle(t);for(let t=0;t<s.length;t++){let i=s[t];e[i]=US(i)?parseFloat(n[i]):n[i]}return e}if(VS(e))for(let n in e)t.style[n]=jS(e[n])}function qS(t,e=0){const s={top:0,right:0,bottom:0,left:0};return"number"==typeof t?s.top=s.right=s.bottom=s.left=t:(s.top=t.top||e,s.right=t.right||e,s.bottom=t.bottom||e,s.left=t.left||e),s}let GS={format:(t,e)=>e,toString:t=>t,parseDate:t=>new Date(t),firstDay:()=>0};const WS=class{static register(t){GS=t}static get implementation(){return GS}},QS=/\{(\d+)(:[^\}]+)?\}/g,ZS=class{constructor(t,e={}){this._intlService=e.intlService,this.sender=e.sender||t,this.format=new class{constructor(t){this._intlService=t}get intl(){return this._intlService||WS.implementation}set intl(t){this._intlService=t}auto(t,...e){const s=this.intl;return LS(t)&&t.match(uS)?s.format(t,...e):s.toString(e[0],t)}localeAuto(t,e,s){const n=this.intl;let i;return i=LS(t)&&t.match(uS)?t.replace(QS,function(t,i,r){let o=e[parseInt(i,10)];return n.toString(o,r?r.substring(1):"",s)}):n.toString(e[0],t,s),i}}(e.intlService),this.chart=t,this.rtl=Boolean(e.rtl)}get intl(){return this._intlService||WS.implementation}set intl(t){this._intlService=t,this.format.intl=t}notify(t,e){this.chart&&this.chart.trigger(t,e)}isPannable(t){const e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==t}};let XS;const YS=class{static register(t){XS=t}static create(t,e){if(XS)return XS.create(t,e)}};let KS={compile:function(t){return t}};function JS(t={}){let e;return t.template?t.template=e=class{static register(t){KS=t}static compile(t){return KS.compile(t)}}.compile(t.template):FS(t.content)&&(e=t.content),e}const tk=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,ek={};function sk(t){if(ek[t])return ek[t];const e=[];return t.replace(tk,function(t,s,n,i){e.push(tv(s)?s:n||i)}),ek[t]=function(t){let s=t;for(let n=0;n<e.length&&s;n++)s=s[e[n]];return s},ek[t]}function nk(t,e){const s=t.length,n=[];for(let i=0;i<s;i++)e(t[i])&&n.push(t[i]);return n}function ik(t,e){if(t.className){const s=e.split(" ");for(let e=0;e<s.length;e++)if(-1!==t.className.indexOf(s[e]))return!0}}ek[void 0]=function(t){return t};class rk{constructor(){this._map={}}get(t){return this._map[this._key(t)]}set(t,e){this._map[this._key(t)]=e}_key(t){return t instanceof Date?t.getTime():t}}function ok(t,e){if(e)return-1!==e.indexOf(t)}function ak(t,e,s){return av(t+(e-t)*s,3)}const lk=class{constructor(t,e){this.observer=t,this.handlerMap=zS({},this.handlerMap,e)}trigger(t,e){const{observer:s,handlerMap:n}=this;let i;return n[t]?i=this.callObserver(n[t],e):s.trigger&&(i=this.callObserver("trigger",t,e)),i}callObserver(t,...e){return this.observer[t].apply(this.observer,e)}requiresHandlers(t){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(t);for(let e=0;e<t.length;e++)if(this.handlerMap[t[e]])return!0}};function hk(t,e){const s=t.length,n=[];for(let i=0;i<s;i++){let s=e(t[i]);tv(s)&&n.push(s)}return n}function ck(t){let e=0;return t.wheelDelta&&(e=-t.wheelDelta/120,e=e>0?Math.ceil(e):Math.floor(e)),t.detail&&(e=av(t.detail/3)),e}function uk(t){const e=window.console;void 0!==e&&e.log&&e.log(t)}const{append:dk,bindEvents:pk,defined:fk,deg:gk,elementOffset:mk,elementSize:yk,eventElement:xk,eventCoordinates:vk,last:bk,limitValue:_k,objectKey:wk,rad:Sk,round:kk,unbindEvents:Ck,valueOrDefault:Ak}=n;class Tk{static fetchFonts(t,e,s={depth:0}){!t||s.depth>5||!document.fonts||Object.keys(t).forEach(function(n){const i=t[n];"dataSource"!==n&&"$"!==n[0]&&i&&("font"===n?e.push(i):"object"==typeof i&&(s.depth++,Tk.fetchFonts(i,e,s),s.depth--))})}static loadFonts(t,e){let s=[];if(t.length>0&&document.fonts){try{s=t.map(function(t){return document.fonts.load(t)})}catch(n){uk(n)}Promise.all(s).then(e,e)}else e()}static preloadFonts(t,e){const s=[];Tk.fetchFonts(t,s),Tk.loadFonts(s,e)}}const Ek=Tk;function Mk(t,e){const s=t.prototype;s.options=s.options?zS({},s.options,e):e}function Pk(t){let e=gS,s=mS;for(let n=0,i=t.length;n<i;n++){const i=t[n];null!==i&&isFinite(i)&&(e=Math.min(e,i),s=Math.max(s,i))}return{min:e===gS?void 0:e,max:s===mS?void 0:s}}function Ik(t,e){for(let s=0;s<t.length;s++){const n=t[s];if(e(n,s,t))return n}}const Rk=pv,Ok=/matrix\((.*)\)/;function Lk(t){const e=getComputedStyle(t).transform;return"none"===e?Rk.unit():function(t){const e=t.match(Ok);if(null===e||2!==e.length)return Rk.unit();const s=e[1].split(",").map(t=>parseFloat(t));return new Rk(...s)}(e)}function Dk(t,e){let s=kk(e-t,9);if(0===s){if(0===e)return.1;s=Math.abs(e)}const n=Math.pow(10,Math.floor(Math.log(s)/Math.log(10))),i=kk(s/n,cS);let r=1;return r=i<1.904762?.2:i<4.761904?.5:i<9.523809?1:2,kk(n*r,cS)}class Fk extends Kx{constructor(t,e){super(),this.x=t||0,this.y=e||0}clone(){return new Fk(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}rotate(t,e){const s=Sk(e),n=Math.cos(s),i=Math.sin(s),{x:r,y:o}=t,{x:a,y:l}=this;return this.x=kk(r+(a-r)*n+(l-o)*i,3),this.y=kk(o+(l-o)*n-(a-r)*i,3),this}multiply(t){return this.x*=t,this.y*=t,this}distanceTo(t){const e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}static onCircle(t,e,s){const n=Sk(e);return new Fk(t.x-s*Math.cos(n),t.y-s*Math.sin(n))}}const Nk=Fk;class Bk extends Kx{constructor(t,e,s,n){super(),this.x1=t||0,this.y1=e||0,this.x2=s||0,this.y2=n||0}equals(t){return this.x1===t.x1&&this.x2===t.x2&&this.y1===t.y1&&this.y2===t.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this}move(t,e){const s=this.height(),n=this.width();return fk(t)&&(this.x1=t,this.x2=this.x1+n),fk(e)&&(this.y1=e,this.y2=this.y1+s),this}wrap(t){return this.x1=Math.min(this.x1,t.x1),this.y1=Math.min(this.y1,t.y1),this.x2=Math.max(this.x2,t.x2),this.y2=Math.max(this.y2,t.y2),this}wrapPoint(t){const e=ES(t),s=e?t[0]:t.x,n=e?t[1]:t.y;return this.wrap(new Bk(s,n,s,n)),this}snapTo(t,e){return e!==AS&&e||(this.x1=t.x1,this.x2=t.x2),e!==TS&&e||(this.y1=t.y1,this.y2=t.y2),this}alignTo(t,e){const s=this.height(),n=this.width(),i=e===wS||e===iS?TS:AS,r=i===TS?s:n;if(e===rS){const e=t.center(),s=this.center();this.x1+=e.x-s.x,this.y1+=e.y-s.y}else this[i+1]=e===wS||e===fS?t[i+1]-r:t[i+2];return this.x2=this.x1+n,this.y2=this.y1+s,this}shrink(t,e){return this.x2-=t,this.y2-=e,this}expand(t,e){return this.shrink(-t,-e),this}pad(t){const e=qS(t);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(t){const e=qS(t);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new Bk(this.x1,this.y1,this.x2,this.y2)}center(){return new Nk(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(t){return t.x>=this.x1&&t.x<=this.x2&&t.y>=this.y1&&t.y<=this.y2}points(){return[new Nk(this.x1,this.y1),new Nk(this.x2,this.y1),new Nk(this.x2,this.y2),new Nk(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(t){return!(t.y2<this.y1||this.y2<t.y1||t.x2<this.x1||this.x2<t.x1)}rotate(t){let e=this.width(),s=this.height();const{x:n,y:i}=this.center(),r=zk(0,0,n,i,t),o=zk(e,0,n,i,t),a=zk(e,s,n,i,t),l=zk(0,s,n,i,t);return e=Math.max(r.x,o.x,a.x,l.x)-Math.min(r.x,o.x,a.x,l.x),s=Math.max(r.y,o.y,a.y,l.y)-Math.min(r.y,o.y,a.y,l.y),this.x2=this.x1+e,this.y2=this.y1+s,this}toRect(){return new bv([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(t,e,s){const n=e+1,i=e+2,r=e===AS?CS:dS,o=this[r]();ok(s,[fS,wS])?(this[n]=t[n],this[i]=this[n]+o):ok(s,[bS,iS])?(this[i]=t[i],this[n]=this[i]-o):s===rS&&(this[n]=t[n]+(t[r]()-o)/2,this[i]=this[n]+o)}}function zk(t,e,s,n,i){const r=Sk(i);return new Nk(s+(t-s)*Math.cos(r)+(e-n)*Math.sin(r),n-(t-s)*Math.sin(r)+(e-n)*Math.cos(r))}const Vk=Bk;class jk extends Kx{constructor(t,e,s,n,i){super(),this.center=t,this.innerRadius=e,this.radius=s,this.startAngle=n,this.angle=i}clone(){return new jk(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(t,e){return e?this.innerRadius=t:this.radius=t,this}point(t,e){const s=Sk(t),n=Math.cos(s),i=Math.sin(s),r=e?this.innerRadius:this.radius,o=kk(this.center.x-n*r,3),a=kk(this.center.y-i*r,3);return new Nk(o,a)}adjacentBox(t,e,s){const n=this.clone().expand(t),i=n.middle(),r=n.point(i),o=e/2,a=s/2,l=Math.sin(Sk(i)),h=Math.cos(Sk(i));let c=r.x-o,u=r.y-a;return Math.abs(l)<.9&&(c+=o*-h/Math.abs(h)),Math.abs(h)<.9&&(u+=a*-l/Math.abs(l)),new Vk(c,u,c+e,u+s)}containsPoint(t){const e=this.center,s=this.innerRadius,n=this.radius,i=this.startAngle,r=this.startAngle+this.angle,o=t.x-e.x,a=t.y-e.y,l=new Nk(o,a),h=this.point(i),c=new Nk(h.x-e.x,h.y-e.y),u=this.point(r),d=new Nk(u.x-e.x,u.y-e.y),p=kk(o*o+a*a,3);return(c.equals(l)||RS(c,l))&&!RS(d,l)&&p>=s*s&&p<=n*n}getBBox(){const t=new Vk(gS,gS,mS,mS),e=kk(this.startAngle%360),s=kk((e+this.angle)%360),n=this.innerRadius,i=[0,90,180,270,e,s].sort(Hk),r=i.indexOf(e),o=i.indexOf(s);let a;a=e===s?i:r<o?i.slice(r,o+1):[].concat(i.slice(0,o+1),i.slice(r,i.length));for(let l=0;l<a.length;l++){let e=this.point(a[l]);t.wrapPoint(e),t.wrapPoint(e,n)}return n||t.wrapPoint(this.center),t}expand(t){return this.radius+=t,this}}function Hk(t,e){return t-e}const Uk=jk;class $k extends Kx{createRing(t,e){const s=t.startAngle+180;let n=t.angle+s;t.angle>0&&s===n&&(n+=.001);const i=new mv(t.center.x,t.center.y),r=Math.max(t.radius,0),o=Math.max(t.innerRadius,0),a=new __(i,{startAngle:s,endAngle:n,radiusX:r,radiusY:r}),l=q_.fromArc(a,e).close();if(o){a.radiusX=a.radiusY=o;const t=a.pointAt(n);l.lineTo(t.x,t.y),l.arc(n,s,o,o,!0)}else l.lineTo(i.x,i.y);return l}}$k.current=new $k;const qk=$k;function Gk(t){return.5-Math.cos(t*Math.PI)/2}function Wk(t){return t}function Qk(t,e,s,n){let i=1.70158,r=0,o=n;return 0===t?s:1===t?s+n:(r||(r=.5),o<Math.abs(n)?(o=n,i=r/4):i=r/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((Number(t)-i)*(1.1*Math.PI)/r)+n+s)}let Zk;class Xk extends Kx{static get current(){return Zk||(Zk=new Xk),Zk}constructor(){super(),this._items=[]}register(t,e){this._items.push({name:t,type:e})}create(t,e){const s=this._items;let n;if(e&&e.type){const t=e.type.toLowerCase();for(let e=0;e<s.length;e++)if(s[e].name.toLowerCase()===t){n=s[e];break}}if(n)return new n.type(t,e)}}const Yk=Xk,Kk=class extends Kx{static create(t,e,s){return Yk.current.create(t,e,s)}get options(){return this._options||{duration:500,easing:"swing"}}set options(t){this._options=t}constructor(t,e){super(),this.options=Object.assign({},this.options,e),this.element=t}setup(){}step(){}play(){const t=this.options,{duration:e,delay:s=0}=t,n=i[t.easing],r=lb()+s,o=r+e;0===e?(this.step(1),this.abort()):setTimeout(()=>{const t=()=>{if(this._stopped)return;const s=lb(),i=$_(s-r,0,e),a=n(i/e,i,0,1,e);this.step(a),s<o?ub(t):this.abort()};t()},s)}abort(){this._stopped=!0}destroy(){this.abort()}};class Jk extends Kx{constructor(t){super(),this.children=[],this.options=zS({},this.options,this.initUserOptions(t))}initUserOptions(t){return t}reflow(t){const e=this.children;let s;for(let n=0;n<e.length;n++){let i=e[n];i.reflow(t),s=s?s.wrap(i.box):i.box.clone()}this.box=s||t}destroy(){const t=this.children;this.animation&&this.animation.destroy();for(let e=0;e<t.length;e++)t[e].destroy()}getRoot(){const t=this.parent;return t?t.getRoot():null}getSender(){const t=this.getService();if(t)return t.sender}getService(){let t=this;for(;t;){if(t.chartService)return t.chartService;t=t.parent}}translateChildren(t,e){const s=this.children,n=s.length;for(let i=0;i<n;i++)s[i].box.translate(t,e)}append(){for(let t=0;t<arguments.length;t++){let e=arguments[t];this.children.push(e),e.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const t=this.children,e=t.length;for(let s=0;s<e;s++)t[s].renderVisual()}createVisual(){this.visual=new Lv({zIndex:this.options.zIndex,visible:Ak(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=Kk.create(this.visual,this.options.animation))}appendVisual(t){t.chartElement||(t.chartElement=this),t.options.noclip?this.clipRoot().visual.append(t):fk(t.options.zIndex)?this.stackRoot().stackVisual(t):this.isStackRoot?this.stackVisual(t):this.visual?this.visual.append(t):this.parent.appendVisual(t)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(t){const e=t.options.zIndex||0,s=this.visual.children,n=s.length;let i;for(i=0;i<n&&!(Ak(s[i].options.zIndex,0)>e);i++);this.visual.insert(i,t)}traverse(t){const e=this.children,s=e.length;for(let n=0;n<s;n++){let s=e[n];t(s),s.traverse&&s.traverse(t)}}closest(t){let e=this,s=!1;for(;e&&!s;)s=t(e),s||(e=e.parent);if(s)return e}renderComplete(){}hasHighlight(){const t=(this.options||{}).highlight;return!(!this.createHighlight||t&&!1===t.visible)}toggleHighlight(t,e){const s=(this.options||{}).highlight||{},n=s.visual;let i=this._highlight;if(!i){const t={fill:{color:kS,opacity:e||.2},stroke:{color:kS,width:1,opacity:e||.2}};if(n){if(i=this._highlight=n(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(t),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!i)return}else i=this._highlight=this.createHighlight(t);fk(i.options.zIndex)||(i.options.zIndex=Ak(s.zIndex,this.options.zIndex)),this.appendVisual(i)}i.visible(t)}createGradientOverlay(t,e,s){const n=new q_(Object.assign({stroke:{color:"none"},fill:this.createGradient(s),closed:t.options.closed},e));return n.segments.elements(t.segments.elements()),n}createGradient(t){if(this.parent)return this.parent.createGradient(t)}supportsPointInactiveOpacity(){return!0}}Jk.prototype.options={};const tC=Jk;class eC extends tC{constructor(t){super(t),this.options.margin=qS(this.options.margin),this.options.padding=qS(this.options.padding)}reflow(t){const e=this.options,{width:s,height:n,shrinkToFit:i}=e,r=s&&n,o=e.margin,a=e.padding,l=e.border.width;let h;const c=()=>{this.align(t,AS,e.align),this.align(t,TS,e.vAlign),this.paddingBox=h.clone().unpad(o).unpad(l)};let u=t.clone();r&&(u.x2=u.x1+s,u.y2=u.y1+n),i&&u.unpad(o).unpad(l).unpad(a),super.reflow(u),h=r?this.box=new Vk(0,0,s,n):this.box,i&&r?(c(),u=this.contentBox=this.paddingBox.clone().unpad(a)):(u=this.contentBox=h.clone(),h.pad(a).pad(l).pad(o),c()),this.translateChildren(h.x1-u.x1+o.left+l+a.left,h.y1-u.y1+o.top+l+a.top);const d=this.children;for(let p=0;p<d.length;p++){let t=d[p];t.reflow(t.box)}}align(t,e,s){this.box.align(t,e,s)}hasBox(){const t=this.options;return t.border.width||t.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(q_.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const t=this.options,e=t.border||{};return{stroke:{width:e.width,color:e.color,opacity:Ak(e.opacity,t.opacity),dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},cursor:t.cursor}}}Mk(eC,{align:fS,vAlign:wS,margin:{},padding:{},border:{color:nS,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const sC=eC;class nC extends sC{constructor(t,e){super(t),this.pointData=e}getElement(){const{options:t,paddingBox:e}=this,{type:s,rotation:n}=t,i=e.center(),r=e.width()/2;if(!t.visible||!this.hasBox())return null;const o=this.visualStyle();let a;return s===oS?a=new tS(new Sw([kk(e.x1+r,3),kk(e.y1+e.height()/2,3)],r),o):"triangle"===s?a=q_.fromPoints([[e.x1+r,e.y1],[e.x1,e.y2],[e.x2,e.y2]],o).close():s===aS?(a=new G_(o),a.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),a.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1)):a=q_.fromRect(e.toRect(),o),n&&a.transform(Sv().rotate(-n,[i.x,i.y])),a.options.zIndex=t.zIndex,a}createElement(){const t=this.options.visual,e=this.pointData||{};let s;return s=t?t({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),s}visualOptions(){const t=this.options;return{background:t.background,border:t.border,margin:t.margin,padding:t.padding,type:t.type,size:t.width,visible:t.visible}}createVisual(){this.visual=this.createElement()}}Mk(nC,{type:oS,align:rS,vAlign:rS});const iC=nC,rC="radial",oC={glass:{type:"linear",rotation:0,stops:[{offset:0,color:kS,opacity:0},{offset:.25,color:kS,opacity:.3},{offset:1,color:kS,opacity:0}]},sharpBevel:{type:rC,stops:[{offset:0,color:kS,opacity:.55},{offset:.65,color:kS,opacity:0},{offset:.95,color:kS,opacity:.25}]},roundedBevel:{type:rC,stops:[{offset:.33,color:kS,opacity:.06},{offset:.83,color:kS,opacity:.2},{offset:.95,color:kS,opacity:0}]},roundedGlass:{type:rC,supportVML:!1,stops:[{offset:0,color:kS,opacity:0},{offset:.5,color:kS,opacity:.3},{offset:.99,color:kS,opacity:0}]},sharpGlass:{type:rC,supportVML:!1,stops:[{offset:0,color:kS,opacity:.2},{offset:.15,color:kS,opacity:.15},{offset:.17,color:kS,opacity:.35},{offset:.85,color:kS,opacity:.05},{offset:.87,color:kS,opacity:.15},{offset:.99,color:kS,opacity:0}]},bubbleShadow:{type:rC,center:[.5,.5],radius:.5}};function aC(t,e){if(t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2)return e;const s=Math.min(t.x1,e.x1),n=Math.max(t.x1,e.x1),i=Math.min(t.x2,e.x2),r=Math.max(t.x2,e.x2),o=Math.min(t.y1,e.y1),a=Math.max(t.y1,e.y1),l=Math.min(t.y2,e.y2),h=Math.max(t.y2,e.y2),c=[];return c[0]=new Vk(n,o,i,a),c[1]=new Vk(s,a,n,l),c[2]=new Vk(i,a,r,l),c[3]=new Vk(n,l,i,h),t.x1===s&&t.y1===o||e.x1===s&&e.y1===o?(c[4]=new Vk(s,o,n,a),c[5]=new Vk(i,l,r,h)):(c[4]=new Vk(i,o,r,a),c[5]=new Vk(s,l,n,h)),nk(c,function(t){return t.height()>0&&t.width()>0})[0]}class lC extends tC{constructor(t){super(t);const e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){const{options:t,children:e}=this;let s=new Vk(0,0,t.width,t.height);this.box=s.unpad(t.margin);for(let n=0;n<e.length;n++)e[n].reflow(s),s=aC(s,e[n].box)||new Vk}createVisual(){this.visual=new Lv,this.createBackground()}createBackground(){const t=this.options,e=t.border||{},s=this.box.clone().pad(t.margin).unpad(e.width),n=q_.fromRect(s.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:t.background,opacity:t.opacity},zIndex:-10});this.visual.append(n)}getRoot(){return this}createGradient(t){const e=this.gradients,s=wk(t),n=oC[t.gradient];let i;if(e[s])i=e[s];else{const r=Object.assign({},n,t);"linear"===n.type?i=new Xb(r):(t.innerRadius&&(r.stops=function(t){const e=t.stops,s=t.innerRadius/t.radius*100,n=e.length,i=[];for(let r=0;r<n;r++){let t=Object.assign({},e[r]);t.offset=(t.offset*(100-s)+s)/100,i.push(t)}return i}(r)),i=new Kb(r),i.supportVML=!1!==n.supportVML),e[s]=i}return i}cleanGradients(){const t=this.gradients;for(let e in t)t[e]._observers=[]}size(){const t=this.options;return new Vk(0,0,t.width,t.height)}}Mk(lC,{width:600,height:400,background:kS,border:{color:nS,width:0},margin:qS(5),zIndex:-2});const hC=lC;class cC extends tC{constructor(t){super(t),this._initDirection()}_initDirection(){const t=this.options;t.vertical?(this.groupAxis=AS,this.elementAxis=TS,this.groupSizeField=CS,this.elementSizeField=dS,this.groupSpacing=t.spacing,this.elementSpacing=t.vSpacing):(this.groupAxis=TS,this.elementAxis=AS,this.groupSizeField=dS,this.elementSizeField=CS,this.groupSpacing=t.vSpacing,this.elementSpacing=t.spacing)}reflow(t){this.box=t.clone(),this.reflowChildren()}reflowChildren(){const{box:t,elementAxis:e,groupAxis:s,elementSizeField:n,groupSizeField:i}=this,{groups:r,groupsSize:o,maxGroupElementsSize:a}=this.groupOptions(),l=r.length,h=t[s+1]+this.alignStart(o,t[i]());if(l){let c=h;for(let o=0;o<l;o++){let a=r[o],l=a.groupElements,h=t[e+1],u=l.length;for(let t=0;t<u;t++){let r=l[t],o=this.elementSize(r),u=c+this.alignStart(o[i],a.groupSize),d=new Vk;d[s+1]=u,d[s+2]=u+o[i],d[e+1]=h,d[e+2]=h+o[n],r.reflow(d),h+=o[n]+this.elementSpacing}c+=a.groupSize+this.groupSpacing}t[s+1]=h,t[s+2]=h+o,t[e+2]=t[e+1]+a}}alignStart(t,e){let s=0;const n=this.options.align;return n===bS||n===iS?s=e-t:n===rS&&(s=(e-t)/2),s}groupOptions(){const{box:t,children:e,elementSizeField:s,groupSizeField:n,elementSpacing:i,groupSpacing:r}=this,o=kk(t[s]()),a=e.length,l=[];let h=0,c=0,u=0,d=0,p=[];for(let f=0;f<a;f++){let a=e[f];a.box||a.reflow(t);let g=this.elementSize(a);this.options.wrap&&kk(c+i+g[s])>o&&(l.push({groupElements:p,groupSize:h,groupElementsSize:c}),d=Math.max(d,c),u+=r+h,h=0,c=0,p=[]),h=Math.max(h,g[n]),c>0&&(c+=i),c+=g[s],p.push(a)}return l.push({groupElements:p,groupSize:h,groupElementsSize:c}),d=Math.max(d,c),u+=h,{groups:l,groupsSize:u,maxGroupElementsSize:d}}elementSize(t){return{width:t.box.width(),height:t.box.height()}}createVisual(){}}Mk(cC,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const uC=cC,dC=Qw;class pC extends tC{constructor(t,e){super(e),this.content=t,this.reflow(new Vk)}reflow(t){const e=this.options,s=e.size=Uw(this.content,{font:e.font});this.baseline=s.baseline,this.box=new Vk(t.x1,t.y1,t.x1+s.width,t.y1+s.height)}createVisual(){const{font:t,color:e,opacity:s,cursor:n}=this.options;this.visual=new dC(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:e,opacity:s},cursor:n})}}Mk(pC,{font:hS,color:nS});const fC=pC;function gC(t){const e=t.origin,s=t.bottomRight();return new Vk(e.x,e.y,s.x,s.y)}const mC=/\n/m,yC=class extends sC{constructor(t,e,s){super(e),this.content=t,this.data=s,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Vk)}_initContainer(){const t=this.options,e=String(this.content).split(mC),s=new uC({vertical:!0,align:t.align,wrap:!1}),n=zS({},t,{opacity:1,animation:null});this.container=s,this.append(s);for(let i=0;i<e.length;i++){let t=new fC(e[i].trim(),n);s.append(t)}}reflow(t){const e=this.options,s=e.visual;if(this.container.options.align=e.align,s&&!this._boxReflow){let n=t;n.hasSize()||(this._boxReflow=!0,this.reflow(n),this._boxReflow=!1,n=this.box);const i=this.visual=s(this.visualContext(n));i&&(n=gC(i.clippedBBox()||new bv),i.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=n}else if(super.reflow(t),e.rotation){const s=qS(e.margin);let n=this.box.unpad(s);this.targetBox=t,this.normalBox=n.clone(),n=this.rotate(),n.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=n.clone(),n.pad(s)}}createVisual(){const t=this.options;if(this.visual=new Lv({transform:this.rotationTransform(),zIndex:t.zIndex,noclip:t.noclip}),this.hasBox()){const t=q_.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}renderVisual(){if(this.options.visible)if(this.options.visual){const t=this.visual;t&&!fk(t.options.noclip)&&(t.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(t){const e={text:this.content,rect:t.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(t),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();const t=this.visual;return delete this.visual,t}rotate(){const t=this.options;return this.box.rotate(t.rotation),this.align(this.targetBox,AS,t.align),this.align(this.targetBox,TS,t.vAlign),this.box}rotationTransform(){const t=this.options.rotation;if(!t)return null;const{x:e,y:s}=this.normalBox.center(),n=this.rotatedBox.center();return Sv().translate(n.x-e,n.y-s).rotate(t,[e,s])}};class xC extends tC{constructor(t){super(t),this.append(new yC(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})))}reflow(t){super.reflow(t),this.box.snapTo(t,AS)}static buildTitle(t,e,s){let n,i=t;return"string"==typeof t&&(i={text:t}),i=Object.assign({visible:!0},s,i),i&&i.visible&&i.text&&(n=new xC(i),e.append(n)),n}}Mk(xC,{color:nS,position:wS,align:rS,margin:qS(5),padding:qS(5)});const vC=xC;class bC extends yC{constructor(t,e,s,n,i){super(e,i),this.text=e,this.value=t,this.index=s,this.dataItem=n,this.reflow(new Vk)}visualContext(t){const e=super.visualContext(t);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(t,e){t.trigger("axisLabelClick",{element:xk(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==rS){const t=this.normalBox.toRect(),e=this.rotationTransform();this.box=gC(t.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){const t=this.options,e=t.rotation;if(!e)return null;if(t.alignRotation===rS)return super.rotationTransform();const s=Sv().rotate(e).matrix(),n=this.normalBox.toRect(),i=this.targetBox.toRect(),r=t.rotationOrigin||wS,o=r===wS||r===iS?AS:TS,a=r===wS||r===iS?TS:AS,l=r===wS||r===fS?i.origin:i.bottomRight(),h=n.topLeft().transformCopy(s),c=n.topRight().transformCopy(s),u=n.bottomRight().transformCopy(s),d=n.bottomLeft().transformCopy(s),p=bv.fromPoints(h,c,u,d),f={[a]:i.origin[a]-p.origin[a]},g=Math.abs(h[a]+f[a]-l[a]),m=Math.abs(c[a]+f[a]-l[a]);let y,x;kk(g,cS)===kk(m,cS)?(y=h,x=c):m<g?(y=c,x=u):(y=h,x=d);const v=y[o]+(x[o]-y[o])/2;return f[o]=i.center()[o]-v,Sv().translate(f.x,f.y).rotate(e)}}Mk(bC,{_autoReflow:!1});const _C=bC;class wC extends sC{constructor(t,e,s){super(e),this.fields=t,this.chartService=s,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const t=this.options;if(t.visible){const{label:e,icon:s}=t,n=new Vk,i=()=>this;let r,o,a=s.size,l=this.fields.text;if(fk(e)&&e.visible){const t=JS(e);t?l=t(this.fields):e.format&&(l=this.chartService.format.auto(e.format,l)),e.color||(e.color=e.position===pS?"#fff":s.background),this.label=new yC(l,zS({},e)),this.label.aliasFor=i,e.position!==pS||fk(a)||(s.type===oS?a=Math.max(this.label.box.width(),this.label.box.height()):(r=this.label.box.width(),o=this.label.box.height()),n.wrap(this.label.box))}s.width=r||a||7,s.height=o||a||7;const h=new iC(zS({},s));h.aliasFor=i,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new Vk),this.wrapperBox=n.wrap(h.box)}}reflow(t){const{options:e,label:s,marker:n,wrapperBox:i}=this,r=t.center(),o=e.line.length,a=e.position;if(e.visible){let l,h,c;ok(a,[fS,bS])?a===fS?(c=i.alignTo(t,a).translate(-o,t.center().y-i.center().y),e.line.visible&&(l=[t.x1,r.y],this.linePoints=[l,[c.x2,r.y]],h=c.clone().wrapPoint(l))):(c=i.alignTo(t,a).translate(o,t.center().y-i.center().y),e.line.visible&&(l=[t.x2,r.y],this.linePoints=[l,[c.x1,r.y]],h=c.clone().wrapPoint(l))):a===iS?(c=i.alignTo(t,a).translate(t.center().x-i.center().x,o),e.line.visible&&(l=[r.x,t.y2],this.linePoints=[l,[r.x,c.y1]],h=c.clone().wrapPoint(l))):(c=i.alignTo(t,a).translate(t.center().x-i.center().x,-o),e.line.visible&&(l=[r.x,t.y1],this.linePoints=[l,[r.x,c.y2]],h=c.clone().wrapPoint(l))),n&&n.reflow(c),s&&(s.reflow(c),n&&(e.label.position===vS&&s.box.alignTo(n.box,a),s.reflow(s.box))),this.contentBox=c,this.targetBox=t,this.box=h||c}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const t=this.options,e=t.visual;t.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const t=this.visual;return delete this.visual,t}})),this.addVisual()):super.renderVisual()}createLine(){const t=this.options.line;if(this.linePoints){const e=q_.fromPoints(this.linePoints,{stroke:{color:t.color,width:t.width,dashType:t.dashType}});IS(e),this.visual.append(e)}}click(t,e){const s=this.eventArgs(e);t.trigger("noteClick",s)||e.preventDefault()}over(t,e){const s=this.eventArgs(e);t.trigger("noteHover",s)||e.preventDefault()}out(t,e){const s=this.eventArgs(e);t.trigger("noteLeave",s)}eventArgs(t){const e=this.options;return Object.assign(this.fields,{element:xk(t),text:fk(e.label)?e.label.text:"",visual:this.visual})}}Mk(wC,{icon:{visible:!0,type:oS},label:{position:pS,visible:!0,align:rS,vAlign:rS},line:{visible:!0},visible:!0,position:wS,zIndex:2});const SC=wC;function kC(t,e){const{tickX:s,tickY:n,position:i}=t,r=new q_({stroke:{width:e.width,color:e.color}});return t.vertical?r.moveTo(s,i).lineTo(s+e.size,i):r.moveTo(i,n).lineTo(i,n+e.size),IS(r),r}function CC(t,e){const{lineStart:s,lineEnd:n,position:i}=t,r=new q_({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return t.vertical?r.moveTo(s,i).lineTo(n,i):r.moveTo(i,s).lineTo(i,n),IS(r),r}class AC extends tC{constructor(t,e=new ZS){super(t),this.chartService=e,this.options.visible||(this.options=zS({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=zS({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==yS},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=zS({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==yS},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(t){const e=t.rotation;VS(e)&&(t.alignRotation=e.align,t.rotation=e.angle)}createLabels(){const t=this.options,e=zS({},t.labels,{align:t.vertical?bS:rS,zIndex:t.zIndex}),s=Math.max(1,e.step);if(this.clearLabels(),e.visible){this.normalizeLabelRotation(e),"auto"===e.rotation&&(e.rotation=0,t.autoRotateLabels=!0);const n=this.labelsRange();for(let t=n.min;t<n.max;t+=s){let s=this.createAxisLabel(t,e,{index:t,count:n.max});s&&(this.append(s),this.labels.push(s))}}}clearLabels(){this.children=nk(this.children,t=>!(t instanceof _C)),this.labels=[]}clearTitle(){this.title&&(this.children=nk(this.children,t=>t!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:t,box:e}=this,s=t.labels.mirror,n=s?e.x1:e.x2,i=s?e.y2:e.y1,r=t.line.width||0;return t.vertical?new Vk(n,e.y1,n,e.y2-r):new Vk(e.x1,i,e.x2-r,i)}createTitle(){const t=this.options,e=zS({rotation:t.vertical?-90:0,text:"",zIndex:1,visualSize:!0},t.title);if(e.visible&&e.text){const t=new yC(e.text,e);this.append(t),this.title=t}}createNotes(){const t=this.options,e=t.notes,s=e.data||[];this.notes=[];for(let n=0;n<s.length;n++){const i=zS({},e,s[n]);i.value=this.parseNoteValue(i.value);const r=new SC({value:i.value,text:i.label.text,dataItem:i},i,this.chartService);r.options.visible&&(fk(r.options.position)?t.vertical&&!ok(r.options.position,[fS,bS])?r.options.position=t.reverse?fS:bS:t.vertical||ok(r.options.position,[wS,iS])||(r.options.position=t.reverse?iS:wS):r.options.position=t.vertical?t.reverse?fS:bS:t.reverse?iS:wS,this.append(r),this.notes.push(r))}}parseNoteValue(t){return t}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let t=this._gridLines;return t||(t=this._gridLines=new Lv({zIndex:-2}),this.appendVisual(this._gridLines)),t}createTicks(t){const e=this.options,s=this.lineBox(),n=e.labels.mirror,i=e.majorTicks.visible?e.majorUnit:0,r={vertical:e.vertical};function o(e,i,o){const a=e.length,l=Math.max(1,i.step);if(i.visible)for(let h=i.skip;h<a;h+=l)fk(o)&&h%o==0||(r.tickX=n?s.x2:s.x2-i.size,r.tickY=n?s.y1-i.size:s.y1,r.position=e[h],t.append(kC(r,i)))}o(this.getMajorTickPositions(),e.majorTicks),o(this.getMinorTickPositions(),e.minorTicks,i/e.minorUnit)}createLine(){const t=this.options,e=t.line,s=this.lineBox();if(e.width>0&&e.visible){const n=new q_({stroke:{width:e.width,color:e.color,dashType:e.dashType}});n.moveTo(s.x1,s.y1).lineTo(s.x2,s.y2),t._alignLines&&IS(n);const i=this._lineGroup=new Lv;i.append(n),this.visual.append(i),this.createTicks(i)}}getActualTickSize(){const t=this.options;let e=0;return t.majorTicks.visible&&t.minorTicks.visible?e=Math.max(t.majorTicks.size,t.minorTicks.size):t.majorTicks.visible?e=t.majorTicks.size:t.minorTicks.visible&&(e=t.minorTicks.size),e}createBackground(){const{options:t,box:e}=this,s=t.background;s&&(this._backgroundPath=q_.fromRect(e.toRect(),{fill:{color:s},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const t=this.options,e=t.plotBands||[],s=t.vertical,n=this.plotArea;if(0===e.length)return;const i=this._plotbandGroup=new Lv({zIndex:-1}),r=nk(this.pane.axes,t=>t.options.vertical!==this.options.vertical)[0];for(let o=0;o<e.length;o++){let t,a,l,h=e[o],c=h.label;if(s?(t=(r||n.axisX).lineBox(),a=this.getSlot(h.from,h.to,!0)):(t=this.getSlot(h.from,h.to,!0),a=(r||n.axisY).lineBox()),c&&(c.vAlign=c.position||fS,l=this.createPlotBandLabel(c,h,new Vk(t.x1,a.y1,t.x2,a.y2))),0!==t.width()&&0!==a.height()){const e=new bv([t.x1,a.y1],[t.width(),a.height()]),s=q_.fromRect(e,{fill:{color:h.color,opacity:h.opacity},stroke:null});i.append(s),l&&i.append(l)}}this.appendVisual(i)}createPlotBandLabel(t,e,s){if(!1===t.visible)return null;let n,i=t.text;if(fk(t)&&t.visible){const s=JS(t);s?i=s({text:i,item:e}):t.format&&(i=this.chartService.format.auto(t.format,i)),t.color||(t.color=this.options.labels.color)}return n=new yC(i,t),n.reflow(s),n.renderVisual(),n.visual}createGridLines(t){const e=this.options,{minorGridLines:s,majorGridLines:n,minorUnit:i,vertical:r}=e,o=t.options.line.visible,a=n.visible?e.majorUnit:0,l=t.lineBox(),h=l[r?"y1":"x1"],c={lineStart:l[r?"x1":"y1"],lineEnd:l[r?"x2":"y2"],vertical:r},u=[],d=this.gridLinesVisual();function p(t,e,s){const n=t.length,i=Math.max(1,e.step);if(e.visible)for(let r=e.skip;r<n;r+=i){let n=kk(t[r]);ok(n,u)||r%s==0||o&&h===n||(c.position=n,d.append(CC(c,e)),u.push(n))}}return p(this.getMajorTickPositions(),n),p(this.getMinorTickPositions(),s,a/i),d.children}reflow(t){const{options:e,labels:s,title:n}=this,i=e.vertical,r=s.length,o=i?CS:dS,a=n?n.box[o]():0,l=this.getActualTickSize()+e.margin+a,h=((this.getRoot()||{}).box||t)[o]();let c=0;for(let u=0;u<r;u++){let t=s[u].box[o]();t+l<=h&&(c=Math.max(c,t))}this.box=i?new Vk(t.x1,t.y1,t.x1+c+l,t.y2):new Vk(t.x1,t.y1,t.x2,t.y1+c+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(t){return t.index}arrangeLabels(){const{options:t,labels:e}=this,s=this.labelsBetweenTicks(),n=t.vertical,i=t.labels.mirror,r=this.getLabelsTickPositions();for(let o=0;o<e.length;o++){const t=e[o],a=this.labelTickIndex(t),l=n?t.box.height():t.box.width(),h=r[a],c=r[a+1];let u,d;n?(u=s?h+(c-h)/2-l/2:h-l/2,d=u):s?(u=h,d=c):(u=h-l/2,d=u+l),this.positionLabel(t,i,u,d)}}positionLabel(t,e,s,n=s){const i=this.options,r=i.vertical,o=this.lineBox(),a=this.getActualTickSize()+i.margin;let l;if(r){let n=o.x2;e?(n+=a,t.options.rotationOrigin=fS):(n-=a+t.box.width(),t.options.rotationOrigin=bS),l=t.box.move(n,s)}else{let i=o.y1;e?(i-=a+t.box.height(),t.options.rotationOrigin=iS):(i+=a,t.options.rotationOrigin=wS),l=new Vk(s,i,n,i+t.box.height())}t.reflow(l)}autoRotateLabelAngle(t,e){return t.width()<e?0:t.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const t=this.getMajorTickPositions(),e=this.labels,s=Math.min(e.length,t.length-1);let n=0;for(let i=0;i<s;i++){const s=Math.abs(t[i+1]-t[i]);if(n=this.autoRotateLabelAngle(e[i].box,s),-90===n)break}if(0!==n){for(let t=0;t<e.length;t++)e[t].options.rotation=n,e[t].reflow(new Vk);return!0}}arrangeTitle(){const{options:t,title:e}=this,s=t.labels.mirror;e&&(t.vertical?(e.options.align=s?bS:fS,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=s?wS:iS),e.reflow(this.box))}arrangeNotes(){for(let t=0;t<this.notes.length;t++){const e=this.notes[t],s=e.options.value;let n;fk(s)?(this.shouldRenderNote(s)?e.show():e.hide(),n=this.noteSlot(s)):e.hide(),e.reflow(n||this.lineBox())}}noteSlot(t){return this.getSlot(t)}alignTo(t){const e=t.lineBox(),s=this.options.vertical,n=s?TS:AS;this.box.snapTo(e,n),s?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[n+1]-=this.lineBox()[n+1]-e[n+1],this.box[n+2]-=this.lineBox()[n+2]-e[n+2]}axisLabelText(t,e,s){let n;const i=JS(e),r=()=>e.format?this.chartService.format.localeAuto(e.format,[t],e.culture):t;return n=i?i(Object.assign({},s,{get text(){return r()},value:t,format:e.format,culture:e.culture})):r(),n}slot(t,e,s){const n=this.getSlot(t,e,s);if(n)return n.toRect()}contentBox(){const t=this.box.clone(),e=this.labels;if(e.length){const s=this.options.vertical?TS:AS;if(this.chartService.isPannable(s)){const e=this.maxLabelOffset();t[s+1]-=e.start,t[s+2]+=e.end}else{e[0].options.visible&&t.wrap(e[0].box);const s=e[e.length-1];s.options.visible&&t.wrap(s.box)}}return t}maxLabelOffset(){const{vertical:t,reverse:e}=this.options,s=this.labelsBetweenTicks(),n=this.getLabelsTickPositions(),i=t?TS:AS,r=this.labels,o=e?1:0,a=e?0:1;let l=0,h=0;for(let c=0;c<r.length;c++){const t=r[c],e=this.labelTickIndex(t);let u,d;s?(u=n[e+o],d=n[e+a]):u=d=n[e],l=Math.max(l,u-t.box[i+1]),h=Math.max(h,t.box[i+2]-d)}return{start:l,end:h}}limitRange(t,e,s,n,i){const r=this.options;if(t<s&&i<0&&(!fk(r.min)||r.min<=s)||n<e&&i>0&&(!fk(r.max)||n<=r.max))return null;if(e<s&&i>0||n<t&&i<0)return{min:t,max:e};const o=e-t;let a=t,l=e;return t<s&&i<0?(a=_k(t,s,n),l=_k(t+o,s+o,n)):e>n&&i>0&&(l=_k(e,s,n),a=_k(e-o,s,n-o)),{min:a,max:l}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}Mk(AC,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:nS,visible:!0},title:{visible:!0,position:rS},majorTicks:{align:vS,size:4,skip:0,step:1},minorTicks:{align:vS,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:vS,minorTickType:yS,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:nS,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const TC=AC,EC="milliseconds",MC="seconds",PC="minutes",IC="hours",RC="days",OC="weeks",LC="months",DC="years",FC=6e4,NC=36e5,BC=864e5,zC=6048e5,VC=26784e5,jC=31536e6,HC={years:jC,months:VC,weeks:zC,days:BC,hours:NC,minutes:FC,seconds:1e3,milliseconds:1};function UC(t,e){return t.getTime()-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*FC}function $C(t,e){return new Date(t.getTime()+e)}function qC(t){let e;return t instanceof Date?e=t:t&&(e=new Date(t)),e}function GC(t,e){return 0===e&&23===t.getHours()&&(t.setHours(t.getHours()+2),!0)}function WC(t,e,s,n){let i=t;if(t){let r=qC(t);const o=r.getHours();s===DC?(i=new Date(r.getFullYear()+e,0,1),GC(i,0)):s===LC?(i=new Date(r.getFullYear(),r.getMonth()+e,1),GC(i,o)):s===OC?(i=WC(function(t,e=0){let s=0,n=t.getDay();if(!isNaN(n))for(;n!==e;)0===n?n=6:n--,s++;return $C(t,-s*BC)}(r,n),7*e,RC),GC(i,o)):s===RC?(i=new Date(r.getFullYear(),r.getMonth(),r.getDate()+e),GC(i,o)):s===IC?i=function(t,e){const s=new Date(t);s.setMinutes(0,0,0);const n=(t.getTimezoneOffset()-s.getTimezoneOffset())*FC;return $C(s,n+e*NC)}(r,e):s===PC?(i=$C(r,e*FC),i.getSeconds()>0&&i.setSeconds(0)):s===MC?i=$C(r,1e3*e):s===EC&&(i=$C(r,e)),s!==EC&&i.getMilliseconds()>0&&i.setMilliseconds(0)}return i}function QC(t,e,s){return WC(qC(t),0,e,s)}function ZC(t,e,s){const n=qC(t);return n&&QC(n,e,s).getTime()===n.getTime()?n:WC(n,1,e,s)}function XC(t,e){return t&&e?t.getTime()-e.getTime():-1}function YC(t,e){return t.getTime()-e}function KC(t){if(ES(t)){let e=[];for(let s=0;s<t.length;s++)e.push(KC(t[s]));return e}if(t)return qC(t).getTime()}function JC(t,e){return t&&e?KC(t)===KC(e):t===e}function tA(t,e,s){return UC(t,e)/HC[s]}function eA(t,e,s,n){const i=qC(t),r=qC(e);let o;return o=s===LC?i.getMonth()-r.getMonth()+12*(i.getFullYear()-r.getFullYear())+tA(i,new Date(i.getFullYear(),i.getMonth()),RC)/new Date(i.getFullYear(),i.getMonth()+1,0).getDate():s===DC?i.getFullYear()-r.getFullYear()+eA(i,new Date(i.getFullYear(),0),LC,1)/12:s===RC||s===OC?tA(i,r,s):YC(i,e)/HC[s],o/n}function sA(t,e,s){let n;return n=s===DC?e.getFullYear()-t.getFullYear():s===LC?12*sA(t,e,DC)+e.getMonth()-t.getMonth():s===RC?Math.floor(YC(e,t)/BC):Math.floor(YC(e,t)/HC[s]),n}function nA(t,e){let s;return s=LS(e)&&t.parseDate(e)||qC(e),s}function iA(t,e){if(ES(e)){const s=[];for(let n=0;n<e.length;n++)s.push(nA(t,e[n]));return s}return nA(t,e)}function rA(t,e){return OS(t.weekStartDay)?t.weekStartDay:e&&e.firstDay?e.firstDay():0}class oA extends TC{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const t=new oA(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return t.createLabels(),t}initUserOptions(t){const e=t.categories||[],s=fk(t.min),n=fk(t.max);if(t.srcCategories=t.categories=e,(s||n)&&e.length){const i=s?Math.floor(t.min):0;let r;r=n?t.justified?Math.floor(t.max)+1:Math.ceil(t.max):e.length,t.categories=t.categories.slice(i,r)}return t}rangeIndices(){const t=this.options,e=t.categories.length||1,s=OS(t.min)?t.min%1:0;let n;return n=OS(t.max)&&t.max%1!=0&&t.max<this.totalRange().max?e-(1-t.max%1):e-(t.justified?1:0),{min:s,max:n}}totalRangeIndices(t){const e=this.options;let s,n=OS(e.min)?e.min:0;if(s=OS(e.max)?e.max:OS(e.min)?n+e.categories.length:this.totalRange().max||1,t){const t=this.totalRange();n=_k(n,0,t.max),s=_k(s,0,t.max)}return{min:n,max:s}}range(){const t=this.options;return{min:OS(t.min)?t.min:0,max:OS(t.max)?t.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const t=this.options;return{min:0,max:Math.max(this._seriesMax||0,t.srcCategories.length)-(t.justified?1:0)}}scaleOptions(){const{min:t,max:e}=this.rangeIndices(),s=this.lineBox();return{scale:(this.options.vertical?s.height():s.width())/(e-t||1)*(this.options.reverse?-1:1),box:s,min:t,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:t,labels:e}=this;if(e.length>0){const s=this.options.vertical?TS:AS,n=t[s+1],i=t[s+2],r=e[0],o=bk(e);(r.box[s+1]>i||r.box[s+2]<n)&&(r.options.visible=!1),(o.box[s+1]>i||o.box[s+2]<n)&&(o.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(t){const{min:e,max:s}=this.rangeIndices(),n=Math.ceil(s);let i=Math.floor(e);const r=[];for(;i<=n;)r.push(i),i+=t;return r}getTickPositions(t){const{vertical:e,reverse:s}=this.options,{scale:n,box:i,min:r}=this.scaleOptions(),o=i[(e?TS:AS)+(s?2:1)],a=this.tickIndices(t),l=[];for(let h=0;h<a.length;h++)l.push(o+kk(n*(a[h]-r),3));return l}getTicks(){const t=this.options,e=this._ticks,s=this.rangeIndices(),n=this.lineBox(),i=n.getHash()+s.min+","+s.max+t.reverse+t.justified;if(e._hash!==i){const s=t.minorTicks.visible||t.minorGridLines.visible;e._hash=i,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,n),e.minorTicks=s?this.filterOutOfRangePositions(this.getTickPositions(.5),n):[]}return e}filterOutOfRangePositions(t,e){if(!t.length)return t;const s=this.options.vertical?TS:AS,n=t=>e[s+1]<=t&&t<=e[s+2],i=t.length-1;let r=0;for(;!n(t[r])&&r<=i;)r++;let o=i;for(;!n(t[o])&&o>=0;)o--;return t.slice(r,o+1)}getSlot(t,e,s){const n=this.options,{reverse:i,justified:r,vertical:o}=n,{scale:a,box:l,min:h}=this.scaleOptions(),c=o?TS:AS,u=l[c+(i?2:1)],d=l.clone(),p=!fk(e),f=Ak(t,0);let g=Ak(e,f);g=Math.max(g-1,f),g=Math.max(f,g);let m=u+(f-h)*a,y=u+(g+1-h)*a;return p&&r&&(y=m),s&&(m=_k(m,l[c+1],l[c+2]),y=_k(y,l[c+1],l[c+2])),d[c+1]=i?y:m,d[c+2]=i?m:y,d}limitSlot(t){const e=this.options.vertical?TS:AS,s=this.lineBox(),n=t.clone();return n[e+1]=_k(t[e+1],s[e+1],s[e+2]),n[e+2]=_k(t[e+2],s[e+1],s[e+2]),n}slot(t,e,s){const n=Math.floor(this.options.min||0);let i=t,r=e;return"string"==typeof i?i=this.categoryIndex(i):OS(i)&&(i-=n),"string"==typeof r?r=this.categoryIndex(r):OS(r)&&(r-=n),super.slot(i,r,s)}pointCategoryIndex(t){const{reverse:e,justified:s,vertical:n}=this.options,i=n?TS:AS,{scale:r,box:o,min:a,max:l}=this.scaleOptions(),h=o[i+1],c=t[i];if(c<h||c>o[i+2])return null;let u=(e?l:a)+(c-h)/r;const d=u%1;return s?u=Math.round(u):0===d&&u>0&&u--,Math.floor(u)}getCategory(t){const e=this.pointCategoryIndex(t);return null===e?null:this.options.categories[e]}categoryIndex(t){return this.totalIndex(t)-Math.floor(this.options.min||0)}categoryAt(t,e){const s=this.options;return(e?s.srcCategories:s.categories)[t]}categoriesCount(){return(this.options.categories||[]).length}translateRange(t){const e=this.options,s=this.lineBox(),n=e.vertical?s.height():s.width(),i=e.categories.length,r=kk(t/(n/i),cS);return{min:r,max:i+r}}zoomRange(t){const e=this.totalRangeIndices(),{min:s,max:n}=this.totalRange(),i=_k(e.min+t,s,n),r=_k(e.max-t,s,n);if(r-i>0)return{min:i,max:r}}scaleRange(t){const e=this.options.categories.length,s=t*e;return{min:-s,max:e+s}}labelsCount(){const t=this.labelsRange();return t.max-t.min}labelsRange(){const t=this.options,{justified:e,labels:s}=t;let{min:n,max:i}=this.totalRangeIndices(!0);const r=Math.floor(n);let o;return e?(n=Math.ceil(n),i=Math.floor(i)):(n=Math.floor(n),i=Math.ceil(i)),o=n>s.skip?s.skip+s.step*Math.ceil((n-s.skip)/s.step):s.skip,{min:o-r,max:(t.categories.length?i+(e?1:0):0)-r}}createAxisLabel(t,e,s){const n=this.options,i=n.dataItems?n.dataItems[t]:null,r=Ak(n.categories[t],"");s.dataItem=i;const o=this.axisLabelText(r,e,s);return new _C(r,o,t,i,e)}shouldRenderNote(t){const e=this.totalRangeIndices();return Math.floor(e.min)<=t&&t<=Math.ceil(e.max)}noteSlot(t){const e=t-Math.floor(this.options.min||0);return this.getSlot(e)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:t,box:e}=this;if(t&&t.length){const s=this.options.vertical?TS:AS,n=e[s+1],i=e[s+2];for(let e=0;e<t.length;e++){const r=t[e];r.box&&(i<r.box[s+1]||r.box[s+2]<n)&&r.hide()}}}pan(t){const e=this.totalRangeIndices(!0),{scale:s}=this.scaleOptions(),n=kk(t/s,cS),i=this.totalRange();return this.limitRange(e.min+n,e.max+n,0,i.max,n)}pointsRange(t,e){const{reverse:s,vertical:n}=this.options,i=n?TS:AS,r=this.totalRangeIndices(!0),{scale:o,box:a}=this.scaleOptions(),l=a[i+(s?2:1)],h=r.min+(t[i]-l)/o,c=r.min+(e[i]-l)/o,u=Math.min(h,c),d=Math.max(h,c);if(d-u>=.01)return{min:u,max:d}}valueRange(){return this.range()}totalIndex(t){const e=this.options;return this._categoriesMap?this._categoriesMap.get(t):function(t,e){if(t instanceof Date){const s=e.length;for(let n=0;n<s;n++)if(JC(e[n],t))return n;return-1}return e.indexOf(t)}(t,e.srcCategories)}currentRangeIndices(){const t=this.options;let e,s=0;return OS(t.min)&&(s=Math.floor(t.min)),e=OS(t.max)?t.justified?Math.floor(t.max):Math.ceil(t.max)-1:this.totalCount()-1,{min:s,max:e}}mapCategories(){if(!this._categoriesMap){const t=this._categoriesMap=new rk,e=this.options.srcCategories;for(let s=0;s<e.length;s++)t.set(e[s],s)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}Mk(oA,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:nS},labels:{zIndex:1},justified:!1,_deferLabels:!0});const aA=oA,lA={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},hA=[EC,MC,PC,IC,RC,OC,LC,DC],cA="fit";function uA(t){let e=t._range;return e||(e=t._range=Pk(t),e.min=qC(e.min),e.max=qC(e.max)),e}class dA{constructor(t){this.options=t}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class pA{constructor(t,e,s){this.options=s,s.baseUnitStep=s.baseUnitStep||1;const{roundToBaseUnit:n,justified:i}=s;this.start=WC(t,0,s.baseUnit,s.weekStartDay);const r=this.roundToTotalStep(e),o=!i&&JC(e,r)&&!s.justifyEnd;this.end=this.roundToTotalStep(e,!i,o?1:0);const a=s.min||t;this.valueStart=this.roundToTotalStep(a),this.displayStart=n?this.valueStart:a;const l=s.max;if(l){const t=!i&&JC(l,this.roundToTotalStep(l))?-1:0;this.valueEnd=this.roundToTotalStep(l,!1,t),this.displayEnd=n?this.roundToTotalStep(l,!i):s.max}else this.valueEnd=r,this.displayEnd=n||o?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const t=this.options,{baseUnit:e,baseUnitStep:s}=t,n=eA(this.displayStart,this.valueStart,e,s),i=eA(this.displayEnd,this.valueStart,e,s);this._indices={min:n,max:i}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(t){const e=this.options;return Math.floor(eA(t,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(t){const e=this.options;return Math.floor(eA(t,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(t){const e=this.options;return eA(t,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let t=this._values;if(!t){const e=this.options,s=this.valueRange();this._values=t=[];for(let n=s.min;n<=s.max;)t.push(n),n=WC(n,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return t}dateAt(t,e){const s=this.options;return WC(e?this.start:this.valueStart,s.baseUnitStep*t,s.baseUnit,s.weekStartDay)}roundToTotalStep(t,e,s){const{baseUnit:n,baseUnitStep:i,weekStartDay:r}=this.options,o=this.start,a=eA(t,o,n,i);let l=e?Math.ceil(a):Math.floor(a);return s&&(l+=s),WC(o,l*i,n,r)}}function fA(t,e,s){const n=uA(t.categories),i=(t.max||n.max)-(t.min||n.min),{autoBaseUnitSteps:r,maxDateGroups:o}=t,a=t.baseUnit===cA;let l,h,c,u=e?hA.indexOf(e):0,d=a?hA[u++]:t.baseUnit,p=i/HC[d],f=p;for(;!h||p>=o;){l=l||r[d].slice(0);do{c=l.shift()}while(c&&e===d&&c<s);if(c)h=c,p=f/h;else{if(d===bk(hA)){h=Math.ceil(f/o);break}if(!a){p>o&&(h=Math.ceil(f/o));break}d=hA[u++]||bk(hA),f=i/HC[d],l=null}}t.baseUnitStep=h,t.baseUnit=d}class gA extends aA{clone(){const t=new gA(Object.assign({},this.options),this.chartService);return t.createLabels(),t}categoriesHash(){const t=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+t}initUserOptions(t){return t}initFields(){super.initFields();const t=this.chartService,e=t.intl;let s=this.options,n=s.categories||[];if(n._parsed||(n=iA(e,n),n._parsed=!0),s=zS({roundToBaseUnit:!0},s,{categories:n,min:nA(e,s.min),max:nA(e,s.max),weekStartDay:rA(s,e)}),t.panning&&t.isPannable(s.vertical?TS:AS)&&(s.roundToBaseUnit=!1),s.userSetBaseUnit=s.userSetBaseUnit||s.baseUnit,s.userSetBaseUnitStep=s.userSetBaseUnitStep||s.baseUnitStep,this.options=s,s.srcCategories=n,n.length>0){const t=uA(n),e=s.maxDivisions;if(this.dataRange=new pA(t.min,t.max,function(t){const e=(t.baseUnit||"").toLowerCase();return e!==cA&&!ok(e,hA)&&function(t){const e=t.categories,s=fk(e)?e.length:0;let n,i,r=gS;for(let o=0;o<s;o++){const t=e[o];if(t&&n){const e=UC(t,n);e>0&&(r=Math.min(r,e),i=r>=jC?DC:r>=24192e5?LC:r>=zC?OC:r>=BC?RC:r>=NC?IC:r>=FC?PC:MC)}n=t}t.baseUnit=i||RC}(t),e!==cA&&"auto"!==t.baseUnitStep||fA(t),t}(s)),e){const n=this.dataRange.displayRange(),i=Object.assign({},s,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:n.min,max:n.max,maxDateGroups:e}),r=this.dataRange.options;fA(i,r.baseUnit,r.baseUnitStep),this.divisionRange=new pA(t.min,t.max,i)}else this.divisionRange=this.dataRange}else s.baseUnit=s.baseUnit||RC,this.dataRange=this.divisionRange=new dA(s);this.rangeLabels=[]}tickIndices(t){const{dataRange:e,divisionRange:s}=this,n=s.valuesCount();if(!this.options.maxDivisions||!n)return super.tickIndices(t);const i=[];let r=s.values(),o=0;this.options.justified||(r=r.concat(s.dateAt(n)),o=.5);for(let a=0;a<r.length;a++)if(i.push(e.dateIndex(r[a])+o),1!==t&&a>=1){const e=i.length-1;i.splice(a,0,i[e-1]+(i[e]-i[e-1])*t)}return i}shouldRenderNote(t){const e=this.range(),s=this.options.categories||[];return XC(t,e.min)>=0&&XC(t,e.max)<=0&&s.length}parseNoteValue(t){return nA(this.chartService.intl,t)}noteSlot(t){return this.getSlot(t)}translateRange(t){const e=this.options,{baseUnit:s,weekStartDay:n,vertical:i}=e,r=this.lineBox(),o=i?r.height():r.width();let a=this.range();const l=kk(t/(o/(a.max-a.min)),cS);if(a.min&&a.max){const t=$C(e.min||a.min,l),i=$C(e.max||a.max,l);a={min:WC(t,0,s,n),max:WC(i,0,s,n)}}return a}scaleRange(t){let e=Math.abs(t),s=this.range(),{min:n,max:i}=s;if(n&&i){for(;e--;){const e=YC(n,i),s=Math.round(.1*e);t<0?(n=$C(n,s),i=$C(i,-s)):(n=$C(n,-s),i=$C(i,s))}s={min:n,max:i}}return s}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(t){if(this.isEmpty())return null;const e=this.options,s=this.lineBox(),n=e.vertical?s.height():s.width(),{min:i,max:r}=this.dataRange.displayRange(),o=this.dataRange.total(),a=kk(t/(n/(r-i)),cS)*(e.reverse?-1:1),l=$C(i,a),h=$C(r,a),c=this.limitRange(KC(l),KC(h),KC(o.min),KC(o.max),a);return c?(c.min=qC(c.min),c.max=qC(c.max),c.baseUnit=e.baseUnit,c.baseUnitStep=e.baseUnitStep||1,c.userSetBaseUnit=e.userSetBaseUnit,c.userSetBaseUnitStep=e.userSetBaseUnitStep,c):void 0}pointsRange(t,e){if(this.isEmpty())return null;const s=super.pointsRange(t,e),n=this.dataRange.displayRange(),i=this.dataRange.displayIndices(),r=YC(n.max,n.min)/(i.max-i.min),o=this.options;return{min:$C(n.min,s.min*r),max:$C(n.min,s.max*r),baseUnit:o.userSetBaseUnit||o.baseUnit,baseUnitStep:o.userSetBaseUnitStep||o.baseUnitStep}}zoomRange(t){if(this.isEmpty())return null;const e=this.options,s=e.userSetBaseUnit===cA,n=this.dataRange.total(),{min:i,max:r}=this.dataRange.displayRange();let{weekStartDay:o,baseUnit:a,baseUnitStep:l}=this.dataRange.options,h=WC(i,t*l,a,o),c=WC(r,-t*l,a,o);if(s){const{autoBaseUnitSteps:t,maxDateGroups:s}=e,o=bk(t[a])*s*HC[a],l=YC(r,i),u=YC(c,h);let d,p,f=hA.indexOf(a);if(u<HC[a]&&a!==EC)a=hA[f-1],d=bk(t[a]),p=(l-(s-1)*d*HC[a])/2,h=$C(i,p),c=$C(r,-p);else if(u>o&&a!==DC){let e=0;do{f++,a=hA[f],e=0,p=2*HC[a];do{d=t[a][e],e++}while(e<t[a].length&&p*d<l)}while(a!==DC&&p*d<l);p=(p*d-l)/2,p>0&&(h=$C(i,-p),c=$C(r,p),h=$C(h,_k(c,n.min,n.max)-c),c=$C(c,_k(h,n.min,n.max)-h))}}return h<n.min&&(h=n.min),c>n.max&&(c=n.max),h&&c&&YC(c,h)>0?{min:h,max:c,baseUnit:e.userSetBaseUnit||e.baseUnit,baseUnitStep:e.userSetBaseUnitStep||e.baseUnitStep}:void 0}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:t,rangeLabels:e}=this;if(0===e.length)return;const s=this.lineBox(),n=t.vertical,i=t.rangeLabels.mirror||t.labels.mirror,r=e[0];if(r){const t=n?s.y1-r.box.height()/2:s.x1;this.positionLabel(r,i,t)}const o=e[1];if(o){const t=n?s.y2-o.box.height()/2:s.x2;this.positionLabel(o,i,t)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:t,labels:e}=this;if(0===t.length)return;function s(t,e){return!(e.options.visible&&!e.box.overlaps(t.box)||(e.options.visible=!1,0))}const n=t[0];if(n&&n.options.visible)for(let r=0;r<e.length&&s(n,e[r]);r++);const i=t[1];if(i&&i.options.visible)for(let r=e.length-1;r>0&&s(i,e[r]);--r);}contentBox(){const t=super.contentBox(),e=this.rangeLabels;for(let s=0;s<e.length;s++){const n=e[s];n.options.visible&&t.wrap(n.box)}return t}createAxisLabel(t,e,s={}){const n=this.options,i=n.dataItems&&!n.maxDivisions?n.dataItems[t]:null,r=this.divisionRange.dateAt(t);e.format=e.format||e.dateFormats[this.divisionRange.options.baseUnit],s.dataItem=i;const o=this.axisLabelText(r,e,s);if(o)return new _C(r,o,t,i,e)}createRangeLabels(){const{displayStart:t,displayEnd:e}=this.divisionRange,s=this.options,n=Object.assign({},s.labels,s.rangeLabels,{align:rS,zIndex:s.zIndex});if(!0!==n.visible)return;this.normalizeLabelRotation(n),n.alignRotation=rS,"auto"===n.rotation&&(n.rotation=0,s.autoRotateRangeLabels=!0),n.format=n.format||n.dateFormats[this.divisionRange.options.baseUnit];const i=(t,e,s)=>{if(s){const i=new _C(e,s,t,null,n);this.append(i),this.rangeLabels.push(i)}};i(0,t,this.axisLabelText(t,n,{index:0,count:2})),i(1,e,this.axisLabelText(e,n,{index:1,count:2}))}autoRotateRangeLabels(){const t=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==t.length)return;const e=(t,e,s)=>{const n=2*Math.abs(e[s+1]-e[s]),i=this.autoRotateLabelAngle(t.box,n);0!==i&&(t.options.rotation=i,t.reflow(new Vk))},s=this.getMajorTickPositions();e(t[0],s,0),e(t[1],s,s.length-2)}categoryIndex(t){return this.dataRange.valueIndex(t)}slot(t,e,s){const n=this.dataRange;let i=t,r=e;i instanceof Date&&(i=n.dateIndex(i)),r instanceof Date&&(r=n.dateIndex(r));const o=this.getSlot(i,r,s);if(o)return o.toRect()}getSlot(t,e,s){let n=t,i=e;return typeof n===xS&&(n=this.categoryIndex(n)),typeof i===xS&&(i=this.categoryIndex(i)),super.getSlot(n,i,s)}valueRange(){const t=uA(this.options.srcCategories);return{min:qC(t.min),max:qC(t.max)}}categoryAt(t,e){return this.dataRange.dateAt(t,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(t){const e=this.pointCategoryIndex(t);return null===e?null:this.dataRange.dateAt(e)}totalIndex(t){return this.dataRange.totalIndex(t)}currentRangeIndices(){const t=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(t.min),max:this.dataRange.totalIndex(t.max)}}totalRange(){return this.dataRange.total()}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const t=this.options,e=uA(t.srcCategories);return new pA(e.min,e.max,Object.assign({},t,{justified:!1,roundToBaseUnit:!0,justifyEnd:t.justified})).displayRange()}}Mk(gA,{type:lS,labels:{dateFormats:lA},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const mA=gA;function yA(t,e){return kk(Math.floor(t/e)*e,cS)}function xA(t,e){return kk(Math.ceil(t/e)*e,cS)}function vA(t){return Math.max(Math.min(t,3e5),-3e5)}const bA=Math.pow(10,-9);class _A extends TC{constructor(t,e,s,n){super(Object.assign({},s,{seriesMin:t,seriesMax:e}),n)}initUserOptions(t){const e=function(t,e,s){const n=s.narrowRange;let i=function(t,e,s){if(!t&&!e)return 0;let n;if(t>=0&&e>=0){const i=t===e?0:t;let r=(e-i)/e;if(!1===s||!s&&r>.2)return 0;n=Math.max(0,i-(e-i)/2)}else n=t;return n}(t,e,n),r=function(t,e,s){if(!t&&!e)return 1;let n;if(t<=0&&e<=0){const i=t===e?0:e;let r=Math.abs((i-t)/i);if(!1===s||!s&&r>.2)return 0;n=Math.min(0,i-(t-i)/2)}else n=e;return n}(t,e,n);const o=Dk(i,r),a={majorUnit:o};return!1!==s.roundToMajorUnit&&(i<0&&wA(i,o,1/3)&&(i-=o),r>0&&wA(r,o,1/3)&&(r+=o)),a.min=yA(i,o),a.max=xA(r,o),a}(t.seriesMin,t.seriesMax,t);return this.totalOptions=function(t,e){return{min:fk(e.min)?Math.min(t.min,e.min):t.min,max:fk(e.max)?Math.max(t.max,e.max):t.max,majorUnit:t.majorUnit}}(e,t),function(t,e){let s,n,i=e;if(e){!function(t,e){for(let s=0;s<e.length;s++){const n=e[s];null===t[n]&&(t[n]=void 0)}}(e,["min","max"]),s=fk(e.min),n=fk(e.max);const r=s||n;r&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(t.min=yA(t.min,e.majorUnit),t.max=xA(t.max,e.majorUnit)):r&&(i=zS(t,e),t.majorUnit=Dk(i.min,i.max))}t.minorUnit=(i.majorUnit||t.majorUnit)/5;const r=zS(t,i);return r.min>=r.max&&(s&&!n?r.max=r.min+r.majorUnit:!s&&n&&(r.min=r.max-r.majorUnit)),r}(e,t)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new _A(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const t=this.options;return{min:t.min,max:t.max}}getDivisions(t){if(0===t)return 1;const e=this.options;return Math.floor(kk((e.max-e.min)/t,3))+1}getTickPositions(t,e){const s=this.options,{vertical:n,reverse:i}=s,r=this.lineBox(),o=t*((n?r.height():r.width())/(s.max-s.min)),a=this.getDivisions(t),l=(n?-1:1)*(i?-1:1),h=[];let c=r[(n?TS:AS)+(1===l?1:2)],u=0;e&&(u=e/t);for(let d=0;d<a;d++)d%u!=0&&h.push(kk(c,3)),c+=o*l;return h}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,s=!1){const n=this.options,{vertical:i,reverse:r}=n,o=i?TS:AS,a=this.lineBox(),l=a[o+(r?2:1)],h=(r?-1:1)*((i?a.height():a.width())/(n.max-n.min)),c=new Vk(a.x1,a.y1,a.x1,a.y1);let u,d,p=t,f=e;return fk(p)||(p=f||0),fk(f)||(f=p||0),s&&(p=Math.max(Math.min(p,n.max),n.min),f=Math.max(Math.min(f,n.max),n.min)),i?(u=n.max-Math.max(p,f),d=n.max-Math.min(p,f)):(u=Math.min(p,f)-n.min,d=Math.max(p,f)-n.min),c[o+1]=vA(l+h*(r?d:u)),c[o+2]=vA(l+h*(r?u:d)),c}getValue(t){const e=this.options,{vertical:s,reverse:n}=e,i=Number(e.max),r=Number(e.min),o=s?TS:AS,a=this.lineBox(),l=a[o+(n?2:1)],h=s?a.height():a.width(),c=(n?-1:1)*(t[o]-l),u=c*((i-r)/h);return c<0||c>h?null:kk(s?i-u:r+u,cS)}translateRange(t){const e=this.options,{vertical:s,reverse:n,max:i,min:r}=e,o=this.lineBox(),a=s?o.height():o.width();let l=kk(t/(a/(i-r)),cS);return!s&&!n||s&&n||(l=-l),{min:r+l,max:i+l,offset:l}}scaleRange(t){const e=this.options,s=-t*e.majorUnit;return{min:e.min-s,max:e.max+s}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,s){const n=this.options,i=kk(n.min+t*n.majorUnit,cS),r=this.axisLabelText(i,e,s);return new _C(i,r,t,null,e)}shouldRenderNote(t){const e=this.range();return e.min<=t&&t<=e.max}pan(t){const e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){const s=this.getValue(t),n=this.getValue(e),i=Math.min(s,n),r=Math.max(s,n);if(this.isValidRange(i,r))return{min:i,max:r}}zoomRange(t){const{totalMin:e,totalMax:s}=this,n=this.scaleRange(t),i=_k(n.min,e,s),r=_k(n.max,e,s);if(this.isValidRange(i,r))return{min:i,max:r}}isValidRange(t,e){return e-t>bA}}function wA(t,e,s){const n=kk(Math.abs(t%e),cS);return 0===n||n>e*(1-s)}Mk(_A,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:nS},labels:{format:"#.####################"},zIndex:1});const SA=_A;class kA extends TC{constructor(t,e,s,n){const i=qC(t),r=qC(e),o=n.intl;let a=s||{};a=zS(a||{},{min:nA(o,a.min),max:nA(o,a.max),axisCrossingValue:iA(o,a.axisCrossingValues||a.axisCrossingValue),weekStartDay:rA(a,o)}),a=function(t,e,s){const n=s.min||t,i=s.max||e,r=s.baseUnit||(i&&n?function(t){let e=IC;return t>=jC?e=DC:t>=VC?e=LC:t>=zC?e=OC:t>=BC&&(e=RC),e}(UC(i,n)):IC),o=HC[r],a=s.weekStartDay||0,l=QC(KC(n)-1,r,a)||qC(i),h=ZC(KC(i)+1,r,a),c=(s.majorUnit?s.majorUnit:void 0)||xA(Dk(l.getTime(),h.getTime()),o)/o,u=sA(l,h,r),d=xA(u,c)-u,p=Math.floor(d/2),f=d-p;return s.baseUnit||delete s.baseUnit,s.baseUnit=s.baseUnit||r,s.min=s.min||WC(l,-p,r,a),s.max=s.max||WC(h,f,r,a),s.minorUnit=s.minorUnit||c/5,s.majorUnit=c,s}(i,r,a),super(a,n),this.intlService=o,this.seriesMin=i,this.seriesMax=r;const l=a.weekStartDay||0;this.totalMin=KC(QC(KC(i)-1,a.baseUnit,l)),this.totalMax=KC(ZC(KC(r)+1,a.baseUnit,l))}clone(){return new kA(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const t=this.options;return{min:t.min,max:t.max}}getDivisions(t){const e=this.options;return Math.floor(sA(e.min,e.max,e.baseUnit)/t+1)}getTickPositions(t){const e=this.options,s=e.vertical,n=this.lineBox(),i=(s?-1:1)*(e.reverse?-1:1),r=n[(s?TS:AS)+(1===i?1:2)],o=this.getDivisions(t),a=YC(e.max,e.min),l=(s?n.height():n.width())/a,h=e.weekStartDay||0,c=[r];for(let u=1;u<o;u++){const s=r+YC(WC(e.min,u*t,e.baseUnit,h),e.min)*l*i;c.push(kk(s,3))}return c}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(t,e,s){return SA.prototype.getSlot.call(this,nA(this.intlService,t),nA(this.intlService,e),s)}getValue(t){const e=SA.prototype.getValue.call(this,t);return null!==e?qC(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(t,e,s){const n=this.options,i=t*n.majorUnit;let r=n.min;i>0&&(r=WC(r,i,n.baseUnit,n.weekStartDay||0)),e.format=e.format||e.dateFormats[n.baseUnit];const o=this.axisLabelText(r,e,s);return new _C(r,o,t,null,e)}translateRange(t,e){const s=this.options,n=s.baseUnit,i=s.weekStartDay||0,r=this.lineBox(),o=s.vertical?r.height():r.width(),a=this.range(),l=o/YC(a.max,a.min),h=kk(t/l,cS)*(s.reverse?-1:1);let c=$C(s.min,h),u=$C(s.max,h);return e||(c=WC(c,0,n,i),u=WC(u,0,n,i)),{min:c,max:u,offset:h}}scaleRange(t){let{min:e,max:s}=this.options,n=Math.abs(t);for(;n--;){const n=YC(e,s),i=Math.round(.1*n);t<0?(e=$C(e,i),s=$C(s,-i)):(e=$C(e,-i),s=$C(s,i))}return{min:e,max:s}}shouldRenderNote(t){const e=this.range();return XC(t,e.min)>=0&&XC(t,e.max)<=0}pan(t){const e=this.translateRange(t,!0),s=this.limitRange(KC(e.min),KC(e.max),this.totalMin,this.totalMax,e.offset);if(s)return{min:qC(s.min),max:qC(s.max)}}pointsRange(t,e){const s=this.getValue(t),n=this.getValue(e),i=Math.min(s,n),r=Math.max(s,n);return{min:qC(i),max:qC(r)}}zoomRange(t){const e=this.scaleRange(t);return{min:qC(_k(KC(e.min),this.totalMin,this.totalMax)),max:qC(_k(KC(e.max),this.totalMin,this.totalMax))}}}Mk(kA,{type:lS,majorGridLines:{visible:!0,width:1,color:nS},labels:{dateFormats:lA}});const CA=kA;class AA extends TC{constructor(t,e,s,n){const i=zS({majorUnit:10,min:t,max:e},s),r=i.majorUnit,o=function(t,e){const s=kk(EA(t,e),cS)%1;let n;return n=t<=0?e:0!==s&&(s<.3||s>.9)?Math.pow(e,EA(t,e)+.2):Math.pow(e,Math.ceil(EA(t,e))),n}(e,r),a=function(t,e,s){const n=s.majorUnit;let i=t;return t<=0?i=e<=1?Math.pow(n,-2):1:s.narrowRange||(i=Math.pow(n,Math.floor(EA(t,n)))),i}(t,e,i),l=function(t,e,s,n){let{min:i,max:r}=s;return fk(s.axisCrossingValue)&&s.axisCrossingValue<=0&&TA(),fk(n.max)?n.max<=0&&TA():r=e,fk(n.min)?n.min<=0&&TA():i=t,{min:i,max:r}}(a,o,i,s);i.max=l.max,i.min=l.min,i.minorUnit=s.minorUnit||kk(r-1,cS),super(i,n),this.totalMin=fk(s.min)?Math.min(a,s.min):a,this.totalMax=fk(s.max)?Math.max(o,s.max):o,this.logMin=kk(EA(l.min,r),cS),this.logMax=kk(EA(l.max,r),cS),this.seriesMin=t,this.seriesMax=e,this.createLabels()}clone(){return new AA(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(t,e,s){const{options:n,logMin:i,logMax:r}=this,{reverse:o,vertical:a,majorUnit:l}=n,h=a?TS:AS,c=this.lineBox(),u=c[h+(o?2:1)],d=(o?-1:1)*((a?c.height():c.width())/(r-i)),p=new Vk(c.x1,c.y1,c.x1,c.y1);let f,g,m=t,y=e;return fk(m)||(m=y||1),fk(y)||(y=m||1),m<=0||y<=0?null:(s&&(m=Math.max(Math.min(m,n.max),n.min),y=Math.max(Math.min(y,n.max),n.min)),m=EA(m,l),y=EA(y,l),a?(f=r-Math.max(m,y),g=r-Math.min(m,y)):(f=Math.min(m,y)-i,g=Math.max(m,y)-i),p[h+1]=vA(u+d*(o?g:f)),p[h+2]=vA(u+d*(o?f:g)),p)}getValue(t){const{options:e,logMin:s,logMax:n}=this,{reverse:i,vertical:r,majorUnit:o}=e,a=this.lineBox(),l=r===i?1:-1,h=1===l?1:2,c=r?a.height():a.width(),u=r?TS:AS,d=l*(t[u]-a[u+h]);return d<0||d>c?null:kk(Math.pow(o,s+d*((n-s)/c)),cS)}range(){const t=this.options;return{min:t.min,max:t.max}}scaleRange(t){const e=this.options.majorUnit,s=-t;return{min:Math.pow(e,this.logMin-s),max:Math.pow(e,this.logMax+s)}}translateRange(t){const{options:e,logMin:s,logMax:n}=this,{reverse:i,vertical:r,majorUnit:o}=e,a=this.lineBox(),l=r?a.height():a.width();let h=kk(t/(l/(n-s)),cS);return!r&&!i||r&&i||(h=-h),{min:Math.pow(o,s+h),max:Math.pow(o,n+h),offset:h}}labelsCount(){const t=Math.floor(this.logMax);return Math.floor(t-this.logMin)+1}getMajorTickPositions(){const t=[];return this.traverseMajorTicksPositions(e=>{t.push(e)},{step:1,skip:0}),t}createTicks(t){const e=this.options,{majorTicks:s,minorTicks:n,vertical:i}=e,r=e.labels.mirror,o=this.lineBox(),a={vertical:i};function l(e,s){a.tickX=r?o.x2:o.x2-s.size,a.tickY=r?o.y1-s.size:o.y1,a.position=e,t.append(kC(a,s))}return s.visible&&this.traverseMajorTicksPositions(l,s),n.visible&&this.traverseMinorTicksPositions(l,n),[]}createGridLines(t){const e=this.options,{minorGridLines:s,majorGridLines:n,vertical:i}=e,r=t.lineBox(),o={lineStart:r[i?"x1":"y1"],lineEnd:r[i?"x2":"y2"],vertical:i},a=[],l=this.gridLinesVisual();function h(t,e){ok(t,a)||(o.position=t,l.append(CC(o,e)),a.push(t))}return n.visible&&this.traverseMajorTicksPositions(h,n),s.visible&&this.traverseMinorTicksPositions(h,s),l.children}traverseMajorTicksPositions(t,e){const{lineStart:s,step:n}=this._lineOptions(),{logMin:i,logMax:r}=this;for(let o=Math.ceil(i)+e.skip;o<=r;o+=e.step)t(kk(s+n*(o-i),cS),e)}traverseMinorTicksPositions(t,e){const{min:s,max:n,minorUnit:i,majorUnit:r}=this.options,{lineStart:o,step:a}=this._lineOptions(),{logMin:l,logMax:h}=this;for(let c=Math.floor(l);c<h;c++){const h=this._minorIntervalOptions(c);for(let c=e.skip;c<i;c+=e.step){const i=h.value+c*h.minorStep;if(i>n)break;i>=s&&t(kk(o+a*(EA(i,r)-l),cS),e)}}}createAxisLabel(t,e,s){const n=Math.ceil(this.logMin+t),i=Math.pow(this.options.majorUnit,n),r=this.axisLabelText(i,e,s);return new _C(i,r,t,null,e)}shouldRenderNote(t){const e=this.range();return e.min<=t&&t<=e.max}pan(t){const e=this.translateRange(t);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(t,e){const s=this.getValue(t),n=this.getValue(e);return{min:Math.min(s,n),max:Math.max(s,n)}}zoomRange(t){const{options:e,totalMin:s,totalMax:n}=this,i=this.scaleRange(t),r=_k(i.min,s,n),o=_k(i.max,s,n),a=e.majorUnit,l=o>r&&e.min&&e.max&&kk(EA(e.max,a)-EA(e.min,a),cS)<1,h=!(e.min===s&&e.max===n)&&kk(EA(o,a)-EA(r,a),cS)>=1;if(l||h)return{min:r,max:o}}_minorIntervalOptions(t){const{minorUnit:e,majorUnit:s}=this.options,n=Math.pow(s,t);return{value:n,minorStep:(Math.pow(s,t+1)-n)/e}}_lineOptions(){const{reverse:t,vertical:e}=this.options,s=e?TS:AS,n=this.lineBox(),i=e===t?1:-1,r=1===i?1:2;return{step:i*((e?n.height():n.width())/(this.logMax-this.logMin)),lineStart:n[s+r],lineBox:n}}}function TA(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function EA(t,e){return Math.log(t)/Math.log(e)}Mk(AA,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:nS},zIndex:1,_deferLabels:!0});const MA=AA,PA={createGridLines:function(t){const e=this.options,s=Math.abs(this.box.center().y-t.lineBox().y1);let n,i,r=[],o=!1;return e.majorGridLines.visible&&(n=this.majorGridLineAngles(t),o=!0,r=this.renderMajorGridLines(n,s,e.majorGridLines)),e.minorGridLines.visible&&(i=this.minorGridLineAngles(t,o),dk(r,this.renderMinorGridLines(i,s,e.minorGridLines,t,o))),r},renderMajorGridLines:function(t,e,s){return this.renderGridLines(t,e,s)},renderMinorGridLines:function(t,e,s,n,i){const r=this.radiusCallback&&this.radiusCallback(e,n,i);return this.renderGridLines(t,e,s,r)},renderGridLines:function(t,e,s,n){const i={stroke:{width:s.width,color:s.color,dashType:s.dashType}},r=this.box.center(),o=new Sw([r.x,r.y],e),a=this.gridLinesVisual();for(let l=0;l<t.length;l++){const e=new q_(i);n&&(o.radius=n(t[l])),e.moveTo(o.center).lineTo(o.pointAt(t[l]+180)),a.append(e)}return a.children},gridLineAngles:function(t,e,s,n,i){const r=this.intervals(e,s,n,i),o=t.options,a=o.visible&&!1!==(o.line||{}).visible;return hk(r,t=>{const e=this.intervalAngle(t);if(!a||90!==e)return e})}};class IA extends aA{range(){return{min:0,max:this.options.categories.length}}reflow(t){this.box=t,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:t,options:{labels:e}}=this,s=e.skip||0,n=e.step||1,i=new Vk;for(let r=0;r<t.length;r++){t[r].reflow(i);const e=t[r].box;t[r].reflow(this.getSlot(s+r*n).adjacentBox(0,e.width(),e.height()))}}intervals(t,e,s,n=!1){const i=this.options,r=i.categories.length/t||1,o=360/r,a=s||1,l=[];let h=0;for(let c=e||0;c<r;c+=a)h=i.reverse?360-c*o:c*o,h=kk(h,3)%360,n&&ok(h,n)||l.push(h);return l}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(t){return(360+t+this.options.startAngle)%360}majorAngles(){return hk(this.majorIntervals(),t=>this.intervalAngle(t))}createLine(){return[]}majorGridLineAngles(t){const e=this.options.majorGridLines;return this.gridLineAngles(t,1,e.skip,e.step)}minorGridLineAngles(t,e){const{minorGridLines:s,majorGridLines:n}=this.options,i=e?this.intervals(1,n.skip,n.step):null;return this.gridLineAngles(t,.5,s.skip,s.step,i)}radiusCallback(t,e,s){if(e.options.type!==sS){const e=Sk(360/(2*this.options.categories.length)),n=Math.cos(e)*t,i=this.majorAngles();return function(e){return!s&&ok(e,i)?t:n}}}createPlotBands(){const t=this.options.plotBands||[],e=this._plotbandGroup=new Lv({zIndex:-1});for(let s=0;s<t.length;s++){const n=t[s],i=this.plotBandSlot(n),r=this.getSlot(n.from),o=n.from-Math.floor(n.from);i.startAngle+=o*r.angle;const a=Math.ceil(n.to)-n.to;i.angle-=(a+o)*r.angle;const l=qk.current.createRing(i,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});e.append(l)}this.appendVisual(e)}plotBandSlot(t){return this.getSlot(t.from,t.to-1)}getSlot(t,e){const s=this.options,n=s.justified,i=this.box,r=this.majorAngles(),o=r.length,a=360/o;let l=t;s.reverse&&!n&&(l=(l+1)%o),l=_k(Math.floor(l),0,o-1);let h=r[l];n&&(h-=a/2,h<0&&(h+=360));const c=a*(_k(Math.ceil(e||l),l,o-1)-l+1);return new Uk(i.center(),0,i.height()/2,h,c)}slot(t,e){const s=this.getSlot(t,e),n=s.startAngle+180;return new __([s.center.x,s.center.y],{startAngle:n,endAngle:n+s.angle,radiusX:s.radius,radiusY:s.radius})}pointCategoryIndex(t){const e=this.options.categories.length;let s=null;for(let n=0;n<e;n++)if(this.getSlot(n).containsPoint(t)){s=n;break}return s}}Mk(IA,{startAngle:90,labels:{margin:qS(10)},majorGridLines:{visible:!0},justified:!0}),zS(IA.prototype,PA);const RA=IA;class OA extends TC{constructor(t,e){super(t,e);const s=this.options;s.minorUnit=s.minorUnit||s.majorUnit/2}getDivisions(t){return SA.prototype.getDivisions.call(this,t)-1}reflow(t){this.box=t,this.reflowLabels()}reflowLabels(){const{options:t,labels:e,options:{labels:s}}=this,n=s.skip||0,i=s.step||1,r=new Vk,o=this.intervals(t.majorUnit,n,i);for(let a=0;a<e.length;a++){e[a].reflow(r);const t=e[a].box;e[a].reflow(this.getSlot(o[a]).adjacentBox(0,t.width(),t.height()))}}lineBox(){return this.box}intervals(t,e,s,n=!1){const i=this.options.min,r=this.getDivisions(t),o=[],a=s||1;for(let l=e||0;l<r;l+=a){const e=(360+i+l*t)%360;n&&ok(e,n)||o.push(e)}return o}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(t){return(540-t-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(t){const e=this.options.majorGridLines;return this.gridLineAngles(t,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(t,e){const s=this.options,{minorGridLines:n,majorGridLines:i}=s,r=e?this.intervals(s.majorUnit,i.skip,i.step):null;return this.gridLineAngles(t,s.minorUnit,n.skip,n.step,r)}plotBandSlot(t){return this.getSlot(t.from,t.to)}getSlot(t,e){const{options:s,box:n}=this,i=s.startAngle;let r=_k(t,s.min,s.max),o=_k(e||r,r,s.max);if(s.reverse&&(r*=-1,o*=-1),r=(540-r-i)%360,o=(540-o-i)%360,o<r){const t=r;r=o,o=t}return new Uk(n.center(),0,n.height()/2,r,o-r)}slot(t,e=t){const s=this.options,n=360-s.startAngle,i=this.getSlot(t,e),r=Math.min(t,e),o=Math.max(t,e);let a,l;return s.reverse?(a=r,l=o):(a=360-o,l=360-r),a=(a+n)%360,l=(l+n)%360,new __([i.center.x,i.center.y],{startAngle:a,endAngle:l,radiusX:i.radius,radiusY:i.radius})}getValue(t){const e=this.options,s=this.box.center();let n=Math.round(gk(Math.atan2(t.y-s.y,t.x-s.x))),i=e.startAngle;return e.reverse||(n*=-1,i*=-1),(n+i+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}Mk(OA,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:qS(10)},majorGridLines:{color:nS,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),zS(OA.prototype,PA,{createPlotBands:RA.prototype.createPlotBands,majorAngles:RA.prototype.majorAngles,range:SA.prototype.range,labelsCount:SA.prototype.labelsCount,createAxisLabel:SA.prototype.createAxisLabel});const LA=OA;function DA(t,e){return 180-Math.abs(Math.abs(t-e)-180)}const FA={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:t},plotBands:e=[]}=this.options,s=this.plotArea.polarAxis,n=s.majorAngles(),i=s.box.center(),r=this._plotbandGroup=new Lv({zIndex:-1});for(let o=0;o<e.length;o++){const s=e[o],a={fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}},l=this.getSlot(s.from,s.to,!0),h=new Uk(i,i.y-l.y2,i.y-l.y1,0,360);let c;c=t===sS?qk.current.createRing(h,a):q_.fromPoints(this.plotBandPoints(h,n),a).close(),r.append(c)}this.appendVisual(r)},plotBandPoints:function(t,e){const s=[],n=[],i=[t.center.x,t.center.y],r=new Sw(i,t.innerRadius),o=new Sw(i,t.radius);for(let a=0;a<e.length;a++)s.push(r.pointAt(e[a]+180)),n.push(o.pointAt(e[a]+180));return s.reverse(),s.push(s[0]),n.push(n[0]),n.concat(s)},createGridLines:function(t){const e=this.options,s=this.radarMajorGridLinePositions(),n=t.majorAngles(),i=t.box.center();let r=[];if(e.majorGridLines.visible&&(r=this.renderGridLines(i,s,n,e.majorGridLines)),e.minorGridLines.visible){const t=this.radarMinorGridLinePositions();dk(r,this.renderGridLines(i,t,n,e.minorGridLines))}return r},renderGridLines:function(t,e,s,n){const i={stroke:{width:n.width,color:n.color,dashType:n.dashType}},{skip:r=0,step:o=0}=n,a=this.gridLinesVisual();for(let l=r;l<e.length;l+=o){const r=t.y-e[l];if(r>0){const e=new Sw([t.x,t.y],r);if(n.type===sS)a.append(new tS(e,i));else{const t=new q_(i);for(let n=0;n<s.length;n++)t.lineTo(e.pointAt(s[n]+180));t.close(),a.append(t)}}}return a.children},getValue:function(t){const e=this.lineBox(),s=this.plotArea.polarAxis,n=s.majorAngles(),i=s.box.center(),r=t.distanceTo(i);let o=r;if(this.options.majorGridLines.type!==sS&&n.length>1){const e=(gk(Math.atan2(t.y-i.y,t.x-i.x))+540)%360;n.sort(function(t,s){return DA(t,e)-DA(s,e)});const s=DA(n[0],n[1])/2,a=DA(e,n[0]),l=90-s;o=r*(Math.sin(Sk(180-a-l))/Math.sin(Sk(l)))}return this.axisType().prototype.getValue.call(this,new Nk(e.x1,e.y2-o))}};class NA extends SA{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const t=this.options;let e=0;return t.majorGridLines.visible&&(e=t.majorUnit),this.getTickPositions(t.minorUnit,e)}axisType(){return SA}}zS(NA.prototype,FA);const BA=NA;class zA extends MA{radarMajorGridLinePositions(){const t=[];return this.traverseMajorTicksPositions(function(e){t.push(e)},this.options.majorGridLines),t}radarMinorGridLinePositions(){const t=[];return this.traverseMinorTicksPositions(function(e){t.push(e)},this.options.minorGridLines),t}axisType(){return MA}}zS(zA.prototype,FA);const VA=zA;function jA(t){return t<=0?-1:1}const HA=class extends Kx{constructor(t){super(),this.closed=t}process(t){const e=t.slice(0),s=[];let n=this.closed,i=e.length;if(i>2&&(this.removeDuplicates(0,e),i=e.length),i<2||2===i&&e[0].equals(e[1]))return s;let r,o,a=e[0],l=e[1],h=e[2];for(s.push(new L_(a));a.equals(e[i-1]);)n=!0,e.pop(),i--;if(2===i){const t=this.tangent(a,l,AS,TS);return bk(s).controlOut(this.firstControlPoint(t,a,l,AS,TS)),s.push(new L_(l,this.secondControlPoint(t,a,l,AS,TS))),s}if(n){a=e[i-1],l=e[0],h=e[1];const t=this.controlPoints(a,l,h);r=t[1],o=t[0]}else{const t=this.tangent(a,l,AS,TS);r=this.firstControlPoint(t,a,l,AS,TS)}let c=r;for(let u=0;u<=i-3;u++)if(this.removeDuplicates(u,e),i=e.length,u+3<=i){a=e[u],l=e[u+1],h=e[u+2];const t=this.controlPoints(a,l,h);bk(s).controlOut(c),c=t[1],s.push(new L_(l,t[0]))}if(n){a=e[i-2],l=e[i-1],h=e[0];const t=this.controlPoints(a,l,h);bk(s).controlOut(c),s.push(new L_(l,t[0])),bk(s).controlOut(t[1]),s.push(new L_(h,o))}else{const t=this.tangent(l,h,AS,TS);bk(s).controlOut(c),s.push(new L_(h,this.secondControlPoint(t,l,h,AS,TS)))}return s}removeDuplicates(t,e){for(;e[t+1]&&(e[t].equals(e[t+1])||e[t+1].equals(e[t+2]));)e.splice(t+1,1)}invertAxis(t,e,s){let n=!1;if(t.x===e.x)n=!0;else if(e.x===s.x)(e.y<s.y&&t.y<=e.y||s.y<e.y&&e.y<=t.y)&&(n=!0);else{const i=this.lineFunction(t,e),r=this.calculateFunction(i,s.x);t.y<=e.y&&s.y<=r||e.y<=t.y&&s.y>=r||(n=!0)}return n}isLine(t,e,s){const n=this.lineFunction(t,e),i=this.calculateFunction(n,s.x);return t.x===e.x&&e.x===s.x||kk(i,1)===kk(s.y,1)}lineFunction(t,e){const s=(e.y-t.y)/(e.x-t.x);return[t.y-s*t.x,s]}controlPoints(t,e,s){let n,i=AS,r=TS,o=!1,a=!1;if(this.isLine(t,e,s))n=this.tangent(t,e,AS,TS);else{const l={x:this.isMonotonicByField(t,e,s,AS),y:this.isMonotonicByField(t,e,s,TS)};if(l.x&&l.y)n=this.tangent(t,s,AS,TS),o=!0;else if(this.invertAxis(t,e,s)&&(i=TS,r=AS),l[i])n=0;else{let o;o=s[r]<t[r]&&t[r]<=e[r]||t[r]<s[r]&&e[r]<=t[r]?jA((s[r]-t[r])*(e[i]-t[i])):-jA((s[i]-t[i])*(e[r]-t[r])),n=.01*o,a=!0}}const l=this.secondControlPoint(n,t,e,i,r);if(a){const t=i;i=r,r=t}const h=this.firstControlPoint(n,e,s,i,r);return o&&(this.restrictControlPoint(t,e,l,n),this.restrictControlPoint(e,s,h,n)),[l,h]}restrictControlPoint(t,e,s,n){t.y<e.y?e.y<s.y?(s.x=t.x+(e.y-t.y)/n,s.y=e.y):s.y<t.y&&(s.x=e.x-(e.y-t.y)/n,s.y=t.y):s.y<e.y?(s.x=t.x-(t.y-e.y)/n,s.y=e.y):t.y<s.y&&(s.x=e.x+(t.y-e.y)/n,s.y=t.y)}tangent(t,e,s,n){const i=e[s]-t[s];let r;return r=0===i?0:(e[n]-t[n])/i,r}isMonotonicByField(t,e,s,n){return s[n]>e[n]&&e[n]>t[n]||s[n]<e[n]&&e[n]<t[n]}firstControlPoint(t,e,s,n,i){const r=e[n],o=.333*(s[n]-r);return this.point(r+o,e[i]+o*t,n,i)}secondControlPoint(t,e,s,n,i){const r=s[n],o=.333*(r-e[n]);return this.point(r-o,s[i]-o*t,n,i)}point(t,e,s,n){const i=new mv;return i[s]=t,i[n]=e,i}calculateFunction(t,e){const s=t.length;let n=0;for(let i=0;i<s;i++)n+=Math.pow(e,i)*t[i];return n}},UA=class extends Kx{constructor(t){super(),this._axis=t,this.options=t.options}value(t){const e=this._axis;return e.getCategory?e.getCategory(t):e.getValue(t)}slot(t,e,s=!0){return this._axis.slot(t,e,s)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function $A(t,e){for(let s=0;s<e.length;s++)if(e[s].options.name===t)return e[s].prepareUserOptions(),new UA(e[s])}const qA=class{constructor(t){this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}findAxisByName(t){return $A(t,this._pane.axes)}},GA=class extends Kx{constructor(t){super(),this._plotArea=t,this.visual=t.visual,this.backgroundVisual=t._bgVisual}};function WA(t){const e=t.length;let s=0;for(let n=0;n<e;n++)OS(t[n])&&s++;return s}const QA={min:function(t){const e=t.length;let s=gS;for(let n=0;n<e;n++){const e=t[n];OS(e)&&(s=Math.min(s,e))}return s===gS?t[0]:s},max:function(t){const e=t.length;let s=mS;for(let n=0;n<e;n++){const e=t[n];OS(e)&&(s=Math.max(s,e))}return s===mS?t[0]:s},sum:function(t){const e=t.length;let s=0;for(let n=0;n<e;n++){const e=t[n];OS(e)&&(s+=e)}return s},sumOrNull:function(t){let e=null;return WA(t)&&(e=QA.sum(t)),e},count:function(t){const e=t.length;let s=0;for(let n=0;n<e;n++){const e=t[n];null!==e&&fk(e)&&s++}return s},avg:function(t){const e=WA(t);let s=t[0];return e>0&&(s=QA.sum(t)/e),s},first:function(t){const e=t.length;for(let s=0;s<e;s++){const e=t[s];if(null!==e&&fk(e))return e}return t[0]}},ZA=QA;function XA(t,e){return null===e?e:sk(t)(e)}class YA extends Kx{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(t,e=[SS],s={}){for(let n=0;n<t.length;n++){const i=t[n];this._valueFields[i]=e,this._otherFields[i]=s,this._nullValue[i]=this._makeValue(e,null),this._undefinedValue[i]=this._makeValue(e,void 0)}}canonicalFields(t){return this.valueFields(t).concat(this.otherFields(t))}valueFields(t){return this._valueFields[t.type]||[SS]}otherFields(t){return this._otherFields[t.type]||[SS]}bindPoint(t,e,s){const n=t.data,i=fk(s)?s:n[e],r={valueFields:{value:i}},o=this.valueFields(t),a=this._otherFields[t.type];let l,h;if(null===i)h=this._nullValue[t.type];else if(fk(i)){if(Array.isArray(i)){const t=i.slice(o.length);h=this._bindFromArray(i,o),l=this._bindFromArray(t,a)}else if("object"==typeof i){const e=this.sourceFields(t,o),s=this.sourceFields(t,a);h=this._bindFromObject(i,o,e),l=this._bindFromObject(i,a,s)}}else h=this._undefinedValue[t.type];return fk(h)&&(1===o.length?r.valueFields.value=h[o[0]]:r.valueFields=h),r.fields=l||{},r}_makeValue(t,e){const s={},n=t.length;for(let i=0;i<n;i++)s[t[i]]=e;return s}_bindFromArray(t,e){const s={};if(e){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)s[e[i]]=t[i]}return s}_bindFromObject(t,e,s=e){const n={};if(e){const i=e.length;for(let r=0;r<i;r++){const i=e[r],o=s[r];null!==o&&(n[i]=XA(o,t))}}return n}sourceFields(t,e){const s=[];if(e){const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=n===SS?"field":n+"Field";s.push(null!==t[r]?t[r]||n:null)}}return s}}YA.current=new YA;const KA=YA,JA=/percent(?:\w*)\((\d+)\)/,tT=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),eT=class extends Kx{constructor(t,e,s){super(),this.initGlobalRanges(t,e,s)}initGlobalRanges(t,e,s){const n=e.data,i=tT.exec(t);if(i){this.valueGetter=this.createValueGetter(e,s);const t=this.getAverage(n),r=this.getStandardDeviation(n,t,!1),o=i[1]?parseFloat(i[1]):1,a={low:t.value-r*o,high:t.value+r*o};this.globalRange=function(){return a}}else if(t.indexOf&&t.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,s);const t=this.getStandardError(n,this.getAverage(n));this.globalRange=function(e){return{low:e-t,high:e+t}}}}createValueGetter(t,e){const s=t.data,n=KA.current,i=n.valueFields(t),r=fk(s[0])?s[0]:{};let o;return ES(r)?o=sk("["+(e?i.indexOf(e):0)+"]"):OS(r)?o=sk():typeof r===xS&&(o=sk(n.sourceFields(t,i)[i.indexOf(e)])),o}getErrorRange(t,e){let s,n,i;if(!fk(e))return null;if(this.globalRange)return this.globalRange(t);if(ES(e))s=t-e[0],n=t+e[1];else if(OS(i=parseFloat(e)))s=t-i,n=t+i;else{if(!(i=JA.exec(e)))throw new Error("Invalid ErrorBar value: "+e);{const e=t*(parseFloat(i[1])/100);s=t-Math.abs(e),n=t+Math.abs(e)}}return{low:s,high:n}}getStandardError(t,e){return this.getStandardDeviation(t,e,!0)/Math.sqrt(e.count)}getStandardDeviation(t,e,s){const n=t.length,i=s?e.count-1:e.count;let r=0;for(let o=0;o<n;o++){const s=this.valueGetter(t[o]);OS(s)&&(r+=Math.pow(s-e.value,2))}return Math.sqrt(r/i)}getAverage(t){const e=t.length;let s=0,n=0;for(let i=0;i<e;i++){const e=this.valueGetter(t[i]);OS(e)&&(s+=e,n++)}return{value:s/n,count:n}}},sT=600,nT="fadeIn",iT=.8,rT=(_b.browser||{}).msie?.001:0,oT="zero",aT="interpolate",lT="above",hT="below",cT="smooth",uT="step",dT="area",pT="bar",fT="boxPlot",gT="bubble",mT="bullet",yT="candlestick",xT="column",vT="donut",bT="funnel",_T="horizontalWaterfall",wT="line",ST="ohlc",kT="pie",CT="polarArea",AT="polarLine",TT="polarScatter",ET="radarArea",MT="radarColumn",PT="radarLine",IT="rangeArea",RT="rangeBar",OT="rangeColumn",LT="scatter",DT="scatterLine",FT="verticalArea",NT="verticalBoxPlot",BT="verticalBullet",zT="verticalLine",VT="verticalRangeArea",jT="waterfall",HT=[pT,xT,ST,yT,fT,NT,mT,OT,RT,jT,_T],UT="seriesHover",$T="plotAreaHover",qT="plotAreaLeave",GT="drag",WT="dragEnd",QT="dragStart",ZT="zoomStart",XT="zoom",YT="zoomEnd",KT="selectStart",JT="select",tE="selectEnd",eE="showTooltip",sE="hideTooltip",nE="log",iE="category",rE="insideEnd",oE="outsideEnd",aE="DOMMouseScroll mousewheel";class lE extends tC{constructor(t,e,s,n,i,r){super(r),this.low=t,this.high=e,this.isVertical=s,this.chart=n,this.series=i}reflow(t){const e=this.options.endCaps,s=this.isVertical,n=this.getAxis().getSlot(this.low,this.high),i=t.center(),r=this.getCapsWidth(t,s),o=s?i.x:i.y,a=o-r,l=o+r;let h;s?(h=[new Nk(i.x,n.y1),new Nk(i.x,n.y2)],e&&h.push(new Nk(a,n.y1),new Nk(l,n.y1),new Nk(a,n.y2),new Nk(l,n.y2)),this.box=new Vk(a,n.y1,l,n.y2)):(h=[new Nk(n.x1,i.y),new Nk(n.x2,i.y)],e&&h.push(new Nk(n.x1,a),new Nk(n.x1,l),new Nk(n.x2,a),new Nk(n.x2,l)),this.box=new Vk(n.x1,a,n.x2,l)),this.linePoints=h}getCapsWidth(t,e){const s=e?t.width():t.height();return Math.min(Math.floor(s/2),4)||4}createVisual(){const t=this.options,e=t.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:()=>{this.createDefaultVisual();const t=this.visual;return delete this.visual,t}}):this.createDefaultVisual()}createDefaultVisual(){const{options:t,linePoints:e}=this,s={stroke:{color:t.color,width:t.line.width,dashType:t.line.dashType}};super.createVisual();for(let n=0;n<e.length;n+=2){const t=new q_(s).moveTo(e[n].x,e[n].y).lineTo(e[n+1].x,e[n+1].y);IS(t),this.visual.append(t)}}}Mk(lE,{animation:{type:nT,delay:sT},endCaps:!0,line:{width:2},zIndex:1});const hE=lE,cE=class extends hE{getAxis(){return this.chart.seriesValueAxis(this.series)}};function uE(t,e,s={},n=!1){const i=s.defaults=s.defaults||{},r=s.depth=s.depth||0;let o=!1;if(s.excluded=s.excluded||[],r>5)return null;for(let a in t)if(!ok(a,s.excluded)&&t.hasOwnProperty(a)){const r=t[a];FS(r)?(o=!0,n||(t[a]=Ak(r(e),i[a]))):VS(r)&&(n||(s.defaults=i[a]),s.depth++,o=uE(r,e,s,n)||o,s.depth--)}return o}function dE(t){const e=t.length;let s=0;for(let n=0;n<e;n++)s=Math.max(s,t[n].data.length);return s}class pE extends tC{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.categoryAxis=t.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(t,e){let s=this.seriesOptions[e];if(!s){const n=this.pointType().prototype.defaults;this.seriesOptions[e]=s=zS({},n,{vertical:!this.options.invertAxes},t)}return s}plotValue(t){if(!t)return 0;if(this.options.isStacked100&&OS(t.value)){const e=this.categoryPoints[t.categoryIx],s=[];let n=0;for(let i=0;i<e.length;i++){const r=e[i];if(r){const e=t.series.stack,i=r.series.stack;if(e&&i&&e.group!==i.group)continue;OS(r.value)&&(n+=Math.abs(r.value),s.push(Math.abs(r.value)))}}if(n>0)return t.value/n}return t.value}plotRange(t,e=0){const s=this.categoryPoints[t.categoryIx];if(this.options.isStacked){let n=this.plotValue(t);const i=n>=0;let r=e,o=!1;for(let e=0;e<s.length;e++){const a=s[e];if(t===a)break;const l=t.series.stack,h=a.series.stack;if(l&&h){if(typeof l===_S&&l!==h)continue;if(l.group&&l.group!==h.group)continue}const c=this.plotValue(a);(c>=0&&i||c<0&&!i)&&(r+=c,n+=c,o=!0,this.options.isStacked100&&(n=Math.min(n,1)))}return o&&(r-=e),[r,n]}const n=this.seriesValueAxis(t.series),i=this.categoryAxisCrossingValue(n);return[i,DS(t.value)?t.value:i]}stackLimits(t,e){let s=gS,n=mS;for(let i=0;i<this.categoryPoints.length;i++){const r=this.categoryPoints[i];if(r)for(let i=0;i<r.length;i++){const o=r[i];if(o&&(o.series.stack===e||o.series.axis===t)){const t=this.plotRange(o,0)[1];fk(t)&&isFinite(t)&&(n=Math.max(n,t),s=Math.min(s,t))}}}return{min:s,max:n}}updateStackRange(){const{isStacked:t,series:e}=this.options,s={};if(t)for(let n=0;n<e.length;n++){const t=e[n],i=t.axis,r=i+t.stack;let o=s[r];if(!o){o=this.stackLimits(i,t.stack);const e=this.errorTotals;e&&(e.negative.length&&(o.min=Math.min(o.min,Pk(e.negative).min)),e.positive.length&&(o.max=Math.max(o.max,Pk(e.positive).max))),o.min!==gS||o.max!==mS?s[r]=o:o=null}o&&(this.valueAxisRanges[i]=o)}}addErrorBar(t,e,s){const{value:n,series:i,seriesIx:r}=t,o=t.options.errorBars,a=e.fields.errorLow,l=e.fields.errorHigh;let h;OS(a)&&OS(l)?h={low:a,high:l}:o&&fk(o.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new eT(o.value,i,SS),h=this.seriesErrorRanges[r].getErrorRange(n,o.value)),h&&(t.low=h.low,t.high=h.high,this.addPointErrorBar(t,s))}addPointErrorBar(t,e){const s=!this.options.invertAxes,n=t.options.errorBars;let{series:i,low:r,high:o}=t;if(this.options.isStacked){const s=this.stackedErrorRange(t,e);r=s.low,o=s.high}else{const t={categoryIx:e,series:i};this.updateRange({value:r},t),this.updateRange({value:o},t)}const a=new cE(r,o,s,this,i,n);t.errorBars=[a],t.append(a)}stackedErrorRange(t,e){const s=this.plotRange(t,0)[1]-t.value,n=t.low+s,i=t.high+s;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},n<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,n)),i>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,i)),{low:n,high:i}}addValue(t,e){const{categoryIx:s,series:n,seriesIx:i}=e;let r=this.categoryPoints[s];r||(this.categoryPoints[s]=r=[]);let o=this.seriesPoints[i];o||(this.seriesPoints[i]=o=[]);const a=this.createPoint(t,e);a&&(Object.assign(a,e),a.owner=this,a.noteText=t.fields.noteText,fk(a.dataItem)||(a.dataItem=n.data[s]),this.addErrorBar(a,t,s)),this.points.push(a),o.push(a),r.push(a),this.updateRange(t.valueFields,e)}evalPointOptions(t,e,s,n,i,r){const o={defaults:i._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let a=this._evalSeries[r];fk(a)||(this._evalSeries[r]=a=uE(t,{},o,!0));let l=t;return a&&(l=zS({},l),uE(l,{value:e,category:s,index:n,series:i,dataItem:i.data[n]},o)),l}updateRange(t,e){const s=e.series.axis,n=t.value;let i=this.valueAxisRanges[s];isFinite(n)&&null!==n&&(i=this.valueAxisRanges[s]=i||{min:gS,max:mS},i.min=Math.min(i.min,n),i.max=Math.max(i.max,n))}seriesValueAxis(t){const e=this.plotArea,s=t.axis,n=s?e.namedValueAxes[s]:e.valueAxis;if(!n)throw new Error("Unable to locate value axis with name "+s);return n}reflow(t){const e=this.categorySlots=[],s=this.points,n=this.categoryAxis;let i=0;this.traverseDataPoints((t,r)=>{const{categoryIx:o,series:a}=r,l=this.seriesValueAxis(a),h=s[i++];let c=e[o];if(c||(e[o]=c=this.categorySlot(n,o,l)),h){const t=this.plotRange(h,l.startValue()),e=this.valueSlot(l,t);if(e){const s=this.pointSlot(c,e);h.aboveAxis=this.aboveAxis(h,l),h.stackValue=t[1],this.options.isStacked100&&(h.percentage=this.plotValue(h)),this.reflowPoint(h,s)}else h.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=t}valueSlot(t,e){return t.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){const t=this.categoryPoints,e=t[0].concat(bk(t));for(let s=0;s<e.length;s++)e[s]&&this.limitPoint(e[s])}limitPoint(t){const e=this.categoryAxis.limitSlot(t.box);e.equals(t.box)||t.reflow(e)}aboveAxis(t,e){const s=this.categoryAxisCrossingValue(e),n=t.value;return e.options.reverse?n<s:n>=s}categoryAxisCrossingValue(t){const e=this.categoryAxis,s=t.options;return[].concat(s.axisCrossingValues||s.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(t,e){t.reflow(e)}reflowCategories(){}pointSlot(t,e){const s=this.options.invertAxes,n=s?e:t,i=s?t:e;return new Vk(n.x1,i.y1,n.x2,i.y2)}categorySlot(t,e){return t.getSlot(e)}traverseDataPoints(t){const e=this.options.series,s=dE(e),n=e.length;for(let i=0;i<n;i++)this._outOfRangeCallback(e[i],"_outOfRangeMinPoint",i,t);for(let i=0;i<s;i++)for(let r=0;r<n;r++){const n=e[r],o=this.categoryAxis.categoryAt(i);t(this._bindPoint(n,r,i),{category:o,categoryIx:i,categoriesCount:s,series:n,seriesIx:r})}for(let i=0;i<n;i++)this._outOfRangeCallback(e[i],"_outOfRangeMaxPoint",i,t)}_outOfRangeCallback(t,e,s,n){const i=t[e];if(i){const e=i.categoryIx;n(this._bindPoint(t,s,e,i.item),{category:i.category,categoryIx:e,series:t,seriesIx:s,dataItem:i.item})}}_bindPoint(t,e,s,n){this._bindCache||(this._bindCache=[]);let i=this._bindCache[e];i||(i=this._bindCache[e]=[]);let r=i[s];return r||(r=i[s]=KA.current.bindPoint(t,s,n)),r}formatPointValue(t,e){return null===t.value?"":this.chartService.format.auto(e,t.value)}pointValue(t){return t.valueFields.value}}Mk(pE,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const fE=pE,gE=(()=>{class t extends Kx{constructor(e){if(super(),1===arguments.length){const s=t.formats,n=this.resolveColor(e);for(let t=0;t<s.length;t++){const e=s[t].process,i=s[t].re.exec(n);if(i){const t=e(i);this.r=t[0],this.g=t[1],this.b=t[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const t=this.padDigit,e=this.r.toString(16),s=this.g.toString(16),n=this.b.toString(16);return"#"+t(e)+t(s)+t(n)}resolveColor(e){let s=e||"black";return"#"===s.charAt(0)&&(s=s.substr(1,6)),s=s.replace(/ /g,""),s=s.toLowerCase(),s=t.namedColors[s]||s,s}normalizeByte(t){return t<0||isNaN(t)?0:t>255?255:t}padDigit(t){return 1===t.length?"0"+t:t}brightness(t){const e=Math.round;return this.r=e(this.normalizeByte(this.r*t)),this.g=e(this.normalizeByte(this.g*t)),this.b=e(this.normalizeByte(this.b*t)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(t,e,s,n){return new Tb(t,e,s,null!=n?n:1)}static fromRGB(t,e,s,n){return new Ab(t,e,s,null!=n?n:1)}static fromHSV(t,e,s,n){return new Mb(t,e,s,null!=n?n:1)}static fromHSL(t,e,s,n){return new Pb(t,e,s,null!=n?n:1)}}return t.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],t.namedColors=wb,t})(),mE={click:function(t,e){return t.trigger("seriesClick",this.eventArgs(e))},hover:function(t,e){return t.trigger(UT,this.eventArgs(e))},over:function(t,e){return t.trigger("seriesOver",this.eventArgs(e))},out:function(t,e){return t.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(t){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:xk(t),originalEvent:t,point:this}}},yE={createNote:function(){const t=this.options.notes,e=this.noteText||t.label.text;!1!==t.visible&&fk(e)&&null!==e&&(this.note=new SC({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};class xE extends tC{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=Ak(this.options.aboveAxis,!0),this.tooltipTracking=!0}render(){const{markers:t,labels:e}=this.options;if(!this._rendered){if(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),e.visible){const t=JS(e),s=this.pointData();let n=this.value;t?n=t(s):e.format&&(n=this.formatValue(e.format)),this.label=new yC(n,zS({align:rS,vAlign:rS,margin:{left:5,right:5},zIndex:Ak(e.zIndex,this.series.zIndex)},e),s),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}markerBorder(){const t=this.options.markers,e=t.background,s=zS({color:this.color},t.border);return fk(s.color)||(s.color=new gE(e).brightness(iT).toHex()),s}createVisual(){}createMarker(){const t=this.options.markers;return new iC({type:t.type,width:t.size,height:t.size,rotation:t.rotation,background:t.background,border:this.markerBorder(),opacity:this.series.opacity||t.opacity,zIndex:Ak(t.zIndex,this.series.zIndex),animation:t.animation,visual:t.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(t){const{options:e,aboveAxis:s}=this,n=e.vertical;this.render(),this.box=t;const i=t.clone();if(n?s?i.y1-=i.height():i.y2+=i.height():s?i.x1+=i.width():i.x2-=i.width(),this._childBox=i,this.marker&&this.marker.reflow(i),this.reflowLabel(i),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(i);if(this.note){let t=this.markerBox();if(!e.markers.visible||!e.markers.size){const e=t.center();t=new Vk(e.x,e.y,e.x,e.y)}this.note.reflow(t)}}reflowLabel(t){const{options:e,label:s}=this;let n=e.labels.position;s&&(n=n===lT?wS:n,n=n===hT?iS:n,s.reflow(t),s.box.alignTo(this.markerBox(),n),s.reflow(s.box))}createHighlight(){const t=this.options.highlight.markers,e=this.markerBorder().color,s=this.options.markers,n=s.size+(s.border.width||0)+(t.border.width||0),i=new iC({type:s.type,width:n,height:n,rotation:s.rotation,background:t.color||e,border:{color:t.border.color,width:t.border.width,opacity:Ak(t.border.opacity,1)},opacity:Ak(t.opacity,1)});return i.reflow(this._childBox),i.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const t=this.marker;let e,s;if(t)s=t.paddingBox.toRect(),e=t.visual;else{const t=this.options.markers.size,e=t/2,n=this.box.center();s=new bv([n.x-e,n.y-e],[t,t])}return{options:this.options,rect:s,visual:e}}tooltipAnchor(){const t=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(t)){const e=fS;let s,n;return this.aboveAxis?(s=t.y1,n=iS):(s=t.y2,n=wS),{point:new Nk(t.x2+5,s),align:{horizontal:e,vertical:n}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.markerBox().overlaps(t)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}xE.prototype.defaults={vertical:!0,markers:{visible:!0,background:kS,size:8,type:oS,border:{width:2},opacity:1},labels:{visible:!1,position:lT,margin:qS(3),padding:qS(4),animation:{type:nT,delay:sT}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},zS(xE.prototype,mE),zS(xE.prototype,yE);const vE=xE;class bE extends tC{constructor(t,e,s){super(),this.linePoints=t,this.series=e,this.seriesIx=s}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(t){const e=[];for(let s=0,n=t.length;s<n;s++)t[s]&&!1!==t[s].visible&&e.push(t[s]._childBox.toRect().center());return e}createVisual(){const t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!fk(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:t,series:e}=this;let{color:s,_defaults:n}=e;FS(s)&&n&&(s=n.color);const i=q_.fromPoints(this.points(),{stroke:{color:s,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});t.closed&&i.close(),this.visual=i}aliasFor(t,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}}Mk(bE,{closed:!1});const _E=bE;function wE(t,e,s,n,i){const r=t.box,o=new mv;return o[e]=r[e+s],o[n]=r[n+i],o}const SE={calculateStepPoints:function(t){const e=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:s,vertical:n,reverse:i}=e.options,r=n?AS:TS,o=n?TS:AS,a=i?2:1,l=a;let h=wE(t[0],r,a,o,l);const c=[h];for(let u=1;u<t.length;u++){const e=wE(t[u],r,a,o,l);if(h[r]!==e[r]){const t=new mv;t[r]=h[r],t[o]=e[o],c.push(t,e)}h=e}return s?h!==bk(c)&&c.push(h):c.push(wE(bk(t),r,a,o,i?1:2)),c}};class kE extends _E{points(){return this.calculateStepPoints(this.linePoints)}}zS(kE.prototype,SE);const CE=kE,AE=class extends _E{segmentVisual(){const t=this.series,e=t._defaults;let s=t.color;FS(s)&&e&&(s=e.color);const n=new HA(this.options.closed).process(this.points()),i=new q_({stroke:{color:s,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});i.segments.push.apply(i.segments,n),this.visual=i}},TE={renderSegments:function(){const{options:t,seriesPoints:e}=this,s=t.series,n=e.length;let i;this._segments=[];for(let r=0;r<n;r++){const t=s[r],n=this.sortPoints(e[r]),o=n.length;let a=[];for(let e=0;e<o;e++){const s=n[e];s?a.push(s):this.seriesMissingValues(t)!==aT&&(a.length>1&&(i=this.createSegment(a,t,r,i),this._addSegment(i)),a=[])}a.length>1&&(i=this.createSegment(a,t,r,i),this._addSegment(i))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(t){this._segments.push(t),t.parent=this},sortPoints:function(t){return t},seriesMissingValues:function(t){const e=t.missingValues;return!e&&this.options.isStacked?oT:e||aT},getNearestPoint:function(t,e,s){const n=new Nk(t,e),i=this.seriesPoints[s];let r,o=gS;for(let a=0;a<i.length;a++){const t=i[a];if(t&&fk(t.value)&&null!==t.value&&!1!==t.visible){const e=t.box.center().distanceTo(n);e<o&&(r=t,o=e)}}return r}};class EE extends Kk{setup(){this._setEnd(this.options.box.x1)}step(t){const e=this.options.box;this._setEnd(ak(e.x1,e.x2,t))}_setEnd(t){const e=this.element,s=e.segments,n=s[1].anchor(),i=s[2].anchor();e.suspend(),n.setX(t),e.resume(),i.setX(t)}}Mk(EE,{duration:sT}),Yk.current.register("clip",EE);const ME=EE;function PE(t){for(let e=0;e<t.length;e++)if(fk(t[e].zIndex))return!0}const IE={createAnimation:function(){const t=this.getRoot();if(t&&!1!==(t.options||{}).transitions){const e=t.size(),s=q_.fromRect(e.toRect());this.visual.clip(s),this.animation=new ME(s,{box:e}),PE(this.options.series)&&this._setChildrenAnimation(s)}},_setChildrenAnimation:function(t){const e=this.animationPoints();for(let s=0;s<e.length;s++){const n=e[s];n&&n.visual&&fk(n.visual.options.zIndex)&&n.visual.clip(t)}}};class RE extends fE{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return vE}createPoint(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,o=this.seriesMissingValues(i);let a=t.valueFields.value;if(!fk(a)||null===a){if(o!==oT)return null;a=0}let l=this.pointOptions(i,r);l=this.evalPointOptions(l,a,n,s,i,r);let h=t.fields.color||i.color;FS(i.color)&&(h=l.color);const c=new vE(a,l);return c.color=h,this.append(c),c}plotRange(t){let e=this.plotValue(t);if(this.options.isStacked){const s=this.categoryPoints[t.categoryIx];for(let n=0;n<s.length;n++){const i=s[n];if(t===i)break;e+=this.plotValue(i),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(t,e,s){const n=e.style;let i;return i=n===uT?CE:n===cT?AE:_E,new i(t,e,s)}animationPoints(){const t=this.points,e=[];for(let s=0;s<t.length;s++)e.push((t[s]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}zS(RE.prototype,TE,IE);const OE=RE,LE=class extends _E{constructor(t,e,s,n,i){super(t,e,s),this.prevSegment=n,this.stackPoints=i}createVisual(){const t=this.series,e=t._defaults,s=t.line||{};let n=t.color;FS(n)&&e&&(n=e.color),this.visual=new Lv({zIndex:t.zIndex}),this.createFill({fill:{color:n,opacity:t.opacity},stroke:null}),s.width>0&&!1!==s.visible&&this.createStroke({stroke:zS({color:n,opacity:t.opacity,lineCap:"butt"},s)})}strokeSegments(){let t=this._strokeSegments;return t||(t=this._strokeSegments=this.createStrokeSegments()),t}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(t){return this.segmentsFromPoints(this.toGeometryPoints(t)).reverse()}segmentsFromPoints(t){return t.map(t=>new L_(t))}createStroke(t){const e=new q_(t);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(t){const e=this.strokeSegments(),s=e.slice(0),n=this.hasStackSegment();if(n){const t=this.stackSegments();dk(s,t)}const i=new q_(t);i.segments.push.apply(i.segments,s),!n&&e.length>1&&this.fillToAxes(i),this.visual.append(i)}fillToAxes(t){const e=this.parent,s=e.options.invertAxes,n=e.seriesValueAxis(this.series),i=e.categoryAxisCrossingValue(n),r=n.getSlot(i,i,!0),o=this.strokeSegments(),a=o[0].anchor(),l=bk(o).anchor();let h=s?r.x1:r.y1;s?t.lineTo(h,l.y).lineTo(h,a.y):t.lineTo(l.x,h).lineTo(a.x,h)}};class DE extends LE{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(t){return this.segmentsFromPoints(this.calculateStepPoints(t)).reverse()}}zS(DE.prototype,SE);const FE=DE,NE=class extends LE{createStrokeSegments(){const t=new HA(this.options.closed),e=this.points();return t.process(e)}createStackSegments(){const t=this.strokeSegments(),e=[];for(let s=t.length-1;s>=0;s--){const n=t[s];e.push(new L_(n.anchor(),n.controlOut(),n.controlIn()))}return e}},BE=class extends OE{createSegment(t,e,s,n){const i=(e.line||{}).style;let r,o,a;return this.options.isStacked&&s>0&&n&&("gap"!==this.seriesMissingValues(e)?(o=n.linePoints,r=n):o=this._gapStackPoints(t,s,i)),a=i===uT?FE:i===cT?NE:LE,new a(t,e,s,r,o)}reflow(t){super.reflow(t);const e=this._stackPoints;if(e)for(let s=0;s<e.length;s++){const t=e[s],n=this.categoryAxis.getSlot(t.categoryIx);t.reflow(n)}}_gapStackPoints(t,e,s){const n=this.seriesPoints;let i=t[0].categoryIx,r=t.length;i<0&&(i=0,r--);const o=i+r,a=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(let h=i;h<o;h++){const t=h+a;let r,c=e;do{c--,r=n[c][t]}while(c>0&&!r);if(r)s!==uT&&h>i&&!n[c][t-1]&&l.push(this._previousSegmentPoint(h,t,t-1,c)),l.push(r),s!==uT&&h+1<o&&!n[c][t+1]&&l.push(this._previousSegmentPoint(h,t,t+1,c));else{const t=this._createGapStackPoint(h);this._stackPoints.push(t),l.push(t)}}return l}_previousSegmentPoint(t,e,s,n){const i=this.seriesPoints;let r,o=n;for(;o>0&&!r;)o--,r=i[o][s];return r?r=i[o][e]:(r=this._createGapStackPoint(t),this._stackPoints.push(r)),r}_createGapStackPoint(t){const e=this.pointOptions({},0),s=new vE(0,e);return s.categoryIx=t,s.series={},s}seriesMissingValues(t){return t.missingValues||oT}supportsPointInactiveOpacity(){return!1}},zE=class extends Kx{constructor(){super(),this.axisRanges={}}update(t){const e=this.axisRanges;for(let s in t){const n=t[s];let i=e[s];e[s]=i=i||{min:gS,max:mS},i.min=Math.min(i.min,n.min),i.max=Math.max(i.max,n.max)}}reset(t){this.axisRanges[t]=void 0}query(t){return this.axisRanges[t]}};class VE extends tC{constructor(t,e,s){super(e),this.textBox=new yC(t,this.options,s),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(t){const e=this.options,{vertical:s,aboveAxis:n}=e,i=this.children[0],r=i.options,o=i.box,a=i.options.padding;let l=t;r.align=s?rS:fS,r.vAlign=s?wS:rS,e.position===rE?s?(r.vAlign=wS,!n&&o.height()<t.height()&&(r.vAlign=iS)):r.align=n?bS:fS:e.position===rS?(r.vAlign=rS,r.align=rS):"insideBase"===e.position?s?r.vAlign=n?iS:wS:r.align=n?fS:bS:e.position===oE&&(s?l=n?new Vk(t.x1,t.y1-o.height(),t.x2,t.y1):new Vk(t.x1,t.y2,t.x2,t.y2+o.height()):(r.align=rS,l=n?new Vk(t.x2,t.y1,t.x2+o.width(),t.y2):new Vk(t.x1-o.width(),t.y1,t.x1,t.y2))),e.rotation||(s?a.left=a.right=(l.width()-i.contentBox.width())/2:a.top=a.bottom=(l.height()-i.contentBox.height())/2),i.reflow(l)}alignToClipBox(t){const e=this.options.vertical?TS:AS,s=e+"1",n=e+"2",i=this.parent.box;if(i[s]<t[s]||t[n]<i[n]){const e=this.children[0].paddingBox.clone();e[s]=Math.max(i[s],t[s]),e[n]=Math.min(i[n],t[n]),this.reflow(e)}}}Mk(VE,{position:oE,margin:qS(3),padding:qS(4),color:nS,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:nT,delay:sT},zIndex:2});const jE=VE;function HE(t){const e=t.overlay;return e&&e.gradient&&"none"!==e.gradient}class UE extends tC{constructor(t,e){super(),this.options=e,this.color=e.color||kS,this.aboveAxis=Ak(this.options.aboveAxis,!0),this.value=t}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const t=this.options,e=t.labels;if(e.visible){const s=this.pointData();let n,i=JS(e);n=i?i(s):this.formatValue(e.format),this.label=new jE(n,zS({vertical:t.vertical},e),s),this.append(this.label)}}formatValue(t){return this.owner.formatPointValue(this,t)}reflow(t){this.render();const e=this.label;if(this.box=t,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(t)),this.note&&this.note.reflow(t),this.errorBars)for(let s=0;s<this.errorBars.length;s++)this.errorBars[s].reflow(t)}createVisual(){const{box:t,options:e}=this,s=e.visual;if(!1!==this.visible)if(super.createVisual(),s){const n=this.rectVisual=s({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:()=>{const t=new Lv;return this.createRect(t),t},options:e});n&&this.visual.append(n)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)}createRect(t){const e=this.options,s=e.border,n=fk(s.opacity)?s.opacity:e.opacity,i=this.box.toRect();i.size.width=Math.round(i.size.width);const r=this.rectVisual=q_.fromRect(i,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:s.width,opacity:n,dashType:s.dashType}}),o=this.box.width(),a=this.box.height();if((e.vertical?o:a)>6&&(IS(r),(o<1||a<1)&&(r.options.stroke.lineJoin="round")),t.append(r),HE(e)){const s=this.createGradientOverlay(r,{baseColor:this.color},zS({end:e.vertical?void 0:[0,1]},e.overlay));t.append(s)}}createHighlight(t){return IS(q_.fromRect(this.box.toRect(),t))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}getBorderColor(){const t=this.color,e=this.options.border,s=e._brightness||iT;let n=e.color;return fk(n)||(n=new gE(t).brightness(s).toHex()),n}tooltipAnchor(){const{options:t,box:e,aboveAxis:s}=this,n=this.owner.pane.clipBox()||e;let i,r,o=fS,a=wS;if(t.vertical)i=Math.min(e.x2,n.x2)+5,s?r=Math.max(e.y1,n.y1):(r=Math.min(e.y2,n.y2),a=iS);else{const l=Math.max(e.x1,n.x1),h=Math.min(e.x2,n.x2);t.isStacked?(a=iS,s?(o=bS,i=h):i=l,r=Math.max(e.y1,n.y1)-5):(s?i=h+5:(i=l-5,o=bS),r=Math.max(e.y1,n.y1))}return{point:new Nk(i,r),align:{horizontal:o,vertical:a}}}overlapsBox(t){return this.box.overlaps(t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}zS(UE.prototype,mE),zS(UE.prototype,yE),UE.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const $E=UE;function qE(t,e){t.forEach(e)}function GE(t,e){const s=t.length;for(let n=s-1;n>=0;n--)e(t[n],n-s-1)}class WE extends tC{constructor(t){super(t),this.forEach=t.rtl?GE:qE}reflow(t){const{vertical:e,gap:s,spacing:n}=this.options,i=this.children,r=i.length,o=e?TS:AS,a=r+s+n*(r-1),l=(e?t.height():t.width())/a;let h=t[o+1]+l*(s/2);this.forEach(i,(e,s)=>{const i=(e.box||t).clone();i[o+1]=h,i[o+2]=h+l,e.reflow(i),s<r-1&&(h+=l*n),h+=l})}}Mk(WE,{vertical:!1,gap:0,spacing:0});const QE=WE;class ZE extends tC{reflow(t){const e=this.options.vertical?AS:TS,s=this.children,n=s.length;let i=this.box=new Vk;for(let r=0;r<n;r++){const n=s[r];if(!1!==n.visible){const s=n.box.clone();s.snapTo(t,e),0===r&&(i=this.box=s.clone()),n.reflow(s),i.wrap(s)}}}}Mk(ZE,{vertical:!0});const XE=ZE;class YE extends fE{render(){super.render(),this.updateStackRange()}pointType(){return $E}clusterType(){return QE}stackType(){return XE}stackLimits(t,e){return super.stackLimits(t,e)}createPoint(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,{options:o,children:a}=this,l=o.isStacked,h=this.pointValue(t);let c=this.pointOptions(i,r);const u=c.labels;l&&u.position===oE&&(u.position=rE),c.isStacked=l;let d=t.fields.color||i.color;h<0&&c.negativeColor&&(d=c.negativeColor),c=this.evalPointOptions(c,h,n,s,i,r),FS(i.color)&&(d=c.color);const p=new(this.pointType())(h,c);p.color=d;let f=a[s];return f||(f=new(this.clusterType())({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),l?this.getStackWrap(i,f).append(p):f.append(p),p}getStackWrap(t,e){const s=t.stack,n=s&&s.group||s,i=e.children;let r;if(typeof n===_S){for(let o=0;o<i.length;o++)if(i[o]._stackGroup===n){r=i[o];break}}else r=i[0];return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=n,e.append(r)),r}categorySlot(t,e,s){const n=this.options,i=t.getSlot(e),r=s.startValue();if(n.isStacked){const t=s.getSlot(r,r,!0),e=n.invertAxes?AS:TS;i[e+1]=i[e+2]=t[e+1]}return i}reflowCategories(t){const e=this.children,s=e.length;for(let n=0;n<s;n++)e[n].reflow(t[n])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),PE(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const t=this.points;for(let e=0;e<t.length;e++){const s=t[e],n=s.visual;n&&fk(n.options.zIndex)&&(s.options.animation=this.options.animation,s.createAnimation())}}_setAnimationOptions(){const t=this.options,e=t.animation||{};let s;if(t.isStacked){const e=this.seriesValueAxis(t.series[0]);s=e.getSlot(e.startValue())}else s=this.categoryAxis.getSlot(0);e.origin=new mv(s.x1,s.y1),e.vertical=!t.invertAxes}}Mk(YE,{animation:{type:pT}});const KE=YE;class JE extends tC{constructor(t,e){super(e),this.value=t}reflow(t){const{options:e,value:s,owner:n}=this,i=n.seriesValueAxis(e),r=i.getSlot(s.open,s.close),o=i.getSlot(s.low,s.high);r.x1=o.x1=t.x1,r.x2=o.x2=t.x2,this.realBody=r;const a=o.center().x,l=[];l.push([[a,o.y1],[a,r.y1]]),l.push([[a,r.y2],[a,o.y2]]),this.lines=l,this.box=o.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(t){const e=new Lv;return this.createBody(e,t),this.createLines(e,t),e}createBody(t,e){const s=q_.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&s.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:Ak(e.border.opacity,e.opacity)}),IS(s),t.append(s),HE(e)&&t.append(this.createGradientOverlay(s,{baseColor:this.color},zS({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(t,e){this.drawLines(t,e,this.lines,e.line)}drawLines(t,e,s,n){if(!s)return;const i={stroke:{color:n.color||this.color,opacity:Ak(n.opacity,e.opacity),width:n.width,dashType:n.dashType,lineCap:"butt"}};for(let r=0;r<s.length;r++){const e=q_.fromPoints(s[r],i);IS(e),t.append(e)}}getBorderColor(){const t=this.options.border;let e=t.color;return fk(e)||(e=new gE(this.color).brightness(t._brightness).toHex()),e}createOverlay(){const t=q_.fromRect(this.box.toRect(),{fill:{color:kS,opacity:0},stroke:null});this.visual.append(t)}createHighlight(){const t=this.options.highlight,e=this.color;this.color=t.color||this.color;const s=this.mainVisual(zS({},this.options,{line:{color:this.getBorderColor()}},t));return this.color=e,s}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const t=this.box,e=this.owner.pane.clipBox()||t;return{point:new Nk(t.x2+5,Math.max(t.y1,e.y1)+5),align:{horizontal:fS,vertical:wS}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}}Mk(JE,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),zS(JE.prototype,mE),zS(JE.prototype,yE);const tM=JE;function eM(t){return WA(t)===t.length}class sM extends fE{reflowCategories(t){const e=this.children,s=e.length;for(let n=0;n<s;n++)e[n].reflow(t[n])}addValue(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,{children:o,options:a}=this,l=t.valueFields,h=eM(this.splitValue(l)),c=i.data[s];let u,d=this.categoryPoints[s];d||(this.categoryPoints[s]=d=[]),h&&(u=this.createPoint(t,e));let p=o[s];p||(p=new QE({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),u&&(this.updateRange(l,e),p.append(u),u.categoryIx=s,u.category=n,u.series=i,u.seriesIx=r,u.owner=this,u.dataItem=c,u.noteText=t.fields.noteText),this.points.push(u),d.push(u)}pointType(){return tM}createPoint(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,o=this.pointType(),a=t.valueFields;let l=zS({},i),h=t.fields.color||i.color;l=this.evalPointOptions(l,a,n,s,i,r),i.type===yT&&a.open>a.close&&(h=t.fields.downColor||i.downColor||i.color),FS(i.color)&&(h=l.color),l.vertical=!this.options.invertAxes;const c=new o(a,l);return c.color=h,c}splitValue(t){return[t.low,t.open,t.close,t.high]}updateRange(t,e){const s=e.series.axis,n=this.splitValue(t);let i=this.valueAxisRanges[s];i=this.valueAxisRanges[s]=i||{min:gS,max:mS},i=this.valueAxisRanges[s]={min:Math.min.apply(Math,n.concat([i.min])),max:Math.max.apply(Math,n.concat([i.max]))}}formatPointValue(t,e){const s=t.value;return this.chartService.format.auto(e,s.open,s.high,s.low,s.close,t.category)}animationPoints(){return this.points}}zS(sM.prototype,IE);const nM=sM;class iM extends tM{constructor(t,e){super(t,e),this.createNote()}reflow(t){const{options:e,value:s,owner:n}=this,i=n.seriesValueAxis(e);let r,o;this.boxSlot=o=i.getSlot(s.q1,s.q3),this.realBody=o,this.reflowBoxSlot(t),this.whiskerSlot=r=i.getSlot(s.lower,s.upper),this.reflowWhiskerSlot(t);const a=i.getSlot(s.median);if(s.mean){const e=i.getSlot(s.mean);this.meanPoints=this.calcMeanPoints(t,e)}this.whiskerPoints=this.calcWhiskerPoints(o,r),this.medianPoints=this.calcMedianPoints(t,a),this.box=r.clone().wrap(o),this.reflowNote()}reflowBoxSlot(t){this.boxSlot.x1=t.x1,this.boxSlot.x2=t.x2}reflowWhiskerSlot(t){this.whiskerSlot.x1=t.x1,this.whiskerSlot.x2=t.x2}calcMeanPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}calcWhiskerPoints(t,e){const s=e.center().x;return[[[s-5,e.y1],[s+5,e.y1],[s,e.y1],[s,t.y1]],[[s-5,e.y2],[s+5,e.y2],[s,e.y2],[s,t.y2]]]}calcMedianPoints(t,e){return[[[t.x1,e.y1],[t.x2,e.y1]]]}renderOutliers(t){const e=this.value,s=e.outliers||[],n=3*Math.abs(e.q3-e.q1),i=[];let r=t.markers||{};for(let o=0;o<s.length;o++){const a=s[o];r=a<e.q3+n&&a>e.q1-n?t.outliers:t.extremes;let l=zS({},r.border);fk(l.color)||(l.color=fk(this.color)?this.color:new gE(r.background).brightness(iT).toHex());const h=new iC({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:l,opacity:r.opacity});h.value=a,i.push(h)}return this.reflowOutliers(i),i}reflowOutliers(t){const e=this.owner.seriesValueAxis(this.options),s=this.box.center();for(let n=0;n<t.length;n++){const i=e.getSlot(t[n].value);this.options.vertical?i.move(s.x):i.move(void 0,s.y),this.box=this.box.wrap(i),t[n].reflow(i)}}mainVisual(t){const e=super.mainVisual(t),s=this.renderOutliers(t);for(let n=0;n<s.length;n++){const t=s[n].getElement();t&&e.append(t)}return e}createLines(t,e){this.drawLines(t,e,this.whiskerPoints,e.whiskers),this.drawLines(t,e,this.medianPoints,e.median),this.drawLines(t,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}Mk(iM,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:aS,background:kS,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:oS,background:kS,border:{width:2,opacity:1},opacity:0}}),zS(iM.prototype,mE);const rM=iM,oM=class extends rM{reflowBoxSlot(t){this.boxSlot.y1=t.y1,this.boxSlot.y2=t.y2}reflowWhiskerSlot(t){this.whiskerSlot.y1=t.y1,this.whiskerSlot.y2=t.y2}calcMeanPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}calcWhiskerPoints(t,e){const s=e.center().y;return[[[e.x1,s-5],[e.x1,s+5],[e.x1,s],[t.x1,s]],[[e.x2,s-5],[e.x2,s+5],[e.x2,s],[t.x2,s]]]}calcMedianPoints(t,e){return[[[e.x1,t.y1],[e.x1,t.y2]]]}},aM=class extends nM{addValue(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,{children:o,options:a}=this,l=t.valueFields,h=eM(this.splitValue(l)),c=i.data[s];let u,d=this.categoryPoints[s];d||(this.categoryPoints[s]=d=[]),h&&(u=this.createPoint(t,e));let p=o[s];p||(p=new QE({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),u&&(this.updateRange(l,e),p.append(u),u.categoryIx=s,u.category=n,u.series=i,u.seriesIx=r,u.owner=this,u.dataItem=c),this.points.push(u),d.push(u)}pointType(){return this.options.invertAxes?oM:rM}splitValue(t){return[t.lower,t.q1,t.median,t.q3,t.upper]}updateRange(t,e){const s=e.series.axis;let n=this.valueAxisRanges[s],i=this.splitValue(t).concat(this.filterOutliers(t.outliers));fk(t.mean)&&(i=i.concat(t.mean)),n=this.valueAxisRanges[s]=n||{min:gS,max:mS},n=this.valueAxisRanges[s]={min:Math.min.apply(Math,i.concat([n.min])),max:Math.max.apply(Math,i.concat([n.max]))}}formatPointValue(t,e){const s=t.value;return this.chartService.format.auto(e,s.lower,s.q1,s.median,s.q3,s.upper,s.mean,t.category)}filterOutliers(t){const e=(t||[]).length,s=[];for(let n=0;n<e;n++){const e=t[n];fk(e)&&null!==e&&s.push(e)}return s}supportsPointInactiveOpacity(){return!1}},lM=class extends hE{getAxis(){const t=this.chart.seriesAxes(this.series);return this.isVertical?t.y:t.x}};function hM(t){return fk(t)&&null!==t}class cM extends tC{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(t,e,s){const n=t.value[e],i=e+"Value",r=e+"ErrorLow",o=e+"ErrorHigh",{seriesIx:a,series:l}=s,h=t.options.errorBars,c=s[r],u=s[o];if(OS(n)){let s;OS(c)&&OS(u)&&(s={low:c,high:u}),h&&fk(h[i])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][a]=this.seriesErrorRanges[e][a]||new eT(h[i],l,e),s=this.seriesErrorRanges[e][a].getErrorRange(n,h[i])),s&&this.addPointErrorBar(s,t,e)}}addPointErrorBar(t,e,s){const{low:n,high:i}=t,{series:r,options:{errorBars:o}}=e,a=s===TS,l={};e[s+"Low"]=n,e[s+"High"]=i,e.errorBars=e.errorBars||[];const h=new lM(n,i,a,this,r,o);e.errorBars.push(h),e.append(h),l[s]=n,this.updateRange(l,r),l[s]=i,this.updateRange(l,r)}addValue(t,e){const{x:s,y:n}=t,i=e.seriesIx,r=this.seriesMissingValues(this.options.series[i]),o=this.seriesPoints[i];let a,l=t;hM(s)&&hM(n)||(l=this.createMissingValue(l,r)),l&&(a=this.createPoint(l,e),a&&(Object.assign(a,e),this.addErrorBar(a,AS,e),this.addErrorBar(a,TS,e)),this.updateRange(l,e.series)),this.points.push(a),o.push(a)}seriesMissingValues(t){return t.missingValues}createMissingValue(){}updateRange(t,e){const s=this.chartService.intl,{xAxis:n,yAxis:i}=e;let{x:r,y:o}=t,a=this.xAxisRanges[n],l=this.yAxisRanges[i];hM(r)&&(a=this.xAxisRanges[n]=a||{min:gS,max:mS},LS(r)&&(r=nA(s,r)),a.min=Math.min(a.min,r),a.max=Math.max(a.max,r)),hM(o)&&(l=this.yAxisRanges[i]=l||{min:gS,max:mS},LS(o)&&(o=nA(s,o)),l.min=Math.min(l.min,o),l.max=Math.max(l.max,o))}evalPointOptions(t,e,s){const{series:n,seriesIx:i}=s,r={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let o=this._evalSeries[i];fk(o)||(this._evalSeries[i]=o=uE(t,{},r,!0));let a=t;return o&&(a=zS({},t),uE(a,{value:e,series:n,dataItem:s.dataItem},r)),a}pointType(){return vE}pointOptions(t,e){let s=this.seriesOptions[e];if(!s){const n=this.pointType().prototype.defaults;this.seriesOptions[e]=s=zS({},n,{markers:{opacity:t.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},t)}return s}createPoint(t,e){const s=e.series;let n=this.pointOptions(s,e.seriesIx),i=e.color||s.color;n=this.evalPointOptions(n,t,e),FS(s.color)&&(i=n.color);const r=new vE(t,n);return r.color=i,this.append(r),r}seriesAxes(t){const{xAxis:e,yAxis:s}=t,n=this.plotArea,i=e?n.namedXAxes[e]:n.axisX,r=s?n.namedYAxes[s]:n.axisY;if(!i)throw new Error("Unable to locate X axis with name "+e);if(!r)throw new Error("Unable to locate Y axis with name "+s);return{x:i,y:r}}reflow(t){const e=this.points,s=!this.options.clip;let n=0;this.traverseDataPoints((t,i)=>{const r=e[n++],o=this.seriesAxes(i.series),a=o.x.getSlot(t.x,t.x,s),l=o.y.getSlot(t.y,t.y,s);if(r)if(a&&l){const t=this.pointSlot(a,l);r.reflow(t)}else r.visible=!1}),this.box=t}pointSlot(t,e){return new Vk(t.x1,e.y1,t.x2,e.y2)}traverseDataPoints(t){const{options:{series:e},seriesPoints:s}=this;for(let n=0;n<e.length;n++){const i=e[n];s[n]||(s[n]=[]);for(let e=0;e<i.data.length;e++){const{valueFields:s,fields:r}=this._bindPoint(i,n,e);t(s,zS({pointIx:e,series:i,seriesIx:n,dataItem:i.data[e],owner:this},r))}}}formatPointValue(t,e){const s=t.value;return this.chartService.format.auto(e,s.x,s.y)}animationPoints(){const t=this.points,e=[];for(let s=0;s<t.length;s++)e.push((t[s]||{}).marker);return e}}Mk(cM,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),zS(cM.prototype,IE,{_bindPoint:fE.prototype._bindPoint});const uM=cM;class dM extends vE{constructor(t,e){super(t,e),this.category=t.category}createHighlight(){const t=this.options.highlight,e=t.border,s=this.options.markers,n=this.box.center(),i=(s.size+s.border.width+e.width)/2,r=new Lv,o=new tS(new Sw([n.x,n.y+i/5+e.width/2],i+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:s.background,stops:[{offset:0,color:s.background,opacity:.3},{offset:1,color:s.background,opacity:0}]})}),a=new tS(new Sw([n.x,n.y],i),{stroke:{color:e.color||new gE(s.background).brightness(iT).toHex(),width:e.width,opacity:e.opacity},fill:{color:s.background,opacity:t.opacity}});return r.append(o,a),r}}dM.prototype.defaults=zS({},dM.prototype.defaults,{labels:{position:rS},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),dM.prototype.defaults.highlight.zIndex=void 0;const pM=dM;class fM extends uM{_initFields(){this._maxSize=mS,super._initFields()}addValue(t,e){null!==t.size&&(t.size>0||t.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(t.size)),super.addValue(t,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(t){this.updateBubblesSize(t),super.reflow(t)}pointType(){return pM}createPoint(t,e){const s=e.series,n=e.pointIx*(sT/s.data.length),i={delay:n,duration:sT-n,type:gT};let r=e.color||s.color;t.size<0&&s.negativeValues.visible&&(r=Ak(s.negativeValues.color,r));let o=zS({labels:{animation:{delay:n,duration:sT-n}}},this.pointOptions(s,e.seriesIx),{markers:{type:oS,border:s.border,opacity:s.opacity,animation:i}});o=this.evalPointOptions(o,t,e),FS(s.color)&&(r=o.color),o.markers.background=r;const a=new pM(t,o);return a.color=r,this.append(a),a}updateBubblesSize(t){const{options:{series:e}}=this,s=Math.min(t.width(),t.height());for(let n=0;n<e.length;n++){const t=e[n],i=this.seriesPoints[n],r=(t.minSize||Math.max(.02*s,10))/2,o=(t.maxSize||.2*s)/2,a=Math.PI*r*r,l=(Math.PI*o*o-a)/this._maxSize;for(let e=0;e<i.length;e++){const t=i[e];if(t){const e=Math.abs(t.value.size)*l,s=Math.sqrt((a+e)/Math.PI),n=Ak(t.options.zIndex,0)+(1-s/o);zS(t.options,{zIndex:n,markers:{size:2*s,zIndex:n},labels:{zIndex:n+1}})}}}}formatPointValue(t,e){const s=t.value;return this.chartService.format.auto(e,s.x,s.y,s.size,t.category)}createAnimation(){}createVisual(){}}Mk(fM,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const gM=fM;class mM extends iC{}zS(mM.prototype,mE);const yM=mM;class xM extends tC{constructor(t,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||kS,this.value=t}render(){const t=this.options;this._rendered||(this._rendered=!0,fk(this.value.target)&&(this.target=new yM({type:t.target.shape,background:t.target.color||this.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:wS,align:bS}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())}reflow(t){this.render();const{options:e,target:s,owner:n}=this,i=e.invertAxes,r=n.seriesValueAxis(this.options),o=n.categorySlot(n.categoryAxis,e.categoryIx,r),a=r.getSlot(this.value.target),l=i?a:o,h=i?o:a;if(s){const t=new Vk(l.x1,h.y1,l.x2,h.y2);s.options.height=i?t.height():e.target.line.width,s.options.width=i?e.target.line.width:t.width(),s.reflow(t)}this.note&&this.note.reflow(t),this.box=t}createVisual(){super.createVisual();const t=this.options,e=q_.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&e.options.set("stroke",{color:t.border.color||this.color,width:t.border.width,dashType:t.border.dashType,opacity:Ak(t.border.opacity,t.opacity)}),this.bodyVisual=e,IS(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=Kk.create(this.bodyVisual,this.options.animation))}createHighlight(t){return q_.fromRect(this.box.toRect(),t)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(t){return this.owner.formatPointValue(this,t)}}xM.prototype.tooltipAnchor=$E.prototype.tooltipAnchor,Mk(xM,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),zS(xM.prototype,mE),zS(xM.prototype,yE);const vM=xM;class bM extends fE{constructor(t,e){!function(t){const e=t.series;for(let s=0;s<e.length;s++){const t=e[s],n=t.data;!n||ES(n[0])||VS(n[0])||(t.data=[n])}}(e),super(t,e)}reflowCategories(t){const e=this.children,s=e.length;for(let n=0;n<s;n++)e[n].reflow(t[n])}plotRange(t){const e=this.seriesValueAxis(t.series),s=this.categoryAxisCrossingValue(e);return[s,t.value.current||s]}createPoint(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e,{options:o,children:a}=this,l=t.valueFields;let h=zS({vertical:!o.invertAxes,overlay:i.overlay,categoryIx:s,invertAxes:o.invertAxes},i),c=t.fields.color||i.color;h=this.evalPointOptions(h,l,n,s,i,r),FS(i.color)&&(c=h.color);const u=new vM(l,h);u.color=c;let d=a[s];return d||(d=new QE({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),d.append(u),u}updateRange(t,e){const{current:s,target:n}=t,i=e.series.axis;let r=this.valueAxisRanges[i];fk(s)&&!isNaN(s)&&fk(n&&!isNaN(n))&&(r=this.valueAxisRanges[i]=r||{min:gS,max:mS},r.min=Math.min(r.min,s,n),r.max=Math.max(r.max,s,n))}formatPointValue(t,e){return this.chartService.format.auto(e,t.value.current,t.value.target)}pointValue(t){return t.valueFields.current}aboveAxis(t){return t.value.current>0}createAnimation(){const t=this.points;this._setAnimationOptions();for(let e=0;e<t.length;e++){const s=t[e];s.options.animation=this.options.animation,s.createAnimation()}}}bM.prototype._setAnimationOptions=KE.prototype._setAnimationOptions,Mk(bM,{animation:{type:pT}});const _M=bM;class wM extends Kx{constructor(t,e){super(),this.chartService=t,this.options=zS({},this.options,e)}getStyle(t,e){let{background:s,border:{color:n}}=t;if(e){const t=e.color||e.options.color;s=Ak(s,t),n=Ak(n,t)}const i=qS(t.padding||{},"auto");return{backgroundColor:s,borderColor:n,font:t.font,color:t.color,opacity:t.opacity,borderWidth:jS(t.border.width),paddingTop:jS(i.top),paddingBottom:jS(i.bottom),paddingLeft:jS(i.left),paddingRight:jS(i.right)}}show(t,e,s){t.format=e.format;const n=this.getStyle(e,s);t.style=n,!fk(e.color)&&new gE(n.backgroundColor).percBrightness()>180&&(t.className="k-chart-tooltip-inverse"),this.chartService.notify(eE,t),this.visible=!0}hide(){this.chartService&&this.chartService.notify(sE),this.visible=!1}destroy(){delete this.chartService}}Mk(wM,{border:{width:1},opacity:1});const SM=wM;class kM extends SM{constructor(t,e,s){super(t,s),this.crosshair=e,this.formatService=t.format,this.initAxisName()}initAxisName(){const t=this.crosshair.axis;let e;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e}showAt(t){const{crosshair:{axis:e},options:s}=this;let n=e[s.stickyMode?"getCategory":"getValue"](t),i=n;s.format?i=this.formatService.auto(s.format,n):e.options.type===lS&&(i=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],n)),this.show({point:t,anchor:this.getAnchor(),crosshair:this.crosshair,value:i,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(sE,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:t,options:{position:e,padding:s}}=this,n=!t.axis.options.vertical,i=t.line.bbox();let r,o,a;return n?(r=rS,e===iS?(o=wS,a=i.bottomLeft().translate(0,s)):(o=iS,a=i.topLeft().translate(0,-s))):(o=rS,e===fS?(r=bS,a=i.topLeft().translate(-s,0)):(r=fS,a=i.topRight().translate(s,0))),{point:a,align:{horizontal:r,vertical:o}}}}Mk(kM,{padding:10});const CM=kM;class AM extends tC{constructor(t,e,s){super(s),this.axis=e,this.stickyMode=e instanceof aA;const n=this.options.tooltip;n.visible&&(this.tooltip=new CM(t,this,zS({},n,{stickyMode:this.stickyMode})))}showAt(t){this.point=t,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(t)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:t,point:e}=this,s=t.options.vertical,n=this.getBox(),i=s?TS:AS,r=new mv(n.x1,n.y1);let o;if(o=s?new mv(n.x2,n.y1):new mv(n.x1,n.y2),e)if(this.stickyMode){const s=t.getSlot(t.pointCategoryIndex(e));r[i]=o[i]=s.center()[i]}else r[i]=o[i]=e[i];this.box=n,this.line.moveTo(r).lineTo(o)}getBox(){const t=this.axis,e=t.pane.axes,s=e.length,n=t.options.vertical,i=t.lineBox().clone(),r=n?AS:TS;let o;for(let a=0;a<s;a++){const t=e[a];t.options.vertical!==n&&(o?o.wrap(t.lineBox()):o=t.lineBox().clone())}return i[r+1]=o[r+1],i[r+2]=o[r+2],i}createVisual(){super.createVisual();const t=this.options;this.line=new q_({stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}Mk(AM,{color:nS,width:2,zIndex:-1,tooltip:{visible:!1}});const TM=AM;class EM extends tC{constructor(t,e){super(t),this.pane=e}shouldClip(){const t=this.children,e=t.length;for(let s=0;s<e;s++)if(!0===t[s].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new Lv({zIndex:0}),this.shouldClip()){const t=(this.clipBox=this._clipBox()).toRect(),e=q_.fromRect(t);IS(e),this.visual.clip(e),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:t,clipBox:e}=this;for(let s=0;s<t.length;s++){const n=t[s].points||{},i=n.length;for(let t=0;t<i;t++){const s=n[t];if(s&&!1!==s.visible&&s.overlapsBox&&s.overlapsBox(e))if(s.unclipElements)s.unclipElements();else{const{label:t,note:n}=s;t&&t.options.visible&&(t.alignToClipBox&&t.alignToClipBox(e),t.options.noclip=!0),n&&n.options.visible&&(n.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}EM.prototype.isStackRoot=!0;const MM=EM;class PM extends sC{constructor(t){super(t),this.id="pane"+IM++,this.createTitle(),this.content=new tC,this.chartContainer=new MM({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let t=this.options.title;VS(t)&&(t=zS({},t,{align:t.position,position:wS})),this.title=vC.buildTitle(t,this,PM.prototype.options.title)}appendAxis(t){this.content.append(t),this.axes.push(t),t.pane=this}appendAxisAt(t,e){this.content.append(t),this.axes.splice(e,0,t),t.pane=this}appendChart(t){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(t),this.chartContainer.append(t),t.pane=this}empty(){const t=this.parent;if(t){for(let e=0;e<this.axes.length;e++)t.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)t.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(t){let e;bk(this.children)===this.content&&(e=this.children.pop()),super.reflow(t),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const t=super.visualStyle();return t.zIndex=-10,t}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const t=this.axes,e=t.concat(this.parent.axes),s=[],n=[];for(let i=0;i<t.length;i++){const r=t[i],o=r.options.vertical,a=o?s:n;for(let t=0;t<e.length;t++)if(0===a.length){const s=e[t];o!==s.options.vertical&&dk(a,r.createGridLines(s))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const t=this.axes,e=t.length,s=new Vk;for(let n=0;n<e;n++){const e=t[n],i=e.options.vertical?TS:AS,r=e.lineBox();s[i+1]=r[i+1],s[i+2]=r[i+2]}if(0===s.x2){const t=this.parent.axes,e=t.length;for(let n=0;n<e;n++){const e=t[n];if(!e.options.vertical){const t=e.lineBox();s.x1=t.x1,s.x2=t.x2}}}return s}clipBox(){return this.chartContainer.clipBox}notifyRender(){const t=this.getService();t&&t.notify("paneRender",{pane:new qA(this),index:this.paneIndex,name:this.options.name})}}let IM=1;PM.prototype.isStackRoot=!0,Mk(PM,{zIndex:-1,shrinkToFit:!0,title:{align:fS},visible:!0});const RM=PM;function OM(t,e){null!==e&&t.push(e)}function LM(t,e,s){const n=e.visible;if(fk(n))return n;const i=t.pointVisibility;return i?i[s]:void 0}function DM(t){const e=t.data,s=[];let n=0,i=0;for(let r=0;r<e.length;r++){const e=KA.current.bindPoint(t,r);let o=e.valueFields.value;LS(o)&&(o=parseFloat(o)),OS(o)?(e.visible=!1!==LM(t,e.fields,r),e.value=Math.abs(o),s.push(e),e.visible&&(n+=e.value),0!==o&&i++):s.push(null)}return{total:n,points:s,count:i}}function FM(t,e){return t&&e?t.toLowerCase()===e.toLowerCase():t===e}function NM(t,e){const s=[],n=[].concat(e);for(let i=0;i<t.length;i++){const e=t[i];ok(e.type,n)&&s.push(e)}return s}function BM(t,e,s){if(null===e)return e;const n="_date_"+t;let i=e[n];return i||(i=nA(s,sk(t)(e)),e[n]=i),i}function zM(t,e){const s=t.type,n=e instanceof Date;return!s&&n||FM(s,lS)}function VM(t){return 1===t.length?t[0]:t}const jM=/area/i;function HM(t,e){const s=KA.current.bindPoint(t,null,e).valueFields;for(let n in s)if(DS(s[n]))return!0}function UM({start:t,dir:e,min:s,max:n,getter:i,hasItem:r,series:o}){let a,l,h=t;do{h+=e,r(h)&&(l=i(h),a=HM(o,l.item))}while(s<=h&&h<=n&&!a);if(a)return l}function $M(t,e,s,n,i){const{min:r,max:o}=e,a=r>0&&r<s,l=o+1<s;if(a||l){let e,h;if(function(t){return t.missingValues?t.missingValues:jM.test(t.type)||t.stack?oT:aT}(t)!==aT)a&&(e=n(r-1)),l&&(h=n(o+1));else{let c,u;a&&(c=n(r-1),u=HM(t,c.item),e=u?c:UM({start:r,dir:-1,min:0,max:s-1,getter:n,hasItem:i,series:t})),l&&(c=n(o+1),u=HM(t,c.item),h=u?c:UM({start:o,dir:1,min:0,max:s-1,getter:n,hasItem:i,series:t}))}e&&(t._outOfRangeMinPoint=e),h&&(t._outOfRangeMaxPoint=h)}}class qM extends tC{constructor(t,e,s){super(e),this.initFields(t,e),this.series=t,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=s,this.originalOptions=e,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const t=this.series;for(let e=0;e<t.length;e++)t[e].index=e}createPanes(){const t=this.options.title||{},e=this.options.paneDefaults,s=this.options.panes||[],n=Math.max(s.length,1),i=[],r=zS({title:{color:t.color}},e);for(let o=0;o<n;o++){const t=zS({},r,s[o]);LS(t.title)&&(t.title=zS({text:t.title},r.title));const e=new RM(t);e.paneIndex=o,i.push(e),this.append(e)}this.panes=i}createCrosshairs(t=this.panes){for(let e=0;e<t.length;e++){const s=t[e];for(let t=0;t<s.axes.length;t++){const e=s.axes[t];if(e.options.crosshair&&e.options.crosshair.visible){const t=new TM(this.chartService,e,e.options.crosshair);this.crosshairs.push(t),s.content.append(t)}}}}removeCrosshairs(t){const e=this.crosshairs,s=t.axes;for(let n=e.length-1;n>=0;n--)for(let t=0;t<s.length;t++)if(e[n].axis===s[t]){e.splice(n,1);break}}hideCrosshairs(){const t=this.crosshairs;for(let e=0;e<t.length;e++)t[e].hide()}findPane(t){const e=this.panes;let s;for(let n=0;n<e.length;n++)if(e[n].options.name===t){s=e[n];break}return s||e[0]}findPointPane(t){const e=this.panes;let s;for(let n=0;n<e.length;n++)if(e[n].box.containsPoint(t)){s=e[n];break}return s}appendAxis(t){this.findPane(t.options.pane).appendAxis(t),this.axes.push(t),t.plotArea=this}removeAxis(t){const e=[];for(let s=0;s<this.axes.length;s++){const n=this.axes[s];t!==n?e.push(n):n.destroy()}this.axes=e}appendChart(t,e){this.charts.push(t),e?e.appendChart(t):this.append(t)}removeChart(t){const e=[];for(let s=0;s<this.charts.length;s++){const n=this.charts[s];n!==t?e.push(n):n.destroy()}this.charts=e}addToLegend(t){const e=t.length,s=this.options.legend,n=s.labels||{},i=s.inactiveItems||{},r=i.labels||{},o=[];for(let a=0;a<e;a++){const e=t[a],s=!1!==e.visible;if(!1===e.visibleInLegend)continue;let l=e.name;const h=s?JS(n):JS(r)||JS(n);h&&(l=h({text:hM(l)?l:"",series:e}));const c=e._defaults;let u,d,p=e.color;FS(p)&&c&&(p=c.color),s?(u={},d=p):(u={color:r.color,font:r.font},d=i.markers.color),hM(l)&&""!==l&&o.push({text:l,labels:u,markerColor:d,series:e,active:s})}dk(s.items,o)}groupAxes(t){const e=[],s=[];for(let n=0;n<t.length;n++){const i=t[n].axes;for(let t=0;t<i.length;t++){const n=i[t];n.options.vertical?s.push(n):e.push(n)}}return{x:e,y:s,any:e.concat(s)}}groupSeriesByPane(){const t=this.series,e={};for(let s=0;s<t.length;s++){const n=t[s],i=this.seriesPaneName(n);e[i]?e[i].push(n):e[i]=[n]}return e}filterVisibleSeries(t){const e=[];for(let s=0;s<t.length;s++){const n=t[s];!1!==n.visible&&e.push(n)}return e}reflow(t){const e=this.panes,s=qS(this.options.plotArea.margin);this.box=t.clone().unpad(s),this.reflowPanes(),this.detachLabels(),this.reflowAxes(e),this.reflowCharts(e)}redraw(t){const e=[].concat(t);this.initSeries();const s=this.getRoot();s&&s.cleanGradients();for(let n=0;n<e.length;n++)this.removeCrosshairs(e[n]),e[n].empty();this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let n=0;n<e.length;n++)e[n].refresh()}axisCrossingValues(t,e){const s=t.options,n=[].concat(s.axisCrossingValues||s.axisCrossingValue),i=e.length-n.length,r=n[0]||0;for(let o=0;o<i;o++)n.push(r);return n}alignAxisTo(t,e,s,n){const i=t.getSlot(s,s,!0),r=t.options.reverse?2:1,o=e.getSlot(n,n,!0),a=e.options.reverse?2:1,l=t.box.translate(o[AS+a]-i[AS+r],o[TS+a]-i[TS+r]);t.pane!==e.pane&&l.translate(0,t.pane.box.y1-e.pane.box.y1),t.reflow(l)}alignAxes(t,e){const s=t[0],n=e[0],i=this.axisCrossingValues(s,e),r=this.axisCrossingValues(n,t),o={},a={},l={},h={};for(let c=0;c<e.length;c++){const l=e[c],h=l.pane,u=h.id,d=!1!==l.options.visible,p=QM(t,h)||s;let f=i;p!==s&&(f=this.axisCrossingValues(p,e)),this.alignAxisTo(l,p,r[c],f[c]),l.options._overlap||(kk(l.lineBox().x1)===kk(p.lineBox().x1)&&(o[u]&&l.reflow(l.box.alignTo(o[u].box,fS).translate(-l.options.margin,0)),d&&(o[u]=l)),kk(l.lineBox().x2)===kk(p.lineBox().x2)&&(l._mirrored||(l.options.labels.mirror=!l.options.labels.mirror,l._mirrored=!0),this.alignAxisTo(l,p,r[c],f[c]),a[u]&&l.reflow(l.box.alignTo(a[u].box,bS).translate(l.options.margin,0)),d&&(a[u]=l)),0!==c&&n.pane===l.pane&&(l.alignTo(n),l.reflow(l.box)))}for(let c=0;c<t.length;c++){const o=t[c],a=o.pane,u=a.id,d=!1!==o.options.visible,p=QM(e,a)||n;let f=r;p!==n&&(f=this.axisCrossingValues(p,t)),this.alignAxisTo(o,p,i[c],f[c]),o.options._overlap||(kk(o.lineBox().y1)===kk(p.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),this.alignAxisTo(o,p,i[c],f[c]),l[u]&&o.reflow(o.box.alignTo(l[u].box,wS).translate(0,-o.options.margin)),d&&(l[u]=o)),kk(o.lineBox().y2,3)===kk(p.lineBox().y2,3)&&(h[u]&&o.reflow(o.box.alignTo(h[u].box,iS).translate(0,o.options.margin)),d&&(h[u]=o)),0!==c&&(o.alignTo(s),o.reflow(o.box)))}}shrinkAxisWidth(t){const e=this.groupAxes(t).any,s=WM(e);let n=0;for(let i=0;i<t.length;i++){const e=t[i];e.axes.length>0&&(n=Math.max(n,s.width()-e.contentBox.width()))}if(0!==n)for(let i=0;i<e.length;i++){const t=e[i];t.options.vertical||t.reflow(t.box.shrink(n,0))}}shrinkAxisHeight(t){let e;for(let s=0;s<t.length;s++){const n=t[s],i=n.axes,r=Math.max(0,WM(i).height()-n.contentBox.height());if(0!==r){for(let t=0;t<i.length;t++){const e=i[t];e.options.vertical&&e.reflow(e.box.shrink(0,r))}e=!0}}return e}fitAxes(t){const e=this.groupAxes(t).any;let s=0;for(let n=0;n<t.length;n++){const e=t[n],i=e.axes,r=e.contentBox;if(i.length>0){const t=WM(i),e=Math.max(r.y1-t.y1,r.y2-t.y2);s=Math.max(s,r.x1-t.x1);for(let s=0;s<i.length;s++){const t=i[s];t.reflow(t.box.translate(0,e))}}}for(let n=0;n<e.length;n++){const t=e[n];t.reflow(t.box.translate(s,0))}}reflowAxes(t){const e=this.groupAxes(t);for(let s=0;s<t.length;s++)this.reflowPaneAxes(t[s]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(t)&&this.alignAxes(e.x,e.y),this.fitAxes(t))}autoRotateAxisLabels(t){const{panes:e}=this,s=ZM(e);let n;for(let i=0;i<s.length;i++)s[i].autoRotateLabels()&&(n=!0);if(n){for(let t=0;t<e.length;t++)this.reflowPaneAxes(e[t]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(t){const e=t.axes,s=e.length;if(s>0)for(let n=0;n<s;n++)e[n].reflow(t.contentBox)}reflowCharts(t){const e=this.charts,s=e.length,n=this.box;for(let i=0;i<s;i++){const s=e[i].pane;s&&!ok(s,t)||e[i].reflow(n)}}reflowPanes(){const{box:t,panes:e}=this,s=e.length;let n=t.height(),i=0,r=t.y1;for(let o=0;o<s;o++){const s=e[o],r=s.options.height;if(s.options.width=t.width(),s.options.height){if(r.indexOf&&r.indexOf("%")){const e=parseInt(r,10)/100;s.options.height=e*t.height()}s.reflow(t.clone()),n-=s.options.height}else i++}for(let o=0;o<s;o++){const t=e[o];t.options.height||(t.options.height=n/i)}for(let o=0;o<s;o++){const s=e[o],n=t.clone().move(t.x1,r);s.reflow(n),r+=s.options.height}}backgroundBox(){const t=this.axes,e=t.length;let s;for(let n=0;n<e;n++){const i=t[n];for(let n=0;n<e;n++){const e=t[n];if(i.options.vertical!==e.options.vertical){const t=i.lineBox().clone().wrap(e.lineBox());s=s?s.wrap(t):t}}}return s||this.box}chartsBoxes(){const t=this.panes,e=[];for(let s=0;s<t.length;s++)e.push(t[s].chartsBox());return e}addBackgroundPaths(t){const e=this.chartsBoxes();for(let s=0;s<e.length;s++)t.paths.push(q_.fromRect(e[s].toRect()))}backgroundContainsPoint(t){const e=this.chartsBoxes();for(let s=0;s<e.length;s++)if(e[s].containsPoint(t))return!0}createVisual(){super.createVisual();const t=this.options.plotArea;let{opacity:e,background:s,border:n={}}=t;var i;""!==(i=s)&&null!==i&&"none"!==i&&"transparent"!==i&&fk(i)||(s=kS,e=0);const r=this._bgVisual=new G_({fill:{color:s,opacity:e},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType},zIndex:-1});this.addBackgroundPaths(r),this.appendVisual(r)}pointsByCategoryIndex(t){const e=this.charts,s=[];if(null!==t)for(let n=0;n<e.length;n++){if("_navigator"===e[n].pane.options.name)continue;const i=e[n].categoryPoints[t];if(i&&i.length)for(let t=0;t<i.length;t++){const e=i[t];e&&fk(e.value)&&null!==e.value&&s.push(e)}}return s}pointsBySeriesIndex(t){return this.filterPoints(function(e){return e.series.index===t})}pointsBySeriesName(t){return this.filterPoints(function(e){return e.series.name===t})}filterPoints(t){const e=this.charts,s=[];for(let n=0;n<e.length;n++){const i=e[n].points;for(let e=0;e<i.length;e++){const n=i[e];n&&!1!==n.visible&&t(n)&&s.push(n)}}return s}findPoint(t){const e=this.charts;for(let s=0;s<e.length;s++){const n=e[s].points;for(let e=0;e<n.length;e++){const s=n[e];if(s&&!1!==s.visible&&t(s))return s}}}paneByPoint(t){const e=this.panes;for(let s=0;s<e.length;s++){const n=e[s];if(n.box.containsPoint(t))return n}}detachLabels(){const t=this.groupAxes(this.panes),e=t.x,s=t.y;this.detachAxisGroupLabels(s,e),this.detachAxisGroupLabels(e,s)}detachAxisGroupLabels(t,e){let s=0;for(let n=0;n<t.length;n++){const i=t[n],r=i.pane,o=QM(e,r)||e[0],a=this.createLabelAxis(i,n+s,o);if(a){s++;const t=r.axes.indexOf(i)+s;r.appendAxisAt(a,t)}}}createLabelAxis(t,e,s){const n=t.options.labels,i=n.position;if("end"!==i&&"start"!==i||!1===n.visible)return null;const r=this.groupAxes(this.panes),o=this.axisCrossingValues(s,s.options.vertical?r.x:r.y),a="end"===i,l=s.range(),h=a?l.max:l.min;if(_k(o[e],l.min,l.max)-h==0)return null;o.splice(e+1,0,h),s.options.axisCrossingValues=o;const c=t.clone();return t.clear(),c.options.name=void 0,c.options.line.visible=!1,c.options.crosshair=void 0,c.options.notes=void 0,c.options.plotBands=void 0,c}}function GM(t){return!t.pane.axes.some(e=>e.options.vertical===t.options.vertical&&e!==t&&!1!==e.options.visible)}function WM(t){const e=t.length;let s;for(let n=0;n<e;n++){const e=t[n],i=!1!==e.options.visible;if(i||GM(e)){const t=i?e.contentBox():e.lineBox();s?s.wrap(t):s=t.clone()}}return s||new Vk}function QM(t,e){for(let s=0;s<t.length;s++){const n=t[s];if(n&&n.pane===e)return n}}const ZM=t=>t.reduce((t,e)=>t.concat(e.axes),[]);Mk(qM,{series:[],plotArea:{margin:{}},background:"",border:{color:nS,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const XM=qM,YM={hover:function(t,e){this._dispatchEvent(t,e,$T)},click:function(t,e){this._dispatchEvent(t,e,"plotAreaClick")}};function KM(t,e,s){let n=e,i=t;if(t.indexOf(".")>-1){const e=t.split(".");for(;e.length>1;)i=e.shift(),fk(n[i])||(n[i]={}),n=n[i];i=e.shift()}n[i]=s}const JM=class extends Kx{constructor(t,e,s){super();const n=e.canonicalFields(t),i=e.valueFields(t),r=e.sourceFields(t,n),o=this._seriesFields=[],a=s.query(t.type),l=t.aggregate||a;this._series=t,this._binder=e;for(let h=0;h<n.length;h++){const t=n[h];let e;if(VS(l))e=l[t];else{if(0!==h&&!ok(t,i))break;e=l}e&&o.push({canonicalName:t,name:r[h],transform:FS(e)?e:ZA[e]})}}aggregatePoints(t,e){const{_series:s,_seriesFields:n}=this,i=this._bindPoints(t||[]),r=i.dataItems[0];let o={};if(r&&!OS(r)&&!ES(r)){const t=function(){};t.prototype=r,o=new t}for(let a=0;a<n.length;a++){const t=n[a],r=this._bindField(i.values,t.canonicalName),l=t.transform(r,s,i.dataItems,e);if(!(null===l||!VS(l)||fk(l.length)||l instanceof Date)){o=l;break}fk(l)&&KM(t.name,o,l)}return o}_bindPoints(t){const{_binder:e,_series:s}=this,n=[],i=[];for(let r=0;r<t.length;r++){const o=t[r];n.push(e.bindPoint(s,o)),i.push(s.data[o])}return{values:n,dataItems:i}}_bindField(t,e){const s=[],n=t.length;for(let i=0;i<n;i++){const n=t[i],r=n.valueFields;let o;o=fk(r[e])?r[e]:n.fields[e],s.push(o)}return s}};class tP extends Kx{constructor(){super(),this._defaults={}}register(t,e){for(let s=0;s<t.length;s++)this._defaults[t[s]]=e}query(t){return this._defaults[t]}}tP.current=new tP;const eP=tP;class sP extends $E{createLabel(){const t=this.options.labels,e=zS({},t,t.from),s=zS({},t,t.to);e.visible&&(this.labelFrom=this._createLabel(e),this.append(this.labelFrom)),s.visible&&(this.labelTo=this._createLabel(s),this.append(this.labelTo))}_createLabel(t){const e=JS(t),s=this.pointData();let n;return n=e?e(s):this.formatValue(t.format),new jE(n,zS({vertical:this.options.vertical},t),s)}reflow(t){this.render();const{labelFrom:e,labelTo:s,value:n}=this;this.box=t,e&&(e.options.aboveAxis=n.from>n.to,e.reflow(t)),s&&(s.options.aboveAxis=n.to>n.from,s.reflow(t)),this.note&&this.note.reflow(t)}}sP.prototype.defaults=zS({},sP.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const nP=sP;class iP extends KE{pointType(){return nP}pointValue(t){return t.valueFields}formatPointValue(t,e){return null===t.value.from&&null===t.value.to?"":this.chartService.format.auto(e,t.value.from,t.value.to)}plotRange(t){return t?[t.value.from,t.value.to]:0}updateRange(t,e){const s=e.series.axis,{from:n,to:i}=t;let r=this.valueAxisRanges[s];null!==t&&OS(n)&&OS(i)&&(r=this.valueAxisRanges[s]=r||{min:gS,max:mS},r.min=Math.min(r.min,n),r.max=Math.max(r.max,n),r.min=Math.min(r.min,i),r.max=Math.max(r.max,i))}aboveAxis(t){const e=t.value;return e.from<e.to}}iP.prototype.plotLimits=fE.prototype.plotLimits;const rP=iP,oP=class extends vE{aliasFor(){return this.parent}},aP="auto";class lP extends tC{constructor(t,e){super(),this.value=t,this.options=e,this.aboveAxis=Ak(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:t,labels:e}=this.options,s=this.value,n=this.fromPoint=new oP(s,zS({},this.options,{labels:e.from,markers:t.from})),i=this.toPoint=new oP(s,zS({},this.options,{labels:e.to,markers:t.to}));this.copyFields(n),this.copyFields(i),this.append(n),this.append(i)}reflow(t){this.render();const{from:e,to:s}=t;this.positionLabels(e,s),this.fromPoint.reflow(e),this.toPoint.reflow(s),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const t=new Lv;return t.append(this.fromPoint.createHighlight()),t.append(this.toPoint.createHighlight()),t}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}tooltipAnchor(){const t=this.owner.pane.clipBox();if(!t||t.overlaps(this.box)){const t=this.box,e=t.center(),s=fS;let n,i,r;return this.options.vertical?(n=e.x,i=t.y1-5,r=iS):(n=t.x2+5,i=e.y,r=rS),{point:new Nk(n,i),align:{horizontal:s,vertical:r}}}}formatValue(t){return this.owner.formatPointValue(this,t)}overlapsBox(t){return this.box.overlaps(t)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const t=this.options.labels;t.format||(t.from&&t.from.format||(t.from=Object.assign({},t.from,{format:"{0}"})),t.to&&t.to.format||(t.to=Object.assign({},t.to,{format:"{1}"})))}positionLabels(t,e){const{labels:s,vertical:n}=this.options;if(s.position===aP){let i,r;n?e.y1<=t.y1?(r=lT,i=hT):(r=hT,i=lT):e.x1<=t.x1?(r=fS,i=bS):(r=bS,i=fS),s.from&&s.from.position||(this.fromPoint.options.labels.position=i),s.to&&s.to.position||(this.toPoint.options.labels.position=r)}}copyFields(t){t.dataItem=this.dataItem,t.category=this.category,t.series=this.series,t.color=this.color,t.owner=this.owner}}zS(lP.prototype,mE),zS(lP.prototype,yE),lP.prototype.defaults={markers:{visible:!1,background:kS,size:8,type:oS,border:{width:2},opacity:1},labels:{visible:!1,margin:qS(3),padding:qS(4),animation:{type:nT,delay:sT},position:aP},notes:{label:{}},highlight:{markers:{border:{color:kS,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const hP=lP,cP=class extends LE{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),t}createStroke(t){const e=new q_(t),s=new q_(t);e.segments.push.apply(e.segments,this.strokeSegments()),s.segments.push.apply(s.segments,this.stackSegments()),this.visual.append(e),this.visual.append(s)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(t=>t.fromPoint)}toPoints(){return this.linePoints.map(t=>t.toPoint)}},uP=class extends cP{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),t}createCurveSegments(t){return(new HA).process(this.toGeometryPoints(t))}};class dP extends cP{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let t=this.fromSegments;return this.fromSegments||(t=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),t.reverse()),t}}zS(dP.prototype,SE);const pP=dP;class fP extends fE{render(){super.render(),this.renderSegments()}pointType(){return hP}createPoint(t,e){const{categoryIx:s,category:n,series:i,seriesIx:r}=e;let o=t.valueFields;if(!hM(o.from)&&!hM(o.to)){if(this.seriesMissingValues(i)!==oT)return null;o={from:0,to:0}}let a=this.pointOptions(i,r);a=this.evalPointOptions(a,o,n,s,i,r);let l=t.fields.color||i.color;FS(i.color)&&(l=a.color);const h=new hP(o,a);return h.color=l,this.append(h),h}createSegment(t,e,s){const n=(e.line||{}).style;let i;return i="smooth"===n?uP:"step"===n?pP:cP,new i(t,e,s)}plotRange(t,e){return t?[t.value.from,t.value.to]:[e,e]}valueSlot(t,e){const s=t.getSlot(e[0],e[0],!this.options.clip),n=t.getSlot(e[1],e[1],!this.options.clip);if(s&&n)return{from:s,to:n}}pointSlot(t,e){const{from:s,to:n}=e;let i,r;return this.options.invertAxes?(i=new Vk(s.x1,t.y1,s.x2,t.y2),r=new Vk(n.x1,t.y1,n.x2,t.y2)):(i=new Vk(t.x1,s.y1,t.x2,s.y2),r=new Vk(t.x1,n.y1,t.x2,n.y2)),{from:i,to:r}}addValue(t,e){const s=t.valueFields;OS(s.from)||(s.from=s.to),OS(s.to)||(s.to=s.from),super.addValue(t,e)}updateRange(t,e){if(null!==t&&OS(t.from)&&OS(t.to)){const s=e.series.axis,n=this.valueAxisRanges[s]=this.valueAxisRanges[s]||{min:gS,max:mS},{from:i,to:r}=t;n.min=Math.min(n.min,i,r),n.max=Math.max(n.max,i,r)}}formatPointValue(t,e){const s=t.value;return this.chartService.format.auto(e,s.from,s.to)}animationPoints(){const t=this.points,e=[];for(let s=0;s<t.length;s++){const n=t[s];n&&(e.push((n.fromPoint||{}).marker),e.push((n.toPoint||{}).marker))}return e.concat(this._segments)}}zS(fP.prototype,TE,IE);const gP=fP,mP=class extends tM{reflow(t){const{options:e,value:s,owner:n}=this,i=n.seriesValueAxis(e),r=[],o=[],a=[],l=i.getSlot(s.low,s.high),h=i.getSlot(s.open,s.open),c=i.getSlot(s.close,s.close);h.x1=c.x1=l.x1=t.x1,h.x2=c.x2=l.x2=t.x2;const u=l.center().x;r.push([h.x1,h.y1]),r.push([u,h.y1]),o.push([u,c.y1]),o.push([c.x2,c.y1]),a.push([u,l.y1]),a.push([u,l.y2]),this.lines=[r,o,a],this.box=l.clone().wrap(h.clone().wrap(c)),this.reflowNote()}createBody(){}},yP=class extends nM{pointType(){return mP}};class xP extends tC{constructor(t,e,s){super(),this.from=t,this.to=e,this.series=s}linePoints(){const t=this.from,{from:{box:e},to:{box:s}}=this,n=[];if(t.isVertical){const i=t.aboveAxis?e.y1:e.y2;n.push([e.x1,i],[s.x2,i])}else{const i=t.aboveAxis?e.x2:e.x1;n.push([i,e.y1],[i,s.y2])}return n}createVisual(){super.createVisual();const t=this.series.line||{},e=q_.fromPoints(this.linePoints(),{stroke:{color:t.color,width:t.width,opacity:t.opacity,dashType:t.dashType}});IS(e),this.visual.append(e)}}Mk(xP,{animation:{type:nT,delay:sT}});const vP=xP,bP=class extends KE{render(){super.render(),this.createSegments()}traverseDataPoints(t){const e=this.options.series,s=dE(e),n=!this.options.invertAxes;for(let i=0;i<e.length;i++){const r=e[i];let o=0,a=0;for(let e=0;e<s;e++){const s=KA.current.bindPoint(r,e),l=s.valueFields.value,h=s.fields.summary;let c,u=o;h?"total"===h.toLowerCase()?(s.valueFields.value=o,u=0,c=o):(s.valueFields.value=a,c=u-a,a=0):OS(l)&&(a+=l,o+=l,c=o),t(s,{category:this.categoryAxis.categoryAt(e),categoryIx:e,series:r,seriesIx:i,total:o,runningTotal:a,from:u,to:c,isVertical:n})}}}updateRange(t,e){super.updateRange({value:e.to},e)}aboveAxis(t){return t.value>=0}plotRange(t){return[t.from,t.to]}createSegments(){const t=this.options.series,e=this.seriesPoints,s=this.segments=[];for(let n=0;n<t.length;n++){const i=t[n],r=e[n];if(r){let t;for(let e=0;e<r.length;e++){const n=r[e];if(n&&t){const e=new vP(t,n,i);s.push(e),this.append(e)}t=n}}}}},_P=[dT,FT,IT,VT],wP=[wT,zT].concat(_P);class SP extends XM{initFields(t){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new zE,t.length>0){this.invertAxes=ok(t[0].type,[pT,mT,zT,FT,VT,RT,_T,NT]);for(let e=0;e<t.length;e++){const s=t[e].stack;if(s&&"100%"===s.type){this.stack100=!0;break}}}}render(t=this.panes){this.createCategoryAxes(t),this.aggregateCategories(t),this.createCategoryAxesLabels(t),this.createCharts(t),this.createValueAxes(t)}removeAxis(t){const e=t.options.name;super.removeAxis(t),t instanceof aA?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),t===this.categoryAxis&&delete this.categoryAxis,t===this.valueAxis&&delete this.valueAxis}createCharts(t){const e=this.groupSeriesByPane();for(let s=0;s<t.length;s++){const n=t[s],i=e[n.options.name||"default"]||[];this.addToLegend(i);const r=this.filterVisibleSeries(i);if(!r)continue;const o=this.groupSeriesByCategoryAxis(r);for(let t=0;t<o.length;t++)this.createChartGroup(o[t],n)}}createChartGroup(t,e){this.createAreaChart(NM(t,[dT,FT]),e),this.createRangeAreaChart(NM(t,[IT,VT]),e),this.createBarChart(NM(t,[xT,pT]),e),this.createRangeBarChart(NM(t,[OT,RT]),e),this.createBulletChart(NM(t,[mT,BT]),e),this.createCandlestickChart(NM(t,yT),e),this.createBoxPlotChart(NM(t,[fT,NT]),e),this.createOHLCChart(NM(t,ST),e),this.createWaterfallChart(NM(t,[jT,_T]),e),this.createLineChart(NM(t,[wT,zT]),e)}aggregateCategories(t){const e=this.srcSeries||this.series,s=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let n=0;n<e.length;n++){let i=e[n];const r=this.seriesCategoryAxis(i),o=this.findPane(r.options.pane);i=(FM(r.options.type,lS)||i.categoryField)&&ok(o,t)?this.aggregateSeries(i,r):this.filterSeries(i,r),s.push(i)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=s}filterSeries(t,e){const s=(t.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,s),!OS(e.options.min)&&!OS(e.options.max))return t;const n=e.currentRangeIndices(),i=ok(t.type,wP),r=zS({},t);return r.data=(r.data||[]).slice(n.min,n.max+1),i&&$M(r,n,s,s=>({item:t.data[s],category:e.categoryAt(s,!0),categoryIx:s-n.min}),e=>fk(t.data[e])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(t,e){const s=`${t.index};${e.categoriesHash()}`;if(this._seriesPointsCache[s])return this._currentPointsCache[s]=this._seriesPointsCache[s],this._seriesPointsCache[s];const n=e.options,i=n.srcCategories,r=FM(n.type,lS),o=t.data,a=r?BM:XA,l=[];r||e.mapCategories();for(let h=0;h<o.length;h++){let s;if(s=t.categoryField?a(t.categoryField,o[h],this.chartService.intl):i[h],fk(s)&&null!==s){const t=e.totalIndex(s);l[t]=l[t]||{items:[],category:s},l[t].items.push(h)}}return this._currentPointsCache[s]=l,l}aggregateSeries(t,e){if(!t.data.length)return t;const s=this.seriesSourcePoints(t,e),n=zS({},t),i=new JM(zS({},t),KA.current,eP.current),r=n.data=[],o=e.options.dataItems||[],a=e.currentRangeIndices(),l=t=>{const n=t-a.min;let r=s[t];if(r||(r=s[t]={}),r.categoryIx=n,!r.item){const s=e.categoryAt(t,!0);r.category=s,r.item=i.aggregatePoints(r.items,s)}return r};for(let h=a.min;h<=a.max;h++){const t=l(h);r[t.categoryIx]=t.item,t.items&&t.items.length&&(o[t.categoryIx]=t.item)}return ok(n.type,wP)&&$M(n,a,e.totalCount(),l,t=>s[t]),e.options.dataItems=o,n}appendChart(t,e){const s=t.options.series,n=this.seriesCategoryAxis(s[0]);let i=n.options.categories,r=Math.max(0,dE(s)-i.length);if(r>0)for(i=n.options.categories=n.options.categories.slice(0);r--;)i.push("");this.valueAxisRangeTracker.update(t.valueAxisRanges),super.appendChart(t,e)}seriesPaneName(t){const e=this.options,s=t.axis;return(nk([].concat(e.valueAxis),function(t){return t.name===s})[0]||{}).pane||((e.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(t){const e=t.categoryAxis,s=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!s)throw new Error("Unable to locate category axis with name "+e);return s}stackableChartOptions(t,e){const s=t.stack;return{isStacked:s,isStacked100:s&&"100%"===s.type,clip:e.options.clip}}groupSeriesByCategoryAxis(t){const e=[],s={};for(let i=0;i<t.length;i++){const n=t[i].categoryAxis||"$$default$$";s.hasOwnProperty(n)||(s[n]=!0,e.push(n))}const n=[];for(let i=0;i<e.length;i++){const s=CP(t,e[i],i);0!==s.length&&n.push(s)}return n}createBarChart(t,e){if(0===t.length)return;const s=t[0],n=new KE(this,Object.assign({series:t,invertAxes:this.invertAxes,gap:s.gap,spacing:s.spacing},this.stackableChartOptions(s,e)));this.appendChart(n,e)}createRangeBarChart(t,e){if(0===t.length)return;const s=t[0],n=new rP(this,{series:t,invertAxes:this.invertAxes,gap:s.gap,spacing:s.spacing});this.appendChart(n,e)}createBulletChart(t,e){if(0===t.length)return;const s=t[0],n=new _M(this,{series:t,invertAxes:this.invertAxes,gap:s.gap,spacing:s.spacing,clip:e.options.clip});this.appendChart(n,e)}createLineChart(t,e){if(0===t.length)return;const s=new OE(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t[0],e)));this.appendChart(s,e)}createAreaChart(t,e){if(0===t.length)return;const s=new BE(this,Object.assign({invertAxes:this.invertAxes,series:t},this.stackableChartOptions(t[0],e)));this.appendChart(s,e)}createRangeAreaChart(t,e){if(0===t.length)return;const s=new gP(this,{invertAxes:this.invertAxes,series:t,clip:e.options.clip});this.appendChart(s,e)}createOHLCChart(t,e){if(0===t.length)return;const s=t[0],n=new yP(this,{invertAxes:this.invertAxes,gap:s.gap,series:t,spacing:s.spacing,clip:e.options.clip});this.appendChart(n,e)}createCandlestickChart(t,e){if(0===t.length)return;const s=t[0],n=new nM(this,{invertAxes:this.invertAxes,gap:s.gap,series:t,spacing:s.spacing,clip:e.options.clip});this.appendChart(n,e)}createBoxPlotChart(t,e){if(0===t.length)return;const s=t[0],n=new aM(this,{invertAxes:this.invertAxes,gap:s.gap,series:t,spacing:s.spacing,clip:e.options.clip});this.appendChart(n,e)}createWaterfallChart(t,e){if(0===t.length)return;const s=t[0],n=new bP(this,{series:t,invertAxes:this.invertAxes,gap:s.gap,spacing:s.spacing});this.appendChart(n,e)}axisRequiresRounding(t,e){const s=NM(this.series,HT);for(let n=0;n<this.series.length;n++){const t=this.series[n];if(ok(t.type,_P)){const e=t.line;e&&e.style===uT&&s.push(t)}}for(let n=0;n<s.length;n++){const i=s[n].categoryAxis||"";if(i===t||!i&&0===e)return!0}}aggregatedAxis(t,e){const s=this.series;for(let n=0;n<s.length;n++){const i=s[n].categoryAxis||"";if((i===t||!i&&0===e)&&s[n].categoryField)return!0}}createCategoryAxesLabels(){const t=this.axes;for(let e=0;e<t.length;e++)t[e]instanceof aA&&t[e].createLabels()}createCategoryAxes(t){const e=this.invertAxes,s=[].concat(this.options.categoryAxis),n=[];for(let r=0;r<s.length;r++){let i=s[r];if(ok(this.findPane(i.pane),t)){const{name:t,categories:o=[]}=i;let a;if(i=zS({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?gS:0},i),fk(i.justified)||(i.justified=this.isJustified()),this.axisRequiresRounding(t,r)&&(i.justified=!1),a=zM(i,o[0])?new mA(i,this.chartService):new aA(i,this.chartService),s[r].categories=a.options.srcCategories,t){if(this.namedCategoryAxes[t])throw new Error(`Category axis with name ${t} is already defined`);this.namedCategoryAxes[t]=a}a.axisIndex=r,n.push(a),this.appendAxis(a)}}const i=this.categoryAxis||n[0];this.categoryAxis=i,e?this.axisY=i:this.axisX=i}isJustified(){const t=this.series;for(let e=0;e<t.length;e++)if(!ok(t[e].type,_P))return!1;return!0}createValueAxes(t){const e=this.valueAxisRangeTracker,s=e.query(),n=[].concat(this.options.valueAxis),i=this.invertAxes,r={vertical:!i,reverse:i&&this.chartService.rtl},o=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let l=0;l<n.length;l++){const i=n[l];if(ok(this.findPane(i.pane),t)){const t=i.name,n=FM(i.type,nE)?{min:.1,max:1}:{min:0,max:1},a=e.query(t)||s||n;let h;0===l&&a&&s&&(a.min=Math.min(a.min,s.min),a.max=Math.max(a.max,s.max)),h=FM(i.type,nE)?MA:SA;const c=new h(a.min,a.max,zS({},r,i),this.chartService);if(t){if(this.namedValueAxes[t])throw new Error(`Value axis with name ${t} is already defined`);this.namedValueAxes[t]=c}c.axisIndex=l,o.push(c),this.appendAxis(c)}}const a=this.valueAxis||o[0];this.valueAxis=a,i?this.axisX=a:this.axisY=a}_dispatchEvent(t,e,s){const n=t._eventCoordinates(e),i=new Nk(n.x,n.y),r=this.pointPane(i),o=[],a=[];if(!r)return;const l=r.axes;for(let h=0;h<l.length;h++){const t=l[h];t.getValue?OM(a,t.getValue(i)):OM(o,t.getCategory(i))}0===o.length&&OM(o,this.categoryAxis.getCategory(i)),o.length>0&&a.length>0&&t.trigger(s,{element:xk(e),originalEvent:e,category:VM(o),value:VM(a)})}pointPane(t){const e=this.panes;for(let s=0;s<e.length;s++){const n=e[s];if(n.contentBox.containsPoint(t))return n}}updateAxisOptions(t,e){kP(this.options,t,e),kP(this.originalOptions,t,e)}}function kP(t,e,s){zS([].concat(e instanceof aA?t.categoryAxis:t.valueAxis)[e.axisIndex],s)}function CP(t,e,s){return nk(t,function(t){return 0===s&&!t.categoryAxis||t.categoryAxis===e})}Mk(SP,{categoryAxis:{},valueAxis:{}}),zS(SP.prototype,YM);const AP=SP,TP={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},EP=class extends uw{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:const e=TP[t.field];e&&this.attr(e,t.value)}super.optionsChange(t)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.printPath(this.srcElement)}printPath(t){const e=t.segments,s=e.length;if(s>0){const n=[];let i,r;for(let t=1;t<s;t++){let s=this.segmentType(e[t-1],e[t]);s!==r&&(r=s,n.push(s)),n.push("L"===s?this.printPoints(e[t].anchor()):this.printPoints(e[t-1].controlOut(),e[t].controlIn(),e[t].anchor()))}return i="M"+this.printPoints(e[0].anchor())+" "+n.join(" "),t.options.closed&&(i+="Z"),i}}printPoints(){const t=arguments,e=t.length,s=[];for(let n=0;n<e;n++)s.push(t[n].toString(3));return s.join(" ")}segmentType(t,e){return t.controlOut()&&e.controlIn()?"C":"L"}mapStroke(t){const e=[];return t&&!Tv(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),tv(t.opacity)&&e.push(["stroke-opacity",t.opacity]),tv(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",rw]),e}renderStroke(){return ew(this.mapStroke(this.srcElement.options.stroke))}renderDashType(t){const{dashType:e,width:s=1}=t;if(e&&e!==t_){const t=Jb[e.toLowerCase()],n=[];for(let e=0;e<t.length;e++)n.push(t[e]*s);return n.join(" ")}}renderLinecap(t){const{dashType:e,lineCap:s}=t;return e&&"solid"!==e?e_:s}mapFill(t){const e=[];return t&&"Gradient"===t.nodeType||(t&&!Tv(t.color)?(e.push(["fill",t.color]),tv(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",rw])),e}renderFill(){return ew(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${tw("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}},MP=class extends EP{renderData(){return this.printPath(this.srcElement.toPath())}},PP=class extends EP{geometryChange(){const t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderTransform()} ></circle>`}},IP=class extends uw{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(t){"transform"===t.field&&this.transformChange(t.value),super.optionsChange(t)}},RP=/&/g,OP=/</g,LP=/"/g,DP=/'/g,FP=/>/g;function NP(t){return String(t).replace(RP,"&amp;").replace(OP,"&lt;").replace(FP,"&gt;").replace(LP,"&quot;").replace(DP,"&#39;")}const BP=class extends EP{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(t){"src"===t.field&&this.allAttr(this.mapSource()),super.optionsChange(t)}mapPosition(){const t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]}renderPosition(){return ew(this.mapPosition())}mapSource(t){let e=this.srcElement.src();return t&&(e=NP(e)),[["xlink:href",e]]}renderSource(){return ew(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}></image>`}},zP=class extends EP{renderData(){const t=this.srcElement.paths;if(t.length>0){const e=[];for(let s=0;s<t.length;s++)e.push(this.printPath(t[s]));return e.join(" ")}}},VP=class extends EP{geometryChange(){const t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.attr("rx",t.cornerRadius[0]),this.attr("ry",t.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},jP=/&(?:[a-zA-Z]+|#\d+);/g;function HP(t){if(!t||"string"!=typeof t||!jP.test(t))return t;const e=HP._element;return jP.lastIndex=0,t.replace(jP,t=>(e.innerHTML=t,e.textContent||e.innerText))}"undefined"!=typeof document&&(HP._element=document.createElement("span"));const UP=class extends EP{geometryChange(){const t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()}optionsChange(t){"font"===t.field?(this.attr("style",sw(this.mapStyle())),this.geometryChange()):"content"===t.field&&super.content(this.srcElement.content()),super.optionsChange(t)}mapStyle(t){const e=super.mapStyle(t);let s=this.srcElement.options.font;return t&&(s=NP(s)),e.push(["font",s],["white-space","pre"]),e}pos(){const t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)}renderContent(){let t=this.srcElement.content();return t=HP(t),t=NP(t),Fw(t)}renderTextAnchor(){let t;return!(this.options||{}).rtl||_b.browser.msie||_b.browser.edge||(t="end"),tw("text-anchor",t)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderFill()}>${this.renderContent()}</text>`}};nw.Arc=MP,nw.Circle=PP,nw.Group=IP,nw.Image=BP,nw.MultiPath=zP,nw.Path=EP,nw.Rect=VP,nw.Text=UP;const $P=class extends Yv{get type(){return"svg"}constructor(t,e){super(t,e),this._root=new xw(Object.assign({rtl:"rtl"===Vv(t,"direction").direction},this.options)),aw(this.element,this._template()),this._rootElement=this.element.firstElementChild,function(t){let e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(s){}if(e){const s=-e.e%1,n=-e.f%1,i=t.style;0===s&&0===n||(i.left=s+"px",i.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),Kv(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Jv(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(t){const e=`${Math.round(t.x)} ${Math.round(t.y)} ${this._size.width} ${this._size.height}`;this._offset=t,this._rootElement.setAttribute("viewBox",e)}draw(t){super.draw(t),this._root.load([t])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:t,_offset:e}=this;if(e){const s=new Lv;s.children.push(t),s.transform(Sv().translate(-e.x,-e.y)),t=s}return t}_resize(){this._offset&&this.translate(this._offset)}_template(){return`<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='${iw}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}};let qP,GP;const WP=()=>"undefined"!=typeof document;class QP extends Kx{static get support(){return GP||(GP={canvas:WP()&&document.createElement("canvas").getContext,svg:WP()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),GP}static get current(){return qP||(qP=new QP),qP}constructor(){super(),this._items=[{name:"svg",type:$P},{name:"canvas",type:Z_}]}create(t,e){const s=this._items;let n=s[0];if(e&&e.type){const t=e.type.toLowerCase();for(let e=0;e<s.length;e++)if(s[e].name===t){n=s[e];break}}if(n)return new n.type(t,e);uk(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const ZP=QP,XP=class extends Yv{static get support(){return ZP.support}static create(t,e){return ZP.current.create(t,e)}};function YP(){this._defaultPrevented=!0}const KP=class extends Kx{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(t,e){const s=[].concat(t);this.hide();for(let n=0;n<s.length;n++){const t=s[n];t&&t.toggleHighlight&&t.hasHighlight()&&(this.togglePointHighlight(t,!0,e),this._points.push(t))}}togglePointHighlight(t,e,s){const n=(t.options.highlight||{}).toggle;if(n){const i={category:t.category,series:t.series,dataItem:t.dataItem,value:t.value,stackValue:t.stackValue,preventDefault:YP,visual:t.highlightVisual(),show:e};n(i),i._defaultPrevented||t.toggleHighlight(e,s)}else t.toggleHighlight(e,s)}hide(){const t=this._points;for(;t.length;)this.togglePointHighlight(t.pop(),!1)}isHighlighted(t){const e=this._points;for(let s=0;s<e.length;s++)if(t===e[s])return!0;return!1}};function JP(t,e){const s=(e||"").toLowerCase(),n=t.event;return"none"===s&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[s+"Key"]}function tI(t){const e={};for(let s=0;s<t.length;s++){const n=t[s];n.axis.options.name&&(e[n.axis.options.name]={min:n.range.min,max:n.range.max})}return e}class eI extends Kx{constructor(t,e){super(),this.plotArea=t,this.options=zS({},this.options,e)}start(t){return this._active=JP(t,this.options.key),this._active}move(t){if(this._active){const e=this.axisRanges=this._panAxes(t,AS).concat(this._panAxes(t,TS));if(e.length)return this.axisRanges=e,tI(e)}}end(){const t=this._active;return this._active=!1,t}pan(){const{plotArea:t,axisRanges:e}=this;if(e.length){for(let s=0;s<e.length;s++){const n=e[s];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}}destroy(){delete this.plotArea}_panAxes(t,e){const s=this.plotArea,n=-t[e].delta,i=(this.options.lock||"").toLowerCase(),r=[];if(0!==n&&(i||"").toLowerCase()!==e){const t=s.axes;for(let s=0;s<t.length;s++){const i=t[s];if(e===AS&&!i.options.vertical||e===TS&&i.options.vertical){const t=i.pan(n);t&&(t.limitRange=!0,r.push({axis:i,range:t}))}}}return r}}eI.prototype.options={key:"none",lock:"none"};const sI=eI;class nI extends Kx{constructor(t,e){super(),this.chart=t,this.options=zS({},this.options,e),this.createElement()}createElement(){const t=this._marquee=document.createElement("div");t.className="k-marquee";const e=document.createElement("div");e.className="k-marquee-color",t.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(t){$S(this._marquee,t)}start(t){if(JP(t,this.options.key)){const e=this.chart,s=e._eventCoordinates(t),n=this._zoomPane=e._plotArea.paneByPoint(s),i=n?n.chartsBox().clone():null;if(n&&i){const e=this._elementOffset();return i.translate(e.left,e.top),this._zoomPaneClipBox=i,document.body.appendChild(this._marquee),this.setStyles({left:t.pageX+1,top:t.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const t=this.chart.element,{paddingLeft:e,paddingTop:s}=$S(t,["paddingLeft","paddingTop"]),n=mk(t);return{left:e+n.left,top:s+n.top}}move(t){this._zoomPane&&this.setStyles(this._selectionPosition(t))}end(t){if(this._zoomPane){const e=this._elementOffset(),s=this._selectionPosition(t);return s.left-=e.left,s.top-=e.top,this._updateAxisRanges({x:s.left,y:s.top},{x:s.left+s.width,y:s.top+s.height}),this.removeElement(),delete this._zoomPane,tI(this.axisRanges)}}zoom(){const t=this.axisRanges;if(t&&t.length){const e=this.chart._plotArea;for(let s=0;s<t.length;s++){const n=t[s];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(t,e){const s=(this.options.lock||"").toLowerCase(),n=[],i=this._zoomPane.axes;for(let r=0;r<i.length;r++){const o=i[r],a=o.options.vertical;if((s!==AS||a)&&(s!==TS||!a)&&fk(o.axisIndex)){const s=o.pointsRange(t,e);s&&n.push({axis:o,range:s})}}this.axisRanges=n}_selectionPosition(t){const e=this._zoomPaneClipBox,s={x:t.x.startLocation,y:t.y.startLocation},{x:{location:n},y:{location:i}}=t,r=(this.options.lock||"").toLowerCase();let o=Math.min(s.x,n),a=Math.min(s.y,i),l=Math.abs(s.x-n),h=Math.abs(s.y-i);return r===AS&&(o=e.x1,l=e.width()),r===TS&&(a=e.y1,h=e.height()),n>e.x2&&(l=e.x2-s.x),n<e.x1&&(l=s.x-e.x1),i>e.y2&&(h=e.y2-s.y),i<e.y1&&(h=s.y-e.y1),{left:Math.max(o,e.x1),top:Math.max(a,e.y1),width:l,height:h}}}nI.prototype.options={key:"shift",lock:"none"};const iI=nI,rI=class extends Kx{constructor(t,e){super(),this.chart=t,this.options=zS({},this.options,e)}updateRanges(t){const e=(this.options.lock||"").toLowerCase(),s=[],n=this.chart._plotArea.axes;for(let i=0;i<n.length;i++){const r=n[i],o=r.options.vertical;if((e!==AS||o)&&(e!==TS||!o)&&r.zoomRange){const e=r.zoomRange(-t);e&&s.push({axis:r,range:e})}}return this.axisRanges=s,tI(s)}zoom(){const t=this.axisRanges,e=this.chart._plotArea;if(t&&t.length&&e.updateAxisOptions){for(let s=0;s<t.length;s++){const n=t[s];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}}destroy(){delete this.chart}};function oI(t,e,s){const n=s.transform()||Sv(),i=n.matrix();i.e+=t.x-e.origin.x,i.f+=t.y-e.origin.y,n.matrix(i),s.transform(n)}function aI(t,e,s,n,i){let r;return r="start"===s?e.origin[n]:"end"===s?e.origin[n]+e.size[i]-t:e.origin[n]+(e.size[i]-t)/2,r}function lI(t,e,s,n,i){let r;return r="start"===s?e.origin[n]+e.size[i]-t:"end"===s?e.origin[n]:e.origin[n]+(e.size[i]-t)/2,r}const hI={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},cI=(t,e)=>{t.forEach(e)},uI=(t,e)=>{for(let s=t.length-1;s>=0;s--)e(t[s],s)},dI=class extends Lv{constructor(t,e){super(Object.assign({},hI,e)),this._rect=t,this._fieldMap={}}rect(t){return t?(this._rect=t,this):this._rect}_initMap(){const t=this.options,e=this._fieldMap;"horizontal"===t.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),t.reverse?(this.forEach=uI,this.justifyAlign=lI):(this.forEach=cI,this.justifyAlign=aI)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const t=this.options,e=this._rect,{groups:s,groupsSize:n}=this._initGroups(),{sizeField:i,groupsSizeField:r,groupAxis:o,groupsAxis:a}=this._fieldMap,l=new mv,h=new mv,c=new xv;let u,d,p,f=aI(n,e,t.alignContent,a,r);const g=(e,s)=>{const n=d.elements[s];h[o]=u,h[a]=aI(e.size[r],p,t.alignItems,a,r),oI(h,e,n),u+=e.size[i]+t.spacing};for(let m=0;m<s.length;m++)d=s[m],l[o]=u=this.justifyAlign(d.size,e,t.justifyContent,o,i),l[a]=f,c[i]=d.size,c[r]=d.lineSize,p=new bv(l,c),this.forEach(d.bboxes,g),f+=d.lineSize+t.lineSpacing;if(!t.wrap&&d.size>e.size[i]){const s=e.size[i]/p.size[i],n=p.topLeft().scale(s,s),l=aI(p.size[r]*s,e,t.alignContent,a,r),h=Sv();"x"===o?h.translate(e.origin.x-n.x,l-n.y):h.translate(l-n.x,e.origin.y-n.y),h.scale(s,s),this.transform(h)}}_initGroups(){const{options:t,children:e}=this,{lineSpacing:s,wrap:n,spacing:i}=t,r=this._fieldMap.sizeField;let o=this._newGroup();const a=[],l=function(){a.push(o),h+=o.lineSize+s};let h=-s;for(let c=0;c<e.length;c++){let t=e[c],s=e[c].clippedBBox();t.visible()&&s&&(n&&o.size+s.size[r]+i>this._rect.size[r]?0===o.bboxes.length?(this._addToGroup(o,s,t),l(),o=this._newGroup()):(l(),o=this._newGroup(),this._addToGroup(o,s,t)):this._addToGroup(o,s,t))}return o.bboxes.length&&l(),{groups:a,groupsSize:h}}_addToGroup(t,e,s){t.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,t.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],t.lineSize),t.bboxes.push(e),t.elements.push(s)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},pI=class extends tC{constructor(t,e){super(t),this.chartService=e}render(){const{children:t,options:e}=this,s=e.vertical;this.visual=new dI(null,{spacing:s?0:e.spacing,lineSpacing:s?e.spacing:0,orientation:s?"vertical":"horizontal",reverse:e.rtl,alignItems:s?"start":"center"});for(let n=0;n<t.length;n++){let e=t[n];e.reflow(new Vk),e.renderVisual()}}reflow(t){this.visual.rect(t.toRect()),this.visual.reflow();const e=this.visual.clippedBBox();this.box=e?gC(e):new Vk}renderVisual(){this.addVisual()}createVisual(){}},fI=class extends sC{constructor(t){super(t),this.createContainer(),t.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}createContainer(){this.container=new uC({vertical:!1,wrap:!1,align:rS,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.container.append(new iC(this.markerOptions()))}markerOptions(){const t=this.options,e=t.markerColor;return zS({},t.markers,{background:e,border:{color:e}})}createLabel(){const t=this.options,e=zS({},t.labels);this.container.append(new yC(t.text,e))}renderComplete(){super.renderComplete();const t=this.options.cursor||{},e=this._itemOverlay=q_.fromRect(this.container.box.toRect(),{fill:{color:kS,opacity:0},stroke:null,cursor:t.style||t});this.appendVisual(e)}click(t,e){const s=this.eventArgs(e);!t.trigger("legendItemClick",s)&&e&&"contextmenu"===e.type&&e.preventDefault()}over(t,e){const s=this.eventArgs(e);return t.trigger("legendItemHover",s)||t._legendItemHover(s.seriesIndex,s.pointIndex),!0}out(t,e){t._unsetActivePoint(),t.trigger("legendItemLeave",this.eventArgs(e))}eventArgs(t){const e=this.options;return{element:xk(t),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}renderVisual(){const t=this.options,e=t.visual;e?(this.visual=e({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{markers:this.markerOptions(),labels:t.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const t=this.visual;return delete this.visual,t}}),this.addVisual()):super.renderVisual()}},gI="horizontal",mI="custom";class yI extends tC{constructor(t,e={}){super(t),this.chartService=e,ok(this.options.position,[wS,bS,iS,fS,mI])||(this.options.position=bS),this.createContainers(),this.createLegendTitle(t.title),this.createItems()}createContainers(){const t=this.options,{position:e,align:s}=t;let n=e,i=rS;e===mI?n=fS:ok(e,[wS,iS])?(n="start"===s?fS:"end"===s?bS:rS,i=e):s&&("start"===s?i=wS:"end"===s&&(i=iS)),this.container=new sC({margin:t.margin,padding:t.padding,background:t.background,border:t.border,vAlign:i,align:n,zIndex:t.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new sC({vAlign:i,align:n,zIndex:t.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const t=this.getService(),e=this.options,s=this.isVertical(),n=new pI({vertical:s,spacing:e.spacing,rtl:t.rtl},t);let i=e.items;e.reverse&&(i=i.slice(0).reverse());const r=i.length;for(let o=0;o<r;o++)n.append(new fI(zS({},{markers:e.markers,labels:e.labels,rtl:t.rtl},e.item,i[o])));n.render(),this.itemsContainer.append(n)}isVertical(){const{orientation:t,position:e}=this.options;return e===mI&&t!==gI||(fk(t)?t!==gI:ok(e,[fS,bS]))}hasItems(){return this.container.children[0].children.length>0}reflow(t){const e=this.options,s=t.clone();this.hasItems()?(e.position===mI?(this.containerCustomReflow(s),this.box=s):this.containerReflow(s),this.hasTitle()&&this.title.reflow(new Vk(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=s}containerReflow(t){const{options:e,container:s}=this,{position:n,width:i,height:r}=e,o=n===wS||n===iS?AS:TS,a=this.isVertical(),l=t.clone();let h=t.clone();n!==fS&&n!==bS||(h.y1=l.y1=0),a&&r?(h.y2=h.y1+r,h.align(l,TS,s.options.vAlign)):!a&&i&&(h.x2=h.x1+i,h.align(l,AS,s.options.align)),s.reflow(h),h=s.box;const c=h.clone();(e.offsetX||e.offsetY)&&(h.translate(e.offsetX,e.offsetY),s.reflow(h)),c[o+1]=t[o+1],c[o+2]=t[o+2],this.box=c}containerCustomReflow(t){const{options:e,container:s}=this,{offsetX:n,offsetY:i,width:r,height:o}=e,a=this.isVertical();let l=t.clone();a&&o?l.y2=l.y1+o:!a&&r&&(l.x2=l.x1+r),s.reflow(l),l=s.box,s.reflow(new Vk(n,i,n+l.width(),i+l.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(t){let e=zS({},{color:nS,position:wS,align:rS},t),s=e.text;if(t&&!1!==t.visible){if(fk(e)&&e.visible){const t=JS(e);t?s=t({text:s}):e.format&&(s=this.chartService.format.auto(e.format,s))}this.title=new yC(s,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new uC({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return Boolean(this.options.title&&!1!==this.options.title.visible)}appendTitleLayoutContent(){this.options.title.position===iS?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}Mk(yI,{position:bS,items:[],offsetX:0,offsetY:0,margin:qS(5),padding:qS(5),border:{color:nS,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:fS,vAlign:rS}});const xI=yI;class vI extends Kx{constructor(){super(),this._registry=[]}register(t,e){this._registry.push({type:t,seriesTypes:e})}create(t,e,s){const n=this._registry;let i,r=n[0];for(let o=0;o<n.length;o++){const e=n[o];if(i=NM(t,e.seriesTypes),i.length>0){r=e;break}}return new r.type(i,e,s)}}vI.current=new vI;const bI=vI;function _I(t){const e=document.createElement("div");return t&&(e.className=t),e}function wI(t){let e=t;for(;e&&!ik(e,"k-handle");)e=e.parentNode;return e}class SI extends Kx{constructor(t,e,s,n){super();const i=t.element;this.options=zS({},this.options,s),this.chart=t,this.observer=n,this.chartElement=i,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof mA,this.initOptions(),this.visible=this.options.visible&&i.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(t){return this.categoryAxis.pane===t}createElements(){const t=this.options,e=this.wrapper=_I("k-selector");$S(e,{top:t.offset.top,left:t.offset.left,width:t.width,height:t.height,direction:"ltr"});const s=this.selection=_I("k-selection");this.leftMask=_I("k-mask"),this.rightMask=_I("k-mask"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(s),s.appendChild(_I("k-selection-bg"));const n=this.leftHandle=_I("k-handle k-left-handle"),i=this.rightHandle=_I("k-handle k-right-handle");n.appendChild(_I()),i.appendChild(_I()),s.appendChild(n),s.appendChild(i),this.chartElement.appendChild(e);const r=$S(s,["borderLeftWidth","borderRightWidth","height"]),o=$S(n,"height").height,a=$S(i,"height").height;t.selection={border:{left:r.borderLeftWidth,right:r.borderRightWidth}},$S(n,{top:(r.height-o)/2}),$S(i,{top:(r.height-a)/2}),e.style.cssText=e.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),pk(this.wrapper,{[aE]:this._mousewheelHandler})),this._domEvents=YS.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:t,categoryAxis:e}=this,s=e.pane.chartsBox(),n=this.chart.chartService.intl;this._dateAxis&&zS(t,{min:nA(n,t.min),max:nA(n,t.max),from:nA(n,t.from),to:nA(n,t.to)});const{paddingLeft:i,paddingTop:r}=$S(this.chartElement,["paddingLeft","paddingTop"]);this.options=zS({},{width:s.width(),height:s.height()+.1,padding:{left:i,top:r},offset:{left:s.x1+i,top:s.y1+r},from:t.min,to:t.max},t)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(Ck(this.wrapper,{[aE]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(t){return{axis:this.categoryAxis.options,from:this._value(t.from),to:this._value(t.to)}}_start(t){const e=this.options,s=xk(t);if(this._state||!s)return;this.chart._unsetActivePoint(),this._state={moveTarget:wI(s)||s,startLocation:t.x?t.x.location:0,range:{from:this._index(e.from),to:this._index(e.to)}};const n=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(KT,n)&&(this._state=null)}_press(t){let e;e=this._state?this._state.moveTarget:wI(xk(t)),e&&MS(e,"k-handle-active")}_move(t){if(!this._state)return;const{_state:e,options:s,categoryAxis:n}=this,{range:i,moveTarget:r}=e,o=n.options.reverse,a=this._index(s.from),l=this._index(s.to),h=this._index(s.min),c=this._index(s.max),u=e.startLocation-t.x.location,d=i.from,p=i.to,f=i.to-i.from,g=$S(this.wrapper,"width").width/(n.categoriesCount()-1),m=Math.round(u/g)*(o?-1:1);if(!r)return;const y=ik(r,"k-left-handle"),x=ik(r,"k-right-handle");ik(r,"k-selection k-selection-bg")?(i.from=Math.min(Math.max(h,a-m),c-f),i.to=Math.min(i.from+f,c)):y&&!o||x&&o?(i.from=Math.min(Math.max(h,a-m),c-1),i.to=Math.max(i.from+1,i.to)):(y&&o||x&&!o)&&(i.to=Math.min(Math.max(h+1,l-m),c),i.from=Math.min(i.to-1,i.from)),i.from===d&&i.to===p||(this.move(i.from,i.to),this.trigger(JT,this._rangeEventArgs(i)))}_end(){if(this._state){const e=this._state.moveTarget;e&&(t=e)&&t.className&&(t.className=t.className.replace("k-handle-active","").replace(PS," "));const s=this._state.range;this.set(s.from,s.to),this.trigger(tE,this._rangeEventArgs(s)),delete this._state}var t}_tap(t){const{options:e,categoryAxis:s}=this,n=this.chart._eventCoordinates(t),i=s.pointCategoryIndex(new Nk(n.x,s.box.y1)),r=this._index(e.from),o=this._index(e.to),a=this._index(e.min),l=this._index(e.max),h=o-r,c={},u=3===t.event.which;let d=Math.round(r+h/2-i);this._state||u||(this.chart._unsetActivePoint(),s.options.justified||d--,c.from=Math.min(Math.max(a,r-d),l-h),c.to=Math.min(c.from+h,l),this._start(t),this._state&&(this._state.range=c,this.trigger(JT,this._rangeEventArgs(c)),this._end()))}_mousewheel(t){let e=ck(t);if(this._start({target:this.selection}),this._state){const s=this._state.range;t.preventDefault(),t.stopPropagation(),Math.abs(e)>1&&(e*=3),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger(JT,{axis:this.categoryAxis.options,delta:e,originalEvent:t,from:this._value(s.from),to:this._value(s.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(t){const e=this.options;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};const s=this._rangeEventArgs(this._state.range);this.trigger(KT,s)?this._state=null:t.preventDefault()}_gestureend(){this._state&&(this.trigger(tE,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(t){const{chart:e,_state:s,options:n,categoryAxis:i}=this,r=s.range,o=e._toModelCoordinates(t.touches[0].x.location).x,a=e._toModelCoordinates(t.touches[1].x.location).x,l=Math.min(o,a),h=Math.max(o,a);t.preventDefault(),r.from=i.pointCategoryIndex(new Nk(l))||n.min,r.to=i.pointCategoryIndex(new Nk(h))||n.max,this.move(r.from,r.to),this.trigger(JT,this._rangeEventArgs(r))}_index(t){let e=t;return t instanceof Date&&(e=this.categoryAxis.categoryIndex(t)),e}_value(t){let e=t;return this._dateAxis&&(e=this.categoryAxis.categoryAt(t),e>this.options.max&&(e=this.options.max)),e}_slot(t){const e=this.categoryAxis,s=this._index(t);return e.getSlot(s,s,!0)}move(t,e){const s=this.options,n=this.categoryAxis.options.reverse,{offset:i,padding:r,selection:{border:o}}=s,a=n?t:e,l="x"+(n?2:1);let h=this._slot(n?e:t);const c=kk(h[l]-i.left+r.left);$S(this.leftMask,{width:c}),$S(this.selection,{left:c}),h=this._slot(a);const u=kk(s.width-(h[l]-i.left+r.left));$S(this.rightMask,{width:u});let d=s.width-u;d!==s.width&&(d+=o.right),$S(this.rightMask,{left:d}),$S(this.selection,{width:Math.max(s.width-(c+u)-o.right,0)})}set(t,e){const s=this.options,n=this._index(s.min),i=this._index(s.max),r=_k(this._index(t),n,i),o=_k(this._index(e),r+1,i);s.visible&&this.move(r,o),s.from=this._value(r),s.to=this._value(o)}expand(t){const e=this.options,s=this._index(e.min),n=this._index(e.max),i=e.mousewheel.zoom,r=this._index(e.from),o=this._index(e.to);let a={from:r,to:o};const l=zS({},a);if(this._state&&(a=this._state.range),i!==bS&&(a.from=_k(_k(r-t,0,o-1),s,n)),i!==fS&&(a.to=_k(_k(o+t,a.from+1,n),s,n)),a.from!==l.from||a.to!==l.to)return this.set(a.from,a.to),!0}trigger(t,e){return(this.observer||this.chart).trigger(t,e)}}Mk(SI,{visible:!0,mousewheel:{zoom:"both"},min:mS,max:gS});const kI=SI,CI=class extends SM{show(t){if(!t||!t.tooltipAnchor||this._current&&this._current===t)return;const e=zS({},this.options,t.options.tooltip),s=t.tooltipAnchor();s?(this._current=t,super.show({point:t,anchor:s},e,t)):this.hide()}hide(){delete this._current,super.hide()}};class AI extends SM{constructor(t,e){super(t.chartService,e),this.plotArea=t,this.formatService=t.chartService.format}showAt(t,e){const s=nk(t,function(t){const e=t.series.tooltip;return!(e&&!1===e.visible)});if(s.length>0){const n=s[0],i=this.plotArea.categoryAxis.getSlot(n.categoryIx),r=e?this._slotAnchor(e,i):this._defaultAnchor(n,i);this.show({anchor:r,shared:!0,points:t,category:n.category,categoryText:this.formatService.auto(this.options.categoryFormat,n.category),series:this.plotArea.series},this.options)}}_slotAnchor(t,e){return this.plotArea.categoryAxis.options.vertical||(t.x=e.center().x),{point:t,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(t,e){const s=t.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,i=s.center(),r=e.center();let o;return o=n?new Nk(i.x,r.y):new Nk(r.x,i.y),{point:o,align:{horizontal:"center",vertical:"center"}}}}Mk(AI,{categoryFormat:"{0:d}"});const TI=AI;class EI extends Kk{setup(){const{element:t,options:e}=this;if(t.bbox()){this.origin=e.origin;const s=e.vertical?TS:AS,n=this.fromScale=new mv(1,1);n[s]=rT,t.transform(Sv().scale(n.x,n.y))}else this.abort()}step(t){const e=ak(this.fromScale.x,1,t),s=ak(this.fromScale.y,1,t);this.element.transform(Sv().scale(e,s,this.origin))}abort(){super.abort(),this.element.transform(null)}}Mk(EI,{duration:sT}),Yk.current.register(pT,EI);class MI extends Kk{setup(){const t=this.center=this.element.bbox().center();this.element.transform(Sv().scale(rT,rT,t))}step(t){this.element.transform(Sv().scale(t,t,this.center))}}Mk(MI,{easing:"easeOutElastic"}),Yk.current.register(gT,MI);class PI extends Kk{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(t){this.element.opacity(t*this.fadeTo)}}Mk(PI,{duration:200,easing:"linear"}),Yk.current.register(nT,PI);class II extends Kk{setup(){this.element.transform(Sv().scale(rT,rT,this.options.center))}step(t){this.element.transform(Sv().scale(t,t,this.options.center))}}Mk(II,{easing:"easeOutElastic",duration:sT}),Yk.current.register(kT,II);class RI extends uM{render(){super.render(),this.renderSegments()}createSegment(t,e,s){let n;return n=e.style===cT?AE:_E,new n(t,e,s)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(t,e){if(e===oT){const e={x:t.x,y:t.y};return hM(e.x)||(e.x=0),hM(e.y)||(e.y=0),e}}}zS(RI.prototype,TE);const OI=RI;class LI extends XM{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new zE,this.yAxisRangeTracker=new zE}render(t=this.panes){const e=this.groupSeriesByPane();for(let s=0;s<t.length;s++){const n=t[s],i=e[n.options.name||"default"]||[];this.addToLegend(i);const r=this.filterVisibleSeries(i);r&&(this.createScatterChart(NM(r,LT),n),this.createScatterLineChart(NM(r,DT),n),this.createBubbleChart(NM(r,gT),n))}this.createAxes(t)}appendChart(t,e){this.xAxisRangeTracker.update(t.xAxisRanges),this.yAxisRangeTracker.update(t.yAxisRanges),super.appendChart(t,e)}removeAxis(t){const e=t.options.name;super.removeAxis(t),t.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),t===this.axisX&&delete this.axisX,t===this.axisY&&delete this.axisY}seriesPaneName(t){const e=this.options,s=t.xAxis,n=nk([].concat(e.xAxis),function(t){return t.name===s})[0],i=t.yAxis,r=nk([].concat(e.yAxis),function(t){return t.name===i})[0];return(n||{}).pane||(r||{}).pane||(e.panes||[{}])[0].name||"default"}createScatterChart(t,e){t.length>0&&this.appendChart(new uM(this,{series:t,clip:e.options.clip}),e)}createScatterLineChart(t,e){t.length>0&&this.appendChart(new OI(this,{series:t,clip:e.options.clip}),e)}createBubbleChart(t,e){t.length>0&&this.appendChart(new gM(this,{series:t,clip:e.options.clip}),e)}createXYAxis(t,e,s){const n=t.name,i=e?this.namedYAxes:this.namedXAxes,r=e?this.yAxisRangeTracker:this.xAxisRangeTracker,o=zS({reverse:!e&&this.chartService.rtl},t,{vertical:e}),a=FM(o.type,nE),l=r.query(),h=a?{min:.1,max:1}:{min:0,max:1},c=r.query(n)||l||h,u=[o.min,o.max],d=this.series;for(let m=0;m<d.length;m++){const t=d[m],n=t[e?"yAxis":"xAxis"];if(n===o.name||0===s&&!n){const s=KA.current.bindPoint(t,0).valueFields;u.push(s[e?"y":"x"]);break}}let p,f;0===s&&l&&(c.min=Math.min(c.min,l.min),c.max=Math.max(c.max,l.max));for(let m=0;m<u.length;m++)if(u[m]instanceof Date){p=!0;break}f=FM(o.type,lS)||!o.type&&p?CA:a?MA:SA;const g=new f(c.min,c.max,o,this.chartService);if(g.axisIndex=s,n){if(i[n])throw new Error(`${e?"Y":"X"} axis with name ${n} is already defined`);i[n]=g}return this.appendAxis(g),g}createAxes(t){const e=this.options,s=[].concat(e.xAxis),n=[],i=[].concat(e.yAxis),r=[];for(let o=0;o<s.length;o++)ok(this.findPane(s[o].pane),t)&&n.push(this.createXYAxis(s[o],!1,o));for(let o=0;o<i.length;o++)ok(this.findPane(i[o].pane),t)&&r.push(this.createXYAxis(i[o],!0,o));this.axisX=this.axisX||n[0],this.axisY=this.axisY||r[0]}_dispatchEvent(t,e,s){const n=t._eventCoordinates(e),i=new Nk(n.x,n.y),r=this.axes,o=r.length,a=[],l=[];for(let h=0;h<o;h++){const t=r[h],e=t.options.vertical?l:a,s=t.getValue(i);null!==s&&e.push(s)}a.length>0&&l.length>0&&t.trigger(s,{element:xk(e),originalEvent:e,x:VM(a),y:VM(l)})}updateAxisOptions(t,e){const s=t.options.vertical,n=this.groupAxes(this.panes),i=(s?n.y:n.x).indexOf(t);DI(this.options,i,s,e),DI(this.originalOptions,i,s,e)}}function DI(t,e,s,n){zS([].concat(s?t.yAxis:t.xAxis)[e],n)}Mk(LI,{xAxis:{},yAxis:{}}),zS(LI.prototype,YM);const FI=LI;class NI extends tC{constructor(t,e,s){super(s),this.value=t,this.sector=e}render(){const t=this.options.labels,e=this.owner.chartService;let s=this.value;if(this._rendered||!1===this.visible)return;this._rendered=!0;const n=JS(t),i=this.pointData();if(n?s=n(i):t.format&&(s=e.format.auto(t.format,s)),t.visible&&(s||0===s)){if(t.position===rS||t.position===rE){if(!t.color){const e=new gE(this.options.color).percBrightness();t.color=e>180?nS:kS}t.background||(t.background=this.options.color)}else{const s=e.theme.seriesDefaults.labels;t.color=t.color||s.color,t.background=t.background||s.background}this.label=new yC(s,zS({},t,{align:rS,vAlign:"",animation:{type:nT,delay:this.animationDelay}}),i),this.append(this.label)}}reflow(t){this.render(),this.box=t,this.reflowLabel()}reflowLabel(){const{options:{labels:t},label:e}=this,s=this.sector.clone(),n=t.distance,i=s.middle();if(e){const r=e.box.height(),o=e.box.width();let a;if(t.position===rS)s.radius=Math.abs((s.radius-r)/2)+r,a=s.point(i),e.reflow(new Vk(a.x,a.y-r/2,a.x,a.y));else if(t.position===rE)s.radius=s.radius-r/2,a=s.point(i),e.reflow(new Vk(a.x,a.y-r/2,a.x,a.y));else{let t;a=s.clone().expand(n).point(i),a.x>=s.center.x?(t=a.x+o,e.orientation=bS):(t=a.x-o,e.orientation=fS),e.reflow(new Vk(t,a.y-r,a.x,a.y))}}}createVisual(){const{sector:t,options:e}=this;if(super.createVisual(),this.value)if(e.visual){const s=(t.startAngle+180)%360,n=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new mv(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:s,endAngle:s+t.angle,options:e,sender:this.getSender(),createVisual:()=>{const t=new Lv;return this.createSegmentVisual(t),t}});n&&this.visual.append(n)}else this.createSegmentVisual(this.visual)}createSegmentVisual(t){const{sector:e,options:s}=this,n=s.border||{},i=s.color,r={color:i,opacity:s.opacity},o=this.createSegment(e,zS({fill:r,stroke:{opacity:s.opacity},zIndex:s.zIndex},n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{}));t.append(o),HE(s)&&t.append(this.createGradientOverlay(o,{baseColor:i,fallbackFill:r},zS({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},s.overlay)))}createSegment(t,e){return e.singleSegment?new tS(new Sw(new mv(t.center.x,t.center.y),t.radius),e):qk.current.createRing(t,e)}createAnimation(){const{options:t,sector:{center:e}}=this;zS(t,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(t){const e=this.options.highlight||{},s=e.border||{};return this.createSegment(this.sector,zS({},t,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:s.opacity,width:s.width,color:s.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const t=this.sector;return{options:this.options,radius:t.radius,innerRadius:t.innerRadius,center:new mv(t.center.x,t.center.y),startAngle:t.startAngle,endAngle:t.angle+t.startAngle,visual:this.visual}}tooltipAnchor(){const t=this.sector.clone().expand(5),e=t.middle();return{point:t.point(e),align:VI(e+180)}}formatValue(t){return this.owner.formatPointValue(this,t)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}const BI=kk(Sk(30),cS),zI=kk(Sk(60),cS);function VI(t){const e=Sk(t),s=kk(Math.sin(e),cS),n=kk(Math.cos(e),cS);let i,r;return i=Math.abs(s)>zI?rS:n<0?bS:fS,r=Math.abs(s)<BI?rS:s<0?iS:wS,{horizontal:i,vertical:r}}Mk(NI,{color:kS,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:hS,margin:qS(.5),align:oS,zIndex:1,position:oE},animation:{type:kT},highlight:{visible:!0,border:{width:1}},visible:!0}),zS(NI.prototype,mE);const jI=NI,HI={createLegendItem:function(t,e,s){const n=this.options.legend||{},i=n.labels||{},r=n.inactiveItems||{},o=r.labels||{};if(s&&!1!==s.visibleInLegend){const n=!1!==s.visible,a=n?JS(i):JS(o)||JS(i);let l,h,c=s.category;a&&(c=a({text:c,series:s.series,dataItem:s.dataItem,percentage:s.percentage,value:t})),n?(l={},h=e.color):(l={color:o.color,font:o.font},h=(r.markers||{}).color),hM(c)&&""!==c&&this.legendItems.push({active:n,pointIndex:s.index,text:c,series:s.series,markerColor:h,labels:l})}}};class UI extends tC{constructor(t,e){super(e),this.plotArea=t,this.chartService=t.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(t){const{options:e,plotArea:{options:{seriesColors:s=[]}}}=this,n=s.length,i=e.series,r=i.length;for(let o=0;o<r;o++){const a=i[o],l=a.data,{total:h,points:c,count:u}=DM(a),d=360/h;let p,f;isFinite(d)||(p=360/u),f=fk(a.startAngle)?a.startAngle:e.startAngle,o!==r-1&&a.labels.position===oE&&(a.labels.position=rS);for(let e=0;e<c.length;e++){const i=c[e];if(!i)continue;const{fields:u,value:g,visible:m}=i,y=0!==g?p||g*d:0,x=1!==l.length&&Boolean(u.explode);FS(a.color)||(a.color=u.color||s[e%n]),t(i.valueFields.value,new Uk(null,0,0,f,y),{owner:this,category:fk(u.category)?u.category:"",index:e,series:a,seriesIx:o,dataItem:l[e],percentage:0!==h?g/h:0,explode:x,visibleInLegend:u.visibleInLegend,visible:m,zIndex:r-o,animationDelay:this.animationDelay(e,o,r)}),!1!==m&&(f+=y)}}}evalSegmentOptions(t,e,s){const n=s.series;uE(t,{value:e,series:n,dataItem:s.dataItem,category:s.category,percentage:s.percentage},{defaults:n._defaults,excluded:["data","content","template","visual","toggle"]})}addValue(t,e,s){const n=zS({},s.series,{index:s.index});if(this.evalSegmentOptions(n,t,s),this.createLegendItem(t,n,s),!1===s.visible)return;const i=new jI(t,e,n);Object.assign(i,s),this.append(i),this.points.push(i)}reflow(t){const{options:e,points:s,seriesConfigs:n=[]}=this,i=s.length,r=t.clone(),o=Math.min(r.width(),r.height()),a=o/2,l=o-.85*o,h=new Vk(r.x1,r.y1,r.x1+o,r.y1+o),c=h.center(),u=r.center(),d=e.series.length,p=[],f=[];let g=Ak(e.padding,l);this.targetBox=t,g=g>a-5?a-5:g,h.translate(u.x-c.x,u.y-c.y);const m=a-g,y=new Nk(m+h.x1+g,m+h.y1+g);for(let x=0;x<i;x++){const t=s[x],e=t.sector,i=t.seriesIx;if(e.radius=m,e.center=y,n.length){const t=n[i];e.innerRadius=t.innerRadius,e.radius=t.radius}i===d-1&&t.explode&&(e.center=e.clone().setRadius(.15*e.radius).point(e.middle())),t.reflow(h);const r=t.label;r&&r.options.position===oE&&i===d-1&&(r.orientation===bS?f.push(r):p.push(r))}p.length>0&&(p.sort(this.labelComparator(!0)),this.leftLabelsReflow(p)),f.length>0&&(f.sort(this.labelComparator(!1)),this.rightLabelsReflow(f)),this.box=h}leftLabelsReflow(t){const e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}rightLabelsReflow(t){const e=this.distanceBetweenLabels(t);this.distributeLabels(e,t)}distanceBetweenLabels(t){const e=bk(this.points),s=e.sector,n=t.length-1,i=s.radius+e.options.labels.distance,r=[];let o=t[0].box,a=kk(o.y1-(s.center.y-i-o.height()-o.height()/2));r.push(a);for(let l=0;l<n;l++)o=t[l].box,a=kk(t[l+1].box.y1-o.y2),r.push(a);return a=kk(s.center.y+i-t[n].box.y2-t[n].box.height()/2),r.push(a),r}distributeLabels(t,e){const s=t.length;let n,i,r;for(let o=0;o<s;o++)for(r=-t[o],n=i=o;r>0&&(n>=0||i<s);)r=this._takeDistance(t,o,--n,r),r=this._takeDistance(t,o,++i,r);this.reflowLabels(t,e)}_takeDistance(t,e,s,n){let i=n;if(t[s]>0){const n=Math.min(t[s],i);i-=n,t[s]-=n,t[e]+=n}return i}reflowLabels(t,e){const s=bk(this.points),n=s.sector,i=s.options.labels,r=e.length,o=i.distance;let a,l=n.center.y-(n.radius+o)-e[0].box.height();t[0]+=2;for(let h=0;h<r;h++){const s=e[h],r=s.box;l+=t[h],a=this.hAlignLabel(r.x2,n.clone().expand(o),l,l+r.height(),s.orientation===bS),s.orientation===bS?(i.align!==oS&&(a=n.radius+n.center.x+o),s.reflow(new Vk(a+r.width(),l,a,l))):(i.align!==oS&&(a=n.center.x-n.radius-o),s.reflow(new Vk(a-r.width(),l,a,l))),l+=r.height()}}createVisual(){const{options:{connectors:t},points:e}=this,s=e.length;super.createVisual(),this._connectorLines=[];for(let n=0;n<s;n++){const s=e[n],{sector:i,label:r}=s,o=i.middle(),a=(s.options.connectors||{}).color||t.color;if(r){const e=new q_({stroke:{color:a,width:t.width},animation:{type:nT,delay:s.animationDelay}});if(r.options.position===oE){const n=r.box,a=i.center;let l,h,c,u=i.point(o),d=new Nk(n.x1,n.center().y);u=i.clone().expand(t.padding).point(o),e.moveTo(u.x,u.y),r.orientation===bS?(h=new Nk(n.x1-t.padding,n.center().y),c=$I(a,u,d,h),d=new Nk(h.x-4,h.y),c=c||d,c.x=Math.min(c.x,d.x),this.pointInCircle(c,i.center,i.radius+4)||c.x<i.center.x?(l=i.center.x+i.radius+4,e.lineTo(s.options.labels.align!==xT?l<d.x?l:u.x+8:l,u.y),e.lineTo(d.x,h.y)):(c.y=h.y,e.lineTo(c.x,c.y))):(h=new Nk(n.x2+t.padding,n.center().y),c=$I(a,u,d,h),d=new Nk(h.x+4,h.y),c=c||d,c.x=Math.max(c.x,d.x),this.pointInCircle(c,i.center,i.radius+4)||c.x>i.center.x?(l=i.center.x-i.radius-4,e.lineTo(s.options.labels.align!==xT?l>d.x?l:u.x-8:l,u.y),e.lineTo(d.x,h.y)):(c.y=h.y,e.lineTo(c.x,c.y))),e.lineTo(h.x,h.y),this._connectorLines.push(e),this.visual.append(e)}}}}renderVisual(){if(super.renderVisual(),Ik(this.options.series,t=>t.autoFit)){const t=this.targetBox,e=this.box.center(),s=this.visual.bbox();if(!s)return;const n=s.bottomRight(),i=Math.min((e.y-t.y1)/(e.y-s.origin.y),(t.y2-e.y)/(n.y-e.y),(e.x-t.x1)/(e.x-s.origin.x),(t.x2-e.x)/(n.x-e.x));i<1&&this.visual.transform(Sv().scale(i,i,[e.x,e.y]))}}labelComparator(t){const e=t?-1:1;return function(t,s){return((t.parent.sector.middle()+270)%360-(s.parent.sector.middle()+270)%360)*e}}hAlignLabel(t,e,s,n,i){const{radius:r,center:{x:o,y:a}}=e,l=Math.min(Math.abs(a-s),Math.abs(a-n));return l>r?t:o+Math.sqrt(r*r-l*l)*(i?1:-1)}pointInCircle(t,e,s){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(s,2)}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}animationDelay(t){return 70*t}stackRoot(){return this}}function $I(t,e,s,n){const i=(n.y-s.y)*(e.x-t.x)-(n.x-s.x)*(e.y-t.y);let r;if(0!==i){const o=((n.x-s.x)*(t.y-s.y)-(n.y-s.y)*(t.x-s.x))/i;r=new Nk(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y))}return r}Mk(UI,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),zS(UI.prototype,HI),UI.prototype.isStackRoot=!0;const qI=UI,GI=class extends XM{render(){this.createPieChart(this.series)}createPieChart(t){const e=t[0],s=new qI(this,{series:t,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(s)}appendChart(t,e){super.appendChart(t,e),dk(this.options.legend.items,t.legendItems)}};class WI extends jI{reflowLabel(){const{options:{labels:t},label:e}=this,s=this.sector.clone(),n=s.middle();if(e){const i=e.box.height();if(t.position===rS){s.radius-=(s.radius-s.innerRadius)/2;const t=s.point(n);e.reflow(new Vk(t.x,t.y-i/2,t.x,t.y))}else super.reflowLabel()}}createSegment(t,e){return qk.current.createRing(t,e)}}Mk(WI,{overlay:{gradient:"roundedGlass"},labels:{position:rS},animation:{type:kT}}),zS(WI.prototype,mE);const QI=WI;class ZI extends qI{addValue(t,e,s){const n=zS({},s.series,{index:s.index});if(this.evalSegmentOptions(n,t,s),this.createLegendItem(t,n,s),!t||!1===s.visible)return;const i=new QI(t,e,n);Object.assign(i,s),this.append(i),this.points.push(i)}reflow(t){const e=this.options,s=t.clone(),n=Math.min(s.width(),s.height()),i=n/2,r=e.series,o=r.length;let a=Ak(e.padding,n-.85*n);a=a>i-5?i-5:a;let l,h=i-a,c=0;for(let g=0;g<o;g++){const t=r[g];0===g&&fk(t.holeSize)&&(l=t.holeSize,h-=t.holeSize),fk(t.size)?h-=t.size:c++,fk(t.margin)&&g!==o-1&&(h-=t.margin)}fk(l)||(l=(i-a)/(o+.75)*.75,h-=l);let u,d,p=l,f=0;this.seriesConfigs=[];for(let g=0;g<o;g++){const t=r[g];u=Ak(t.size,h/c),p+=f,d=p+u,this.seriesConfigs.push({innerRadius:p,radius:d}),f=t.margin||0,p=d}super.reflow(t)}animationDelay(t,e,s){return 50*t+sT*(e+1)/(s+1)}}Mk(ZI,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const XI=ZI,YI=class extends XM{initFields(){this.valueAxisRangeTracker=new zE}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const t=this.valueAxis,e=t.range(),s=t.getSlot(t.options.reverse?e.max:e.min),n=this.polarAxis.getSlot(0).center,i=t.box.translate(n.x-s.x1,n.y-s.y1);t.reflow(i)}createValueAxis(){const t=this.valueAxisRangeTracker,e=t.query(),s=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let n,i;s.type===nE?(n=VA,i={min:.1,max:1}):(n=BA,i={min:0,max:1});const r=t.query(name)||e||i;r&&e&&(r.min=Math.min(r.min,e.min),r.max=Math.max(r.max,e.max));const o=new n(r.min,r.max,s,this.chartService);this.valueAxis=o,this.appendAxis(o)}reflowAxes(){const{options:{plotArea:t},valueAxis:e,polarAxis:s,box:n}=this,i=.15*Math.min(n.width(),n.height()),r=qS(t.padding||{},i),o=n.clone().unpad(r),a=o.clone();a.y2=a.y1+Math.min(a.width(),a.height()),a.align(o,TS,rS);const l=a.clone().shrink(0,a.height()/2);s.reflow(a),e.reflow(l);const h=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:h})),this.axisBox=a,this.alignAxes(a)}backgroundBox(){return this.box}detachLabels(){}};class KI extends uM{pointSlot(t,e){const s=Nk.onCircle(t.center,t.startAngle,t.center.y-e.y1);return new Vk(s.x,s.y,s.x,s.y)}}Mk(KI,{clip:!1});const JI=KI;class tR extends OI{}tR.prototype.pointSlot=JI.prototype.pointSlot,Mk(tR,{clip:!1});const eR=tR,sR=class extends NE{fillToAxes(t){const e=this._polarAxisCenter();t.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let t=this._strokeSegments;if(!t){const e=this._polarAxisCenter(),s=new HA(!1),n=this.points();n.push(e),t=this._strokeSegments=s.process(n),t.pop()}return t}},nR=class extends LE{fillToAxes(t){const e=this.parent.plotArea.polarAxis.box.center(),s=new L_([e.x,e.y]);t.segments.unshift(s),t.segments.push(s)}};function iR(t,e){return t.value.x-e.value.x}const rR=class extends eR{createSegment(t,e,s){let n;return n=(e.line||{}).style===cT?new sR(t,e,s):new nR(t,e,s),n}createMissingValue(t,e){let s;return hM(t.x)&&e!==aT&&(s={x:t.x,y:t.y},e===oT&&(s.y=0)),s}seriesMissingValues(t){return t.missingValues||oT}_hasMissingValuesGap(){const t=this.options.series;for(let e=0;e<t.length;e++)if("gap"===this.seriesMissingValues(t[e]))return!0}sortPoints(t){if(t.sort(iR),this._hasMissingValuesGap())for(let e=0;e<t.length;e++){const s=t[e];s&&(hM(s.value.y)||"gap"!==this.seriesMissingValues(s.series)||delete t[e])}return t}};class oR extends YI{createPolarAxis(){const t=new LA(this.options.xAxis,this.chartService);this.polarAxis=t,this.axisX=t,this.appendAxis(t)}valueAxisOptions(t){return zS(t,{majorGridLines:{type:sS},minorGridLines:{type:sS}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}appendChart(t,e){this.valueAxisRangeTracker.update(t.yAxisRanges),XM.prototype.appendChart.call(this,t,e)}createCharts(){const t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(NM(t,[AT]),e),this.createScatterChart(NM(t,[TT]),e),this.createAreaChart(NM(t,[CT]),e)}createLineChart(t,e){if(0===t.length)return;const s=new eR(this,{series:t});this.appendChart(s,e)}createScatterChart(t,e){if(0===t.length)return;const s=new JI(this,{series:t});this.appendChart(s,e)}createAreaChart(t,e){if(0===t.length)return;const s=new rR(this,{series:t});this.appendChart(s,e)}_dispatchEvent(t,e,s){const n=t._eventCoordinates(e),i=new Nk(n.x,n.y),r=this.axisX.getValue(i),o=this.axisY.getValue(i);null!==r&&null!==o&&t.trigger(s,{element:xk(e),x:r,y:o})}createCrosshairs(){}}Mk(oR,{xAxis:{},yAxis:{}}),zS(oR.prototype,YM);const aR=oR;class lR extends OE{pointSlot(t,e){const s=t.center.y-e.y1,n=Nk.onCircle(t.center,t.middle(),s);return new Vk(n.x,n.y,n.x,n.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const t=function(t){const e=[];for(let s=0;s<t.length;s++){const n=t[s];e[n.seriesIx]=e[n.seriesIx]||[],e[n.seriesIx].push(n)}return e}(this._segments);for(let e=0;e<t.length;e++){const s=t[e];if(s&&s.length>1){const t=s[0].linePoints[0],e=bk(s),n=bk(e.linePoints),i=n.categoryIx===n.categoriesCount-1;0===t.categoryIx&&i&&bk(s).linePoints.push(t)}}}}createSegment(t,e,s){let n;n=e.style===cT?AE:_E;const i=new n(t,e,s),r=this.seriesMissingValues(e);return t.length!==e.data.length&&r!==aT||(i.options.closed=!0),i}}Mk(lR,{clip:!1,limitPoints:!1});const hR=lR,cR=class extends NE{fillToAxes(){}},uR=class extends LE{fillToAxes(){}},dR=class extends hR{createSegment(t,e,s,n){const i=(e.line||{}).style;let r,o,a;return this.options.isStacked&&s>0&&n&&(o=n.linePoints.slice(0),r=n),i===cT?(a=new cR(t,e,s,r,o),a.options.closed=!0):(t.push(t[0]),a=new uR(t,e,s,r,o)),a}seriesMissingValues(t){return t.missingValues||oT}};class pR extends QI{constructor(t,e){super(t,null,e)}}Mk(pR,{overlay:{gradient:"none"},labels:{distance:10}});const fR=pR;class gR extends tC{constructor(t){super(t),this.forEach=t.rtl?GE:qE}reflow(t){const{options:e,children:s}=this,{gap:n,spacing:i}=e,r=s.length,o=t.angle/(r+n+i*(r-1));let a=t.startAngle+o*(n/2);this.forEach(s,e=>{const s=t.clone();s.startAngle=a,s.angle=o,e.sector&&(s.radius=e.sector.radius),e.reflow(s),e.sector=s,a+=o+o*i})}}Mk(gR,{gap:1,spacing:0});const mR=gR,yR=class extends tC{reflow(t){const{options:{reverse:e},children:s}=this,n=s.length,i=e?n-1:0,r=e?-1:1;this.box=new Vk;for(let o=i;o>=0&&o<n;o+=r){const e=s[o].sector;e.startAngle=t.startAngle,e.angle=t.angle}}};class xR extends KE{pointType(){return fR}clusterType(){return mR}stackType(){return yR}categorySlot(t,e){return t.getSlot(e)}pointSlot(t,e){const s=t.clone(),n=t.center.y;return s.radius=n-e.y1,s.innerRadius=n-e.y2,s}reflowPoint(t,e){t.sector=e,t.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}xR.prototype.reflow=fE.prototype.reflow,Mk(xR,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const vR=xR;class bR extends YI{createPolarAxis(){const t=new RA(this.options.categoryAxis,this.chartService);this.polarAxis=t,this.categoryAxis=t,this.appendAxis(t),this.aggregateCategories(),this.createCategoryAxesLabels()}valueAxisOptions(t){return this._hasBarCharts&&zS(t,{majorGridLines:{type:sS},minorGridLines:{type:sS}}),this._isStacked100&&zS(t,{roundToMajorUnit:!1,labels:{format:"P0"}}),zS(t,this.options.valueAxis)}aggregateCategories(){AP.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){AP.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(t){return t}createCharts(){const t=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(NM(t,[ET]),e),this.createLineChart(NM(t,[PT]),e),this.createBarChart(NM(t,[MT]),e)}chartOptions(t){const e={series:t},s=t[0];if(s){const n=this.filterVisibleSeries(t),i=s.stack;e.isStacked=i&&n.length>1,e.isStacked100=i&&"100%"===i.type&&n.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(t,e){if(0===t.length)return;const s=new dR(this,this.chartOptions(t));this.appendChart(s,e)}createLineChart(t,e){if(0===t.length)return;const s=new hR(this,this.chartOptions(t));this.appendChart(s,e)}createBarChart(t,e){if(0===t.length)return;const s=t[0],n=this.chartOptions(t);n.gap=s.gap,n.spacing=s.spacing;const i=new vR(this,n);this.appendChart(i,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(t,e,s){const n=t._eventCoordinates(e),i=new Nk(n.x,n.y),r=this.categoryAxis.getCategory(i),o=this.valueAxis.getValue(i);null!==r&&null!==o&&t.trigger(s,{element:xk(e),category:r,value:o})}createCrosshairs(){}}zS(bR.prototype,YM,{appendChart:AP.prototype.appendChart,aggregateSeries:AP.prototype.aggregateSeries,seriesSourcePoints:AP.prototype.seriesSourcePoints}),Mk(bR,{categoryAxis:{categories:[]},valueAxis:{}});const _R=bR;class wR extends tC{constructor(t,e,s){super(e),this.value=t,this.options.index=s.index}reflow(t){const e=this.points,s=this.children[0];this.box=new Vk(e[0].x,e[0].y,e[1].x,e[2].y),s&&s.reflow(new Vk(t.x1,e[0].y,t.x2,e[2].y))}createVisual(){const t=this.options;let e;super.createVisual(),e=t.visual?t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:t,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),e&&this.visual.append(e)}createPath(){const t=this.options,e=t.border;return q_.fromPoints(this.points,{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(t){return q_.fromPoints(this.points,t)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const t=q_.fromPoints(this.points).close();return{options:this.options,path:t}}tooltipAnchor(){const t=this.box;return{point:new Nk(t.center().x,t.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(t){return this.owner.formatPointValue(this,t)}}Mk(wR,{color:kS,border:{width:1}}),zS(wR.prototype,mE);const SR=wR;class kR extends tC{constructor(t,e){super(e),this.plotArea=t,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(t,e){return this.chartService.format.auto(e,t.value)}render(){const{options:t,plotArea:{options:{seriesColors:e=[]}}}=this,s=t.series[0],n=s.data;if(!n)return;const{total:i,points:r}=DM(s);for(let o=0;o<r.length;o++){const t=r[o];if(!t)continue;let a=t.fields;FS(s.color)||(s.color=a.color||e[o%e.length]),a=zS({index:o,owner:this,series:s,dataItem:n[o],percentage:t.value/i},a,{visible:t.visible});const l=t.valueFields.value,h=this.createSegment(l,a),c=this.createLabel(l,a);h&&c&&h.append(c)}}evalSegmentOptions(t,e,s){const n=s.series;uE(t,{value:e,series:n,dataItem:s.dataItem,index:s.index},{defaults:n._defaults,excluded:["data","content","template","toggle","visual"]})}createSegment(t,e){const s=zS({},e.series);if(this.evalSegmentOptions(s,t,e),this.createLegendItem(t,s,e),!1!==e.visible){const n=new SR(t,s,e);return Object.assign(n,e),this.append(n),this.points.push(n),n}}createLabel(t,e){const{series:s,dataItem:n}=e,i=zS({},this.options.labels,s.labels);let r=t;if(i.visible){const o=JS(i),a={dataItem:n,value:t,percentage:e.percentage,category:e.category,series:s};if(o?r=o(a):i.format&&(r=this.plotArea.chartService.format.auto(i.format,r)),!i.color){const t=new gE(s.color).percBrightness();i.color=t>180?nS:kS,i.background||(i.background=s.color)}this.evalSegmentOptions(i,t,e);const l=new yC(r,zS({vAlign:i.position},i),a);return this.labels.push(l),l}}labelPadding(){const t=this.labels,e={left:0,right:0};for(let s=0;s<t.length;s++){const n=t[s].options.align;if(n!==rS){const i=t[s].box.width();n===fS?e.left=Math.max(e.left,i):e.right=Math.max(e.right,i)}}return e}dynamicSlopeReflow(t,e,s){const{options:n,points:i}=this,r=i.length,o=i[0];let a=o;for(let u=0;u<i.length;u++)i[u].percentage>a.percentage&&(a=i[u]);let l=o.percentage/a.percentage*e,h=(e-l)/2,c=0;for(let u=0;u<r;u++){const o=i[u].percentage,a=i[u+1],d=a?a.percentage:o,p=i[u].points=[],f=n.dynamicHeight?s*o:s/r;let g;g=o?(e-l*(d/o))/2:d?0:e/2,g=_k(g,0,e),p.push(new mv(t.x1+h,t.y1+c)),p.push(new mv(t.x1+e-h,t.y1+c)),p.push(new mv(t.x1+e-g,t.y1+f+c)),p.push(new mv(t.x1+g,t.y1+f+c)),h=g,c+=f+n.segmentSpacing,l=_k(e-2*g,0,e)}}constantSlopeReflow(t,e,s){const{options:n,points:i}=this,r=i.length,o=n.neckRatio<=1;let a=o?0:(e-e/n.neckRatio)/2;const l=((o?e:e-2*a)-(o?n.neckRatio*e:e))/2;let h=0;for(let c=0;c<r;c++){const o=i[c].points=[],u=i[c].percentage,d=n.dynamicHeight?l*u:l/r,p=n.dynamicHeight?s*u:s/r;o.push(new mv(t.x1+a,t.y1+h)),o.push(new mv(t.x1+e-a,t.y1+h)),o.push(new mv(t.x1+e-a-d,t.y1+p+h)),o.push(new mv(t.x1+a+d,t.y1+p+h)),a+=d,h+=p+n.segmentSpacing}}reflow(t){const e=this.points,s=e.length;if(!s)return;const n=this.options,i=t.clone().unpad(this.labelPadding()),r=i.height()-n.segmentSpacing*(s-1),o=i.width();n.dynamicSlope?this.dynamicSlopeReflow(i,o,r):this.constantSlopeReflow(i,o,r);for(let a=0;a<s;a++)e[a].reflow(t)}}Mk(kR,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:rS,position:rS,zIndex:1}}),zS(kR.prototype,HI);const CR=kR,AR="color",TR="first",ER="max",MR="min",PR="noteText";bI.current.register(AP,[pT,xT,wT,zT,dT,FT,yT,ST,mT,BT,fT,NT,OT,RT,jT,_T,IT,VT]),bI.current.register(FI,[LT,DT,gT]),bI.current.register(GI,[kT]),bI.current.register(class extends GI{render(){this.createDonutChart(this.series)}createDonutChart(t){const e=t[0],s=new XI(this,{series:t,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(s)}},[vT]),bI.current.register(class extends XM{render(){this.createFunnelChart(this.series)}createFunnelChart(t){const e=t[0],s=new CR(this,{series:t,legend:this.options.legend,neckRatio:e.neckRatio,dynamicHeight:e.dynamicHeight,dynamicSlope:e.dynamicSlope,segmentSpacing:e.segmentSpacing,highlight:e.highlight});this.appendChart(s)}appendChart(t,e){super.appendChart(t,e),dk(this.options.legend.items,t.legendItems)}},[bT]),bI.current.register(aR,[CT,AT,TT]),bI.current.register(_R,[ET,MT,PT]),KA.current.register([pT,xT,wT,zT,dT,FT],[SS],[iE,AR,PR,"errorLow","errorHigh"]),KA.current.register([OT,RT,IT,VT],["from","to"],[iE,AR,PR]),KA.current.register([jT,_T],[SS],[iE,AR,PR,"summary"]),KA.current.register([CT,AT,TT],[AS,TS],[AR]),KA.current.register([ET,MT,PT],[SS],[AR]),KA.current.register([bT],[SS],[iE,AR,"visibleInLegend","visible"]),eP.current.register([pT,xT,wT,zT,dT,FT,jT,_T],{value:ER,color:TR,noteText:TR,errorLow:MR,errorHigh:ER}),eP.current.register([OT,RT,IT,VT],{from:MR,to:ER,color:TR,noteText:TR}),eP.current.register([ET,MT,PT],{value:ER,color:TR}),KA.current.register([LT,DT,gT],[AS,TS],[AR,PR,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),KA.current.register([gT],[AS,TS,"size"],[AR,iE,PR]),KA.current.register([yT,ST],["open","high","low","close"],[iE,AR,"downColor",PR]),eP.current.register([yT,ST],{open:ER,high:ER,low:MR,close:ER,color:TR,downColor:TR,noteText:TR}),KA.current.register([fT,NT],["lower","q1","median","q3","upper","mean","outliers"],[iE,AR,PR]),eP.current.register([fT,NT],{lower:ER,q1:ER,median:ER,q3:ER,upper:ER,mean:ER,outliers:TR,color:TR,noteText:TR}),KA.current.register([mT,BT],["current","target"],[iE,AR,"visibleInLegend",PR]),eP.current.register([mT,BT],{current:ER,target:ER,color:TR,noteText:TR}),KA.current.register([kT,vT],[SS],[iE,AR,"explode","visibleInLegend","visible"]);const IR=[iE,SS,AS,TS],RR="mousemove",OR="contextmenu",LR="mouseleave";class DR extends Kx{constructor(t,e,s,n={}){super(),this.observers=[],this.addObserver(n.observer),this.chartService=new ZS(this,n),this.chartService.theme=s,this._initElement(t);const i=zS({},this.options,e);this._originalOptions=zS({},i),this._theme=s,this._initTheme(i,s),this._initHandlers(),this._initSurface(),this.bindCategories(),Ek.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(t){for(this._setElementClass(t),t.style.position="relative";t.firstChild;)t.removeChild(t.firstChild);this.element=t}_setElementClass(t){MS(t,"k-chart")}_initTheme(t,e){const s=[],n=t.series||[];for(let i=0;i<n.length;i++)s.push(Object.assign({},n[i]));t.series=s,function(t){const e=IR;for(let s=0;s<e.length;s++){const n=e[s]+"Axes";t[n]&&(t[e[s]+"Axis"]=t[n],delete t[n])}}(t),this.applyDefaults(t,e),null===t.seriesColors&&delete t.seriesColors,this.options=zS({},e,t),this.applySeriesColors()}getSize(){const t=this.options.chartArea||{};return{width:t.width?parseInt(t.width,10):Math.floor(this.element.offsetWidth),height:t.height?parseInt(t.height,10):Math.floor(this.element.offsetHeight)}}resize(t){const e=this.getSize(),s=this._size,n=e.width>0||e.height>0;t||n&&(!s||e.width!==s.width||e.height!==s.height)?(this._size=e,this._resize(e,t),this.trigger("resize",e)):n&&this._selections&&Ik(this._selections,t=>!t.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(t){if(this.applyDefaults(this.options),this.applySeriesColors(),t){const e=this._model._plotArea,s=e.findPane(t);e.redraw(s)}else this._redraw()}getAxis(t){return $A(t,this._plotArea.axes)}findAxisByName(t){return this.getAxis(t)}findPaneByName(t){const e=this._plotArea.panes;for(let s=0;s<e.length;s++)if(e[s].options.name===t)return new qA(e[s])}findPaneByIndex(t){const e=this._plotArea.panes;if(e[t])return new qA(e[t])}plotArea(){return new GA(this._plotArea)}toggleHighlight(t,e){const s=this._plotArea,n=(s.srcSeries||s.series||[])[0];let i;if(FS(e))i=s.filterPoints(e);else{let t,r;VS(e)?(t=e.series,r=e.category):t=r=e,i=n.type===vT?FR(s.pointsBySeriesName(t),r):n.type===kT||n.type===bT?FR((s.charts[0]||{}).points,r):s.pointsBySeriesName(t)}i&&this.togglePointsHighlight(t,i)}togglePointsHighlight(t,e){const s=this._highlight;for(let n=0;n<e.length;n++)s.togglePointHighlight(e[n],t)}showTooltip(t){const e=this._sharedTooltip(),{_tooltip:s,_plotArea:n}=this;let i,r;if(FS(t)?(i=n.findPoint(t),i&&e&&(r=i.categoryIx)):e&&fk(t)&&(r=n.categoryAxis.categoryIndex(t)),e){if(r>=0){const t=this._plotArea.pointsByCategoryIndex(r);s.showAt(t)}}else i&&s.show(i)}hideTooltip(){this._tooltip.hide()}_initSurface(){const t=this.surface,e=this._surfaceWrap(),s=this.options.chartArea||{};s.width&&yk(e,{width:s.width}),s.height&&yk(e,{height:s.height}),t&&t.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=XP.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const t=this._getModel();this._size={width:t.options.width,height:t.options.height},this._destroyView(),this._model=t,this._plotArea=t._plotArea,t.renderVisual(),!1!==this.options.transitions&&t.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(t.visual),!1!==this.options.transitions&&t.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new KP,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),jR(this._plotArea.panes),this._navState||this._cancelDomEvents()}exportVisual(t){let e;if(t&&(t.width||t.height||t.options)){const s=this.options,n=zS({},t.options,{chartArea:{width:t.width,height:t.height}});VR(this._originalOptions,n),this.options=zS({},this._originalOptions,n),this._initTheme(this.options,this._theme),this.bindCategories();const i=this._getModel();i.renderVisual(),jR(i._plotArea.panes),e=i.visual,this.options=s}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof AP&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const t=this.options;!1!==t.pannable&&(this._pannable=new sI(this._plotArea,t.pannable))}_createZoomSelection(){const t=this.options.zoomable,e=(t||{}).selection;!1!==t&&!1!==e&&(this._zoomSelection=new iI(this,e))}_createMousewheelZoom(){const t=this.options.zoomable,e=(t||{}).mousewheel;!1!==t&&!1!==e&&(this._mousewheelZoom=new rI(this,e))}_toggleDragZoomEvents(){const t=this.options.zoomable,e=(t||{}).mousewheel,s=!(this.options.pannable||!1!==t&&!1!==(t||{}).selection||this.requiresHandlers([QT,GT,WT])),n=(!1===t||!1===e)&&!this.requiresHandlers([ZT,XT,YT]),i=this.element;this._dragZoomEnabled&&s&&n?(i.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||s&&n||(i.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!s,!n)}_toggleDomEvents(t,e){const s=this.domEvents;s&&(s.toggleDrag&&s.toggleDrag(t),s.toggleZoom&&s.toggleZoom(e))}_createTooltip(){const{options:{tooltip:t}}=this;let e;return e=this._sharedTooltip()?this._createSharedTooltip(t):new CI(this.chartService,t),e}_createSharedTooltip(t){return new TI(this._plotArea,t)}applyDefaults(t,e){!function(t,e){const s=(e||{}).axisDefaults||{};let n,i,r;function o(t){const e=(t||{}).color||i.color,r=zS({},s,s[n],i,i[n],{line:{color:e},labels:{color:e},title:{color:e}},t);return delete r[n],r}for(let a=0;a<IR.length;a++)n=IR[a]+"Axis",i=t.axisDefaults||{},r=[].concat(t[n]),r=r.map(o),t[n]=r.length>1?r:r[0]}(t,e),function(t,e){const s=t.series,n=s.length,i=t.seriesDefaults,r=zS({},t.seriesDefaults),o=e?zS({},e.seriesDefaults):{},a=zS({},o);NR(r),NR(a);for(let l=0;l<n;l++){const e=s[l].type||t.seriesDefaults.type,n=zS({data:[]},a,o[e],{tooltip:t.tooltip},r,i[e]);s[l]._defaults=n,s[l]=zS({},n,s[l]),s[l].data=s[l].data||[]}}(t,e)}applySeriesColors(){const t=this.options,e=t.series,s=t.seriesColors||[];for(let n=0;n<e.length;n++){const t=e[n],i=s[n%s.length],r=t._defaults;t.color=t.color||i,r&&(r.color=r.color||i)}}_getModel(){const t=this.options,e=this._createPlotArea(),s=new hC(this._modelOptions());return s.chart=this,s._plotArea=e,vC.buildTitle(t.title,s),t.legend&&t.legend.visible&&s.append(new xI(e.options.legend,this.chartService)),s.append(e),s.reflow(),s}_modelOptions(){const t=this.options,e=this.getSize();return zS({transitions:t.transitions,width:e.width||600,height:e.height||400},t.chartArea)}_createPlotArea(t){const e=this.options;return bI.current.create(t?[]:e.series,e,this.chartService)}_setupSelection(){const{_plotArea:{axes:t}}=this,e=this._selections=[];for(let s=0;s<t.length;s++){const n=t[s],i=n.options;if(n instanceof aA&&i.select&&!i.vertical){const t=n.range(),s=new kI(this,n,zS({min:t.min,max:t.max},i.select));e.push(s)}}}_selectStart(t){return this.trigger(KT,t)}_select(t){return this.trigger(JT,t)}_selectEnd(t){return this.trigger(tE,t)}_initHandlers(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=hb(this._mousemove.bind(this),20)}addObserver(t){t&&this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);e>=0&&this.observers.splice(e,1)}requiresHandlers(t){const e=this.observers;for(let s=0;s<e.length;s++)if(e[s].requiresHandlers(t))return!0}trigger(t,e={}){t===eE&&(e.anchor.point=this._toDocumentCoordinates(e.anchor.point)),e.sender=this;const s=this.observers;let n=!1;for(let i=0;i<s.length;i++)s[i].trigger(t,e)&&(n=!0);return n}_attachEvents(){const t=this.element;this._touchAction=t.style.touchAction,pk(t,{[OR]:this._clickHandler,[aE]:this._mousewheelHandler,[LR]:this._mouseleaveHandler}),this._shouldAttachMouseMove()&&pk(t,{[RR]:this._mousemove}),this.domEvents=YS.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(t){this._hoveredPoint&&(this._hoveredPoint.out(this,t),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger(qT),this._plotArea.hovered=!1)}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(t){this._mousewheelZoom&&!this._stopChartHandlers(t)&&(this._gestureDistance=t.distance,this._unsetActivePoint(),this.surface.suspendTracking())}_gestureend(t){this._zooming&&!this._stopChartHandlers(t)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(YT,{}))}_gesturechange(t){const e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(t)){t.preventDefault();let s=-t.distance/this._gestureDistance+1;if(Math.abs(s)>=.1){s=Math.round(10*s),this._gestureDistance=t.distance;const n={delta:s,axisRanges:BR(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger(ZT,n)||(this._zooming||(this._zooming=!0),(n.axisRanges=e.updateRanges(s))&&!this.trigger(XT,n)&&e.zoom())}}}_mouseout(t){if(t.element){const e=this._drawingChartElement(t.element,t);e&&e.leave&&e.leave(this,t.originalEvent)}}_start(t){const e=this._eventCoordinates(t);!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(e)&&(this.requiresHandlers([QT,GT,WT])&&this._startNavigation(t,e,QT),this._pannable&&this._pannable.start(t)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(t)&&this.trigger(ZT,{axisRanges:BR(this._plotArea.axes),originalEvent:t}))}_move(t){let{_navState:e,_pannable:s}=this;if(!this._stopChartHandlers(t)){if(s){const e=s.move(t);e&&!this.trigger(GT,{axisRanges:e,originalEvent:t})&&s.pan()}else if(e){const s={},n=e.axes;for(let e=0;e<n.length;e++){const i=n[e];if(i.options.name){const e=i.options.vertical?t.y:t.x,n=e.startLocation-e.location;0!==n&&(s[i.options.name]=i.translateRange(n))}}e.axisRanges=s,this.trigger(GT,{axisRanges:s,originalEvent:t})}this._zoomSelection&&this._zoomSelection.move(t)}}_end(t){if(this._stopChartHandlers(t))return;const e=this._pannable;if(e&&e.end(t)?(this.surface.resumeTracking(),this.trigger(WT,{axisRanges:BR(this._plotArea.axes),originalEvent:t}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(t,WT),this._zoomSelection){const e=this._zoomSelection.end(t);e&&!this.trigger(XT,{axisRanges:e,originalEvent:t})&&(this._zoomSelection.zoom(),this.trigger(YT,{axisRanges:e,originalEvent:t}))}}_stopChartHandlers(t){const e=this._selections||[];if(!e.length)return!1;const s=this._eventCoordinates(t),n=this._plotArea.paneByPoint(s);if(n)for(let i=0;i<e.length;i++)if(e[i].onPane(n))return!0}_mousewheel(t){const e=ck(t),s=this._mousewheelZoom,n=this._eventCoordinates(t);if(!this._stopChartHandlers(t)&&this._plotArea.backgroundContainsPoint(n))if(s){const n={delta:e,axisRanges:BR(this._plotArea.axes),originalEvent:t};!this._zooming&&this.trigger(ZT,n)||(t.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),n.axisRanges=s.updateRanges(e),n.axisRanges&&!this.trigger(XT,n)&&s.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(YT,n),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let s=this._navState;if(s||this._startNavigation(t,n,ZT)||(s=this._navState),s){const n=s.totalDelta||e;s.totalDelta=n+e;const i=this._navState.axes,r={};for(let t=0;t<i.length;t++){const e=i[t],s=e.options.name;s&&(r[s]=e.scaleRange(-n))}this.trigger(XT,{delta:e,axisRanges:r,originalEvent:t}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(t,YT)},150)}}}_startNavigation(t,e,s){const n=this._model._plotArea,i=n.findPointPane(e),r=n.axes.slice(0);if(!i)return;const o=BR(r);this.trigger(s,{axisRanges:o,originalEvent:t})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:o,pane:i,axes:r})}_endNavigation(t,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:t}),this._suppressHover=!1,this._navState=null)}_getChartElement(t,e){const s=this.surface.eventTarget(t);if(s)return this._drawingChartElement(s,t,e)}_drawingChartElement(t,e,s){let n,i=t;for(;i&&!n;)n=i.chartElement,i=i.parent;if(n)return n.aliasFor&&(n=n.aliasFor(e,this._eventCoordinates(e))),s&&(n=n.closest(s),n&&n.aliasFor&&(n=n.aliasFor())),n}_eventCoordinates(t){const e=vk(t);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){const{paddingLeft:t,paddingTop:e}=$S(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:t}}return this._padding}_toDocumentCoordinates(t){const e=this._elementPadding(),s=mk(this.element);return{left:kk(t.x+e.left+s.left),top:kk(t.y+e.top+s.top)}}_toModelCoordinates(t,e){const s=this.element,n=mk(s),i=this._elementPadding(),r=function(t){if(!t)return Rk.unit();let e=Lk(t),s=t.parentElement;for(;s;){const t=Lk(s);e=e.multiplyCopy(t),s=s.parentElement}return e.b=e.c=e.e=e.f=0,e}(s).invert(),o=new mv(t-n.left-i.left,e-n.top-i.top).transform(r);return new Nk(o.x,o.y)}_tap(t){const e=this.surface.eventTarget(t),s=this._drawingChartElement(e,t),n=this._sharedTooltip();this._startHover(e,t)||n||this._unsetActivePoint(),n&&this._trackSharedTooltip(this._eventCoordinates(t),t,!0),this._propagateClick(s,t),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(t){const e=this._getChartElement(t);this._propagateClick(e,t)}_propagateClick(t,e){let s=t;for(;s;)s.click&&s.click(this,e),s=s.parent}_startHover(t,e){if(this._suppressHover)return!1;let s=this._drawingChartElement(t,e,function(t){return(t.hover||t.over)&&!(t instanceof XM)});const n=this._activePoint,i=this._plotArea.series.length>1,r=this._hasInactiveOpacity();return this._updateHoveredPoint(s,e),s&&n!==s&&s.hover?(this._activePoint=s,this._sharedTooltip()||s.hover(this,e)||(this._displayTooltip(s),r?this._displayInactiveOpacity(s,i):this._highlight.show(s))):!s&&r&&(i&&this._activeChartInstance&&(this._updateSeriesOpacity(s,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null),s}_displayTooltip(t){zS({},this.options.tooltip,t.options.tooltip).visible&&this._tooltip.show(t)}_displayInactiveOpacity(t,e,s){const n=this._activeChartInstance=this._chartInstanceFromPoint(t);if(n)if(e)this._updateSeriesOpacity(t),this._applySeriesOpacity(n.children,null,!0),this._applySeriesOpacity(n.children,t.series),this._highlight.show(s||t);else{let e;if(!n.supportsPointInactiveOpacity())return void this._highlight.show(t);e=this._getInactivePoints(t,n),e&&e.length&&this._highlight.show(e,1-this._getInactiveOpacityForSeries(t.series))}}_getInactivePoints(t,e){return this._getAllPointsOfType(e,t.constructor).filter(e=>e!==t)}_getAllPointsOfType(t,e){let s=[];for(let n=0;n<t.children.length;n++){const i=t.children[n];i.constructor===e?s.push(i):i.children&&i.children.length&&(s=s.concat(this._getAllPointsOfType(i,e)))}return s}_updateHoveredPoint(t,e){const s=this._hoveredPoint;s&&s!==t&&(s.out(this,e),this._hoveredPoint=null),t&&s!==t&&t.over&&(this._hoveredPoint=t,t.over(this,e))}_updateSeriesOpacity(t,e){const s=this._plotArea,n=s.series.length;for(let i=0;i<n;i++){const n=s.series[i],r=this._getDefaultOpacityForSeries(n),o=this._getInactiveOpacityForSeries(n);e||n===t.series?(n.opacity=r,n.line&&(n.line.opacity=r)):(n.defaultOpacity=r,n.opacity=o,n.line&&(n.line.opacity=o))}}_applySeriesOpacity(t,e,s,n){for(let i=0;i<t.length;i++){const r=t[i],o=r.series||n;if(o&&r.visual){const t=n?n.opacity:r.series.opacity;(o!==e||s)&&r.visual.opacity(s?1:t)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,e,s,r.series)}}_chartInstanceFromPoint(t){let e=t.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_hasInactiveOpacity(){let t=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter(t=>void 0!==t.highlight.inactiveOpacity).length>0;return t||e}_getInactiveOpacityForSeries(t){return t.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||t.opacity||1}_getDefaultOpacityForSeries(t){return t.defaultOpacity||t.opacity||1}_mouseover(t){const e=this._startHover(t.element,t.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),pk(document,{[RR]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(t){const{options:e,_tooltip:s,_highlight:n,_activePoint:i}=this,r=this._eventCoordinates(t);if(this._plotArea.box.containsPoint(r)){if(i&&i.tooltipTracking&&i.series&&i.parent.getNearestPoint){const o=i.parent.getNearestPoint(r.x,r.y,i.seriesIx);o&&o!==i&&(this._activePoint=o,!o.hover(this,t))&&(zS({},e.tooltip,o.options.tooltip).visible&&s.show(o),n.show(o))}}else Ck(document,{[RR]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}_mousemove(t){const e=this._eventCoordinates(t),s=this._plotArea;if(this._trackCrosshairs(e),s.hover){const n=s.backgroundContainsPoint(e);n?(s.hovered=!0,this._plotArea.hover(this,t)):s.hovered&&!n&&(this.trigger(qT),s.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(e,t)}_trackCrosshairs(t){const e=this._plotArea.crosshairs;for(let s=0;s<e.length;s++){const n=e[s];n.box.containsPoint(t)?n.showAt(t):n.hide()}}_trackSharedTooltip(t,e,s){if(this._suppressHover)return;const{options:{tooltip:n},_plotArea:i,_plotArea:{categoryAxis:r},_tooltip:o,_highlight:a}=this;if(i.backgroundContainsPoint(t)){const l=r.pointCategoryIndex(t);if(l!==this._tooltipCategoryIx||!this._sharedHighlight&&s){const s=i.pointsByCategoryIndex(l),r=s.map(function(t){return t.eventArgs(e)}),h=r[0]||{};h.categoryPoints=r,s.length>0&&!this.trigger(UT,h)?(n.visible&&o.showAt(s,t),a.show(s),this._sharedHighlight=!0):o.hide(),this._tooltipCategoryIx=l}else s&&this._sharedHighlight&&(a.hide(),o.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(a.hide(),o.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(t){const e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(t)}_unsetActivePoint(t){const{_tooltip:e,_highlight:s}=this;this._activePoint=null,this._hoveredPoint=null,!e||t&&t.keepTooltipOpen||e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,s&&s.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const t=[].concat(this.options.categoryAxis);for(let e=0;e<t.length;e++){const s=t[e];!1!==s.autoBind&&this.bindCategoryAxisFromSeries(s,e)}}bindCategoryAxisFromSeries(t,e){const s=this.options.series,n=s.length,i=new rk;let r,o=[],a=!1;for(let l=0;l<n;l++){const n=s[l],h=n.categoryAxis===t.name||!n.categoryAxis&&0===e,c=n.data,u=c.length,d=n.categoryField&&h;if(a=d||a,d&&u>0){r=zM(t,XA(n.categoryField,c[0]));const e=r?BM:XA;for(let t=0;t<u;t++){const s=c[t],a=e(n.categoryField,s,this.chartService.intl);!r&&i.get(a)||(o.push([a,s]),r||i.set(a,!0))}}}if(o.length>0){r&&(o=function(t,e=XC){const s=function(t,e=XC){for(let s=1,n=t.length;s<n;s++)if(e(t[s],t[s-1])<0){t.sort(e);break}return t}(t,e),n=s.length,i=n>0?[s[0]]:[];for(let r=1;r<n;r++)0!==e(s[r],bk(i))&&i.push(s[r]);return i}(o,function(t,e){return XC(t[0],e[0])}));const e=function(t){const e=t.length,s=[];for(let n=0;n<e;n++){const e=t[n],i=e.length;for(let t=0;t<i;t++)s[t]=s[t]||[],s[t].push(e[t])}return s}(o);t.categories=e[0]}else a&&(t.categories=[])}_isBindable(t){const e=KA.current.valueFields(t);let s=!0;for(let n=0;n<e.length;n++){let i=e[n];if(i===SS?i="field":i+="Field",!fk(t[i])){s=!1;break}}return s}_noTransitionsRedraw(){const t=this.options;let e;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}_legendItemHover(t,e){const{_plotArea:s,_highlight:n}=this,i=(s.srcSeries||s.series)[t];let r;r=ok(i.type,[kT,vT,bT])?s.findPoint(function(s){return s.series.index===t&&s.index===e}):s.pointsBySeriesIndex(t),this._hasInactiveOpacity()&&i.visible&&r?this._displayInactiveOpacity(r.length?r[0]:r,s.series.length>1,r):n.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([$T,qT])}updateMouseMoveHandler(){Ck(this.element,{[RR]:this._mousemove}),this._shouldAttachMouseMove()&&pk(this.element,{[RR]:this._mousemove})}applyOptions(t,e){VR(this._originalOptions,t),this._originalOptions=zS(this._originalOptions,t),this.options=zS({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(t,e){this.applyOptions(t,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(t){this.chartService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(t){this.chartService.intl=t}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,Ck(this.element,{[OR]:this._clickHandler,[aE]:this._mousewheelHandler,[RR]:this._mousemove,[LR]:this._mouseleaveHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&Ck(document,{[RR]:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const t=this.surface;t&&(t.unbind("mouseenter",this._surfaceMouseenterHandler),t.unbind("mouseleave",this._surfaceMouseleaveHandler),t.destroy(),this.surface=null)}_destroySelections(){const t=this._selections;if(t)for(;t.length>0;)t.shift().destroy()}_destroyView(){const t=this._model;t&&(t.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function FR(t,e){if(t)for(let s=0;s<t.length;s++)if(t[s].category===e)return[t[s]]}function NR(t){delete t.bar,delete t.column,delete t.rangeColumn,delete t.line,delete t.verticalLine,delete t.pie,delete t.donut,delete t.area,delete t.verticalArea,delete t.scatter,delete t.scatterLine,delete t.bubble,delete t.candlestick,delete t.ohlc,delete t.boxPlot,delete t.bullet,delete t.verticalBullet,delete t.polarArea,delete t.polarLine,delete t.radarArea,delete t.radarLine,delete t.waterfall}function BR(t){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=n.options.name;i&&(e[i]=n.range())}return e}const zR=["data","categories"];function VR(t,e){for(let s in e)if(!ok(s,zR)&&e.hasOwnProperty(s)){const n=e[s],i=t[s];if(fk(i)){const r=null===n;r||!fk(n)?(delete t[s],r&&delete e[s]):i&&VS(n)&&VS(i)&&VR(i,n)}}}function jR(t){for(let e=0;e<t.length;e++)t[e].notifyRender()}Mk(DR,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:xT,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const HR=DR,UR=class extends TI{_slotAnchor(t,e){const s=this.plotArea.categoryAxis.options.vertical,n=s?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let i;return i=s?new Nk(this.plotArea.box.x2,e.center().y):new Nk(e.center().x,-2),{point:i,align:n}}_defaultAnchor(t,e){return this._slotAnchor({},e)}},$R=[pT,mT];function qR(t){const e=[];for(let s=0;s<t.length;s++){const n=t[s];e[s]=n.style.display,n.style.display="none"}return e}function GR(t,e){for(let s=0;s<t.length;s++)t[s].style.display=e[s]}function WR(t){return OS(t)?[t]:t}Mk(class extends HR{_setElementClass(t){MS(t,"k-sparkline")}_initElement(t){super._initElement(t),this._initialWidth=Math.floor(yk(t).width)}_resize(){const t=this.element,e=qR(t.childNodes);this._initialWidth=Math.floor(yk(t).width),GR(t.childNodes,e),super._resize()}_modelOptions(){const t=this.options,e=this._surfaceWrap(),s=qR(e.childNodes),n=document.createElement("span");n.innerHTML="&nbsp;",e.appendChild(n);const i=zS({width:this._autoWidth,height:yk(e).height,transitions:t.transitions},t.chartArea,{inline:!0,align:!1});return yk(e,{width:i.width,height:i.height}),e.removeChild(n),GR(e.childNodes,s),this.surface&&this.surface.resize(),i}_surfaceWrap(){if(!this.stage){const t=this.stage=document.createElement("span");this.element.appendChild(t)}return this.stage}_createPlotArea(t){const e=super._createPlotArea(t);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(t){const e=this.options,s=qS(e.chartArea.margin),n=t.charts,i=this._surfaceWrap();let r=0;for(let a=0;a<n.length;a++){const t=n[a],e=(t.options.series||[])[0];if(!e)continue;if(e.type===pT)return 150;if(e.type===mT)return 150;if(e.type===kT)return yk(i).height;const s=t.categoryAxis;if(s){const n=s.categoriesCount()*(!t.options.isStacked&&ok(e.type,[xT,BT])?t.seriesOptions.length:1);r=Math.max(r,n)}}let o=r*e.pointWidth;return o>0&&(o+=s.left+s.right),o}_createSharedTooltip(t){return new UR(this._plotArea,t)}static normalizeOptions(t){let e=WR(t);return e=ES(e)?{seriesDefaults:{data:e}}:zS({},e),e.series||(e.series=[{data:WR(e.data)}]),zS(e,{seriesDefaults:{type:e.type}}),(ok(e.series[0].type,$R)||ok(e.seriesDefaults.type,$R))&&(e=zS({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const QR=class extends Kk{setup(){this._initialOpacity=parseFloat($S(this.element,"opacity").opacity)}step(t){$S(this.element,{opacity:String(ak(this._initialOpacity,0,t))})}abort(){super.abort(),$S(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),$S(this.element,{opacity:String(this._initialOpacity)})}};function ZR(t,e){const s=document.createElement("div");return s.className=t,e&&(s.style.cssText=e),s}class XR extends Kx{constructor(t,e,s){super(),this.options=zS({},this.options,s),this.container=t,this.chartService=e;const n=$S(t,["paddingLeft","paddingTop"]);this.chartPadding={top:n.paddingTop,left:n.paddingLeft},this.createElements(),t.appendChild(this.element)}createElements(){const t=this.element=ZR("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=ZR("k-tooltip k-chart-tooltip"),s=this.scroll=ZR("k-scroll");e.innerHTML="&nbsp;",t.appendChild(e),t.appendChild(s)}show(t,e,s){const{element:n,options:i,scroll:r,tooltip:o}=this,a=qC(KC(t)+KC(e-t)/2),l=.4*s.width(),h=s.center().x-l,c=(s.center().x-h)/(i.max-i.min),u=a-i.min;let d=this.chartService.intl.format(i.format,t,e);const p=JS(i);this.clearHideTimeout(),this._visible||($S(n,{visibility:"hidden",display:"block"}),this._visible=!0),p&&(d=p({from:t,to:e})),o.innerHTML=d,$S(o,{left:s.center().x-o.offsetWidth/2,top:s.y1});const f=$S(o,["marginTop","borderTopWidth","height"]);$S(r,{width:l,left:h+u*c,top:s.y1+f.marginTop+f.borderTopWidth+f.height/2}),$S(n,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new QR(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}Mk(XR,{format:"{0:d} - {1:d}",hideDelay:500});const YR=XR,KR="_navigator",JR=KR;class tO extends Kx{constructor(t){super(),this.chart=t;const e=this.options=zS({},this.options,t.options.navigator),s=e.select;s&&(s.from=this.parseDate(s.from),s.to=this.parseDate(s.to)),fk(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new lk(this,{[GT]:"_drag",[WT]:"_dragEnd",[XT]:"_zoom",[YT]:"_zoomEnd"}),t.addObserver(this.chartObserver)}parseDate(t){return nA(this.chart.chartService.intl,t)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:t,options:e}=this,s=this.mainAxis(),{min:n,max:i}=s.roundedRange(),{from:r,to:o,mousewheel:a}=e.select,l=(eO.prototype=s,new eO);0!==s.categoriesCount()&&(this.clean(),l.box=s.box,this.selection=new kI(t,l,{min:n,max:i,from:r||n,to:o||i,mousewheel:Ak(a,{zoom:"left"}),visible:e.visible},new lk(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new YR(t.element,t.chartService,{min:n,max:i,template:JS(e.hint),format:e.hint.format})))}setRange(){const t=this.chart._createPlotArea(!0).namedCategoryAxes._navigator,{min:e,max:s}=t.roundedRange(),n=this.options.select||{};let i=n.from||e;i<e&&(i=e);let r=n.to||s;r>s&&(r=s),this.options.select=zS({},n,{from:i,to:r}),this.filterAxes()}_redrawSelf(t){const e=this.chart._plotArea;e&&e.redraw(bk(e.panes),t)}redrawSlaves(){const t=this.chart,e=t._plotArea,s=e.panes.slice(0,-1);e.srcSeries=t.options.series,e.options.categoryAxis=t.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(s)}_drag(t){const{chart:e,selection:s}=this,n=e._eventCoordinates(t.originalEvent),i=this.mainAxis(),r=i.roundedRange(),o=i.pane.box.containsPoint(n),a=t.axisRanges[e._plotArea.categoryAxis.options.name],l=this.options.select;let h;if(!a||o||!s)return;h=l.from&&l.to?KC(l.to)-KC(l.from):KC(s.options.to)-KC(s.options.from);const c=qC(_k(KC(a.min),r.min,KC(r.max)-h)),u=qC(_k(KC(c)+h,KC(r.min)+h,r.max));this.options.select={from:c,to:u},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),s.set(c,u),this.showHint(c,u)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:t,to:e}},options:{select:s}}=this;s.from=t,s.to=e}filterAxes(){const{options:{select:t={}},chart:e}=this,s=e.options.categoryAxis,{from:n,to:i}=t;for(let r=0;r<s.length;r++){const t=s[r];t.pane!==KR&&(t.min=n,t.max=i)}}filter(){const{chart:t,options:{select:e}}=this;if(!t.requiresHandlers(["navigatorFilter"]))return;const s=this.mainAxis(),n={from:e.from,to:e.to};if("category"!==s.options.type){const s=new mA(zS({baseUnit:"fit"},t.options.categoryAxis[0],{categories:[e.from,e.to]}),t.chartService).options;n.from=WC(s.min,-s.baseUnitStep,s.baseUnit),n.to=WC(s.max,s.baseUnitStep,s.baseUnit)}this.chart.trigger("navigatorFilter",n)}_zoom(t){const{chart:{_plotArea:{categoryAxis:e}},selection:s,options:{select:n,liveDrag:i}}=this,r=this.mainAxis();let o=t.delta;if(!s)return;const a=r.categoryIndex(s.options.from),l=r.categoryIndex(s.options.to);t.originalEvent.preventDefault(),Math.abs(o)>1&&(o*=3),l-a>1?(s.expand(o),this.readSelection()):(e.options.min=n.from,n.from=e.scaleRange(-t.delta).min),i&&(this.filterAxes(),this.redrawSlaves()),s.set(n.from,n.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(t){this._dragEnd(t)}showHint(t,e){this.hint&&this.hint.show(t,e,this.chart._plotArea.backgroundBox())}_selectStart(t){return this.chart._selectStart(t)}_select(t){return this.showHint(t.from,t.to),this.chart._select(t)}_selectEnd(t){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(t)}mainAxis(){const t=this.chart._plotArea;if(t)return t.namedCategoryAxes._navigator}select(t,e){const s=this.options.select;return t&&e&&(s.from=this.parseDate(t),s.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(t,e)),{from:s.from,to:s.to}}static setup(t={},e={}){if(t.__navi)return;t.__navi=!0;const s=zS({},e.navigator,t.navigator),n=t.panes=[].concat(t.panes),i=zS({},s.pane,{name:KR});s.visible||(i.visible=!1,i.height=.1),n.push(i),tO.attachAxes(t,s),tO.attachSeries(t,s,e)}static attachAxes(t,e){const s=e.series||[],n=t.categoryAxis=[].concat(t.categoryAxis),i=t.valueAxis=[].concat(t.valueAxis),r=0===NM(s,HT).length,o=zS({type:"date",pane:KR,roundToBaseUnit:!r,justified:r,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),a=e.categoryAxis;n.push(zS({},o,{maxDateGroups:200},a,{name:JR,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),zS({},o,a,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),zS({},o,a,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),i.push(zS({name:JR,pane:KR,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(t,e,s){const n=t.series=t.series||[],i=[].concat(e.series||[]),r=s.seriesColors,o=e.seriesDefaults;for(let a=0;a<i.length;a++)n.push(zS({color:r[a%r.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},o,i[a],{axis:JR,categoryAxis:JR,autoBind:e.autoBindElements}))}}function eO(){}const sO=tO;Mk(class extends HR{applyDefaults(t,e){const s=yk(this.element).width||600;let n=e;const i={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(s/28)}}};n&&(n=zS({},n,i)),sO.setup(t,n),super.applyDefaults(t,n)}_setElementClass(t){MS(t,"k-chart k-stockchart")}setOptions(t){this.destroyNavigator(),super.setOptions(t)}noTransitionsRedraw(){const t=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=t}_resize(){this.noTransitionsRedraw()}_redraw(){const t=this.navigator;!this._dirty()&&t&&t.options.partialRedraw?t.redrawSlaves():this._fullRedraw()}_dirty(){const t=this.options,e=nk([].concat(t.series,t.navigator.series),function(t){return t&&t.visible}).length,s=this._seriesCount!==e;return this._seriesCount=e,s}_fullRedraw(){let t=this.navigator;t||(t=this.navigator=new sO(this),this.trigger("navigatorCreated",{navigator:t})),t.clean(),t.setRange(),super._redraw(),t.initSelection()}_trackSharedTooltip(t){const e=this._plotArea.paneByPoint(t);e&&e.options.name===KR?this._unsetActivePoint():super._trackSharedTooltip(t)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const t=[].concat(this.options.categoryAxis);let e;for(let s=0;s<t.length;s++){const n=t[s];n.name===JR?e=n.categories:e&&n.pane===KR&&(n.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(t){const e=this._eventCoordinates(t),s=this._plotArea.paneByPoint(e);return super._stopChartHandlers(t)||s&&s.options.name===KR}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class nO extends(l_(c_(Xw(Ev)))){get nodeType(){return"Arc"}constructor(t=new __,e={}){super(e),this.geometry(t),tv(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this.geometry().bbox()}toPath(){const t=new q_,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(let s=1;s<e.length;s+=3)t.curveTo(e[s],e[s+1],e[s+2])}return t}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const iO=nO;class rO extends(l_(c_(Xw(Ev)))){get nodeType(){return"Rect"}constructor(t=new bv,e={}){super(e),this.geometry(t),tv(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this._geometry.bbox()}_containsPoint(t){return this._geometry.containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}const oO=rO;function aO(t,e,s,n,i){for(let r=0;r<t.length;r++){const o=t[r].clippedBBox();if(o){const a=o.origin.clone();a[n]=aI(o.size[i],e,s||"start",n,i),oI(a,o,t[r])}}}function lO(t,e,s){aO(t,e,s,"x","width")}function hO(t,e,s){aO(t,e,s,"y","height")}function cO(t,e,s,n){if(t.length>1){const i=new mv;let r=t[0].bbox;for(let o=1;o<t.length;o++){let a=t[o].element,l=t[o].bbox;i[e]=r.origin[e]+r.size[n],i[s]=l.origin[s],oI(i,l,a),l.origin[e]=i[e],r=l}}}function uO(t){const e=[];for(let s=0;s<t.length;s++){let n=t[s],i=n.clippedBBox();i&&e.push({element:n,bbox:i})}return e}function dO(t){cO(uO(t),"x","y","width")}function pO(t){cO(uO(t),"y","x","height")}function fO(t,e,s,n,i){const r=function(t,e,s){const n=e.size[s],i=[];let r,o,a=[],l=0;const h=function(){a.push({element:r,bbox:o})};for(let c=0;c<t.length;c++)if(r=t[c],o=r.clippedBBox(),o){let t=o.size[s];l+t>n?a.length?(i.push(a),a=[],h(),l=t):(h(),i.push(a),a=[],l=0):(h(),l+=t)}return a.length&&i.push(a),i}(t,e,i),o=e.origin.clone(),a=[];for(let l=0;l<r.length;l++){let t=r[l],e=t[0];o[n]=e.bbox.origin[n],oI(o,e.bbox,e.element),e.bbox.origin[s]=o[s],cO(t,s,n,i),a.push([]);for(let s=0;s<t.length;s++)a[l].push(t[s].element)}return a}function gO(t,e){return fO(t,e,"x","y","width")}function mO(t,e){return fO(t,e,"y","x","height")}function yO(t,e){const s=t.clippedBBox();if(s){const n=s.size,i=e.size;if(i.width<n.width||i.height<n.height){const e=Math.min(i.width/n.width,i.height/n.height),s=t.transform()||Sv();s.scale(e,e),t.transform(s)}}}let xO;class vO extends Kx{static get current(){return xO||(xO=new vO),xO}parse(t,e){const s=new G_(e);return U_(s,t)}}const bO=vO,_O=150,wO="arrowPointer",SO="barPointer",kO=.5,CO=Math.PI/180,AO="inside",TO="linear",EO="outside",MO="radialPointer",PO="radialRangePointer";function IO(t,e){const s=t.getOrigin(),n=t.getSize(),i=qS(e);return t.setOrigin([s.x-i.left,s.y-i.top]),t.setSize([n.width+(i.left+i.right),n.height+(i.top+i.bottom)]),t}const{Group:RO,Path:OO,Text:LO}=a;function DO(t,e){const s=t.box,n=t.children[0].box,i=e.border||{},r=e.background||"",o=OO.fromRect(new bv([s.x1,s.y1],[s.width(),s.height()]),{stroke:{}}),a=new LO(t.text,new mv(n.x1,n.y1),{font:e.font,fill:{color:e.color}}),l=IO(a.bbox().clone(),e.padding),h=OO.fromRect(l,{stroke:{color:i.width?i.color:"",width:i.width,opacity:i.opacity,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:r}}),c=new RO;return c.append(o),c.append(h),c.append(a),c}function FO(t,e,s){const n=fk(t.from)?t.from:mS,i=fk(t.to)?t.to:gS;return t.from=Math.max(Math.min(i,n),e),t.to=Math.min(Math.max(i,n),s),t}function NO(t,e){const s=qS(e);return s.left=-s.left,s.top=-s.top,s.right=-s.right,s.bottom=-s.bottom,IO(t,s)}const{Path:BO,Surface:zO}=a;class VO extends Kx{constructor(t,e,s,n={}){super(),this.element=t,this.theme=s,this.contextService=new ZS(this,n),this._originalOptions=zS({},this.options,e),this.options=zS({},this._originalOptions),this._initTheme(s),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(t){const e=this.pointers[0];if(0===arguments.length)return e.value();e.value(t),this._setValueOptions(t)}_draw(){const t=this.surface;t.clear(),t.draw(this._visuals)}exportVisual(){return this._visuals}allValues(t){const e=this.pointers,s=[];if(0===arguments.length){for(let t=0;t<e.length;t++)s.push(e[t].value());return s}if(ES(t))for(let n=0;n<t.length;n++)OS(t[n])&&e[n].value(t[n]);this._setValueOptions(t)}_setValueOptions(t){const e=[].concat(this.options.pointer),s=[].concat(t);for(let n=0;n<s.length;n++)e[n].value=s[n]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const t=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(t)}redraw(){const t=this._surfaceSize(),e=new bv([0,0],[t.width,t.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const s=NO(e.bbox(),this._gaugeAreaMargin);this.reflow(s)}setOptions(t,e){this._originalOptions=zS(this._originalOptions,t),this.options=zS({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(t){this.contextService.rtl=Boolean(t),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(t){this.contextService.intl=t}_initTheme(t){let e=t||this.theme||{};this.theme=e,this.options=zS({},e,this.options);const s=this.options,n=s.pointer;if(ES(n)){const t=[];for(let s=0;s<n.length;s++)t.push(zS({},e.pointer,n[s]));s.pointer=t}}_createGaugeArea(){const t=this.options.gaugeArea,e=this.surface.size(),s=t.border||{};let n=new bv([0,0],[e.width,e.height]);return this._gaugeAreaMargin=t.margin||5,s.width>0&&(n=NO(n,s.width)),BO.fromRect(n,{stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:t.background}})}_initSurface(){const{options:t,surface:e}=this,s=this._surfaceElement(),n=this._surfaceSize();yk(s,n),e&&e.options.type===t.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=zO.create(s,{type:t.renderAs}))}_surfaceSize(){const t=this.options,e=this._getSize();return t.gaugeArea&&zS(e,t.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const t=this.element,e=this._defaultSize();let s=t.offsetWidth,n=t.offsetHeight;return s||(s=e.width),n||(n=e.height),{width:s,height:n}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(t){this.options.transitions=t;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=t}}Mk(VO,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const jO=VO,{Path:HO,Group:UO}=a,$O=mv;function qO(t,e){const{position:s,tickX:n,tickY:i}=t;let r,o;return t.vertical?(r=new $O(n,s),o=new $O(n+e.size,s)):(r=new $O(s,i),o=new $O(s,i+e.size)),new HO({stroke:{color:e.color,width:e.width}}).moveTo(r).lineTo(o)}function GO(t,e,s,n){const i=e.length;if(n.visible){const{mirror:r,lineBox:o}=s;for(let a=n.skip;a<i;a+=n.step)a%n.skipUnit!=0&&(s.tickX=r?o.x2:o.x2-n.size,s.tickY=r?o.y1-n.size:o.y1,s.position=e[a],t.append(qO(s,n)))}}class WO extends SA{constructor(t,e){let s=t||{};!fk(s.reverse)&&!1===s.vertical&&(e||{}).rtl&&(s=Object.assign({},s,{reverse:!0})),super(0,1,s,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(t){let e=zS({},this.options,t);return e=zS({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||Dk(e.min,e.max),e}initFields(){}render(){const t=this.elements=new UO,e=this.renderLabels(),s=this.renderLine(),n=this.renderTicks(),i=this.renderRanges();return t.append(s,e,n,i),t}renderRanges(){const t=this.options,{min:e,max:s,vertical:n,labels:{mirror:i}}=t,r=t.ranges||[],o=new UO,a=r.length,l=t.rangeSize||t.minorTicks.size/2;for(let h=0;h<a;h++){const t=FO(r[h],e,s),a=this.getSlot(t.from,t.to),c=n?this.lineBox():a,u=n?a:this.lineBox();n?c.x1-=l*(i?-1:1):u.y2+=l*(i?-1:1),o.append(HO.fromRect(new bv([c.x1,u.y1],[c.x2-c.x1,u.y2-u.y1]),{fill:{color:t.color,opacity:t.opacity},stroke:{}}))}return o}renderLabels(){const{labels:t,options:e}=this,s=new UO;for(let n=0;n<t.length;n++)s.append(DO(t[n],e.labels));return s}renderLine(){const t=this.options.line,e=this.lineBox(),s=new UO;if(t.width>0&&t.visible){const n=new HO({stroke:{color:t.color,dashType:t.dashType,width:t.width}});n.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),s.append(n)}return s}renderTicks(){const t=new UO,e=this.options,s=e.majorTicks.visible?e.majorUnit:0,n={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return GO(t,this.getMajorTickPositions(),n,e.majorTicks),GO(t,this.getMinorTickPositions(),n,zS({},{skipUnit:s/e.minorUnit},e.minorTicks)),t}}Mk(WO,{min:0,max:50,majorTicks:{size:15,align:AO,color:nS,width:kO,visible:!0},minorTicks:{size:10,align:AO,color:nS,width:kO,visible:!0},line:{width:kO},labels:{position:AO,padding:2},mirror:!1,_alignLines:!1});const QO=WO;class ZO extends Kx{constructor(t,e){super();const{min:s,max:n}=t.options,i=this.options=zS({},this.options,e);i.fill=i.color,this.scale=t,i.value=fk(i.value)?_k(i.value,s,n):s}value(t){const e=this.options;if(0===arguments.length)return e.value;const{min:s,max:n}=this.scale.options;e._oldValue=fk(e._oldValue)?e.value:s,e.value=_k(t,s,n),this.elements&&this.repaint()}}Mk(ZO,{color:nS});const XO=ZO;class YO extends XO{constructor(t,e){super(t,e),this.options=zS({track:{visible:fk(e.track)}},this.options)}reflow(){const{options:t,scale:e}=this,{mirror:s,vertical:n}=e.options,i=e.lineBox(),r=t.track.size||t.size,o=t.size/2,a=qS(t.margin);let l,h,c,u=n?a[s?"left":"right"]:a[s?"bottom":"top"];u=s?-u:u,n?(c=new Vk(i.x1+u,i.y1,i.x1+u,i.y2),s?c.x1-=r:c.x2+=r,t.shape!==SO&&(h=new Vk(i.x2+u,i.y1-o,i.x2+u,i.y2+o),l=h)):(c=new Vk(i.x1,i.y1-u,i.x2,i.y1-u),s?c.y2+=r:c.y1-=r,t.shape!==SO&&(h=new Vk(i.x1-o,i.y1-u,i.x2+o,i.y1-u),l=h)),this.trackBox=c,this.pointerRangeBox=h,this.box=l||c.clone().pad(t.border.width)}getElementOptions(){const t=this.options;return{fill:{color:t.color,opacity:t.opacity},stroke:fk(t.border)?{color:t.border.width?t.border.color||t.color:"",width:t.border.width,dashType:t.border.dashType,opacity:t.opacity}:null}}_margin(){const{scale:t,options:e}=this,{mirror:s,vertical:n}=t.options,i=qS(e.margin);return n?i[s?"left":"right"]:i[s?"bottom":"top"]}}Mk(YO,{shape:SO,track:{border:{width:1}},color:nS,border:{width:1},opacity:1,margin:qS(3),animation:{type:SO},visible:!0});const KO=YO;class JO extends Kk{setup(){const t=this.options,{margin:e,from:s,to:n,vertical:i}=t,r=i?"x1":"y1";t.mirror===i?(s[r]-=e,n[r]-=e):(s[r]+=e,n[r]+=e);const o=this.fromScale=new mv(s.x1,s.y1),a=this.toScale=new mv(n.x1,n.y1);0!==t.duration&&(t.duration=Math.max(o.distanceTo(a)/t.duration*1e3,1))}step(t){const e=ak(this.fromScale.x,this.toScale.x,t),s=ak(this.fromScale.y,this.toScale.y,t);this.element.transform(Sv().translate(e,s))}}Mk(JO,{easing:TO,duration:250}),Yk.current.register(wO,JO);const tL=JO,eL=mv,sL=q_,nL=class extends KO{constructor(t,e){super(t,e),fk(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:t,options:{size:e}}=this,s=e/2,n=t.options.mirror?-1:1;let i;return i=t.options.vertical?[new eL(0,0-s),new eL(0-n*e,0),new eL(0,0+s)]:[new eL(0-s,0),new eL(0,0+n*e),new eL(0+s,0)],i}repaint(){const{scale:t,options:e}=this,s=new tL(this.elements,zS(e.animation,{vertical:t.options.vertical,mirror:t.options.mirror,margin:this._margin(e.margin),from:t.getSlot(e._oldValue),to:t.getSlot(e.value)}));!1===e.animation.transitions&&(s.options.duration=0),s.setup(),s.play()}render(){const{scale:t,options:e}=this,s=this.getElementOptions(),n=this.pointerShape(e.value);e.animation.type=wO;const i=new sL({stroke:s.stroke,fill:s.fill}).moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).close(),r=t.getSlot(e.value);return i.transform(Sv().translate(r.x1,r.y1)),this.elements=i,i}};class iL extends Kk{setup(){const t=this.options,e=this.axis=t.vertical?TS:AS,s=this.to=t.newPoints[0][e],n=this.from=t.oldPoints[0][e];0!==t.duration&&(t.duration=Math.max(Math.abs(s-n)/t.speed*1e3,1)),this._set(n)}step(t){const e=ak(this.from,this.to,t);this._set(e)}_set(t){const e="set"+this.axis.toUpperCase(),s=this.options.newPoints;s[0][e](t),s[1][e](t)}}Mk(iL,{easing:TO,speed:250}),Yk.current.register(SO,iL);const rL=iL,{Group:oL,Path:aL}=a,lL=class extends KO{constructor(t,e){super(t,e),fk(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(t){const{scale:e,options:s}=this,{mirror:n,vertical:i}=e.options,r=n===i?-1:1,o=s.size*r,a=e.getSlot(e.options.min),l=e.getSlot(t),h=i?TS:AS,c=i?AS:TS,u=this._margin()*r,d=new mv;d[h]=a[h+"1"],d[c]=a[c+"1"];const p=new mv;p[h]=l[h+"1"],p[c]=l[c+"1"],i?(d.translate(u,0),p.translate(u,0)):(d.translate(0,u),p.translate(0,u));const f=p.clone(),g=d.clone();return i?(f.translate(o,0),g.translate(o,0)):(f.translate(0,o),g.translate(0,o)),[d,p,f,g]}repaint(){const{scale:t,options:e}=this,s=this.pointerShape(e.value),n=this.pointerPath,i=this.pointerShape(e._oldValue);n.moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).lineTo(s[3]).close();const r=new rL(n,zS(e.animation,{reverse:t.options.reverse,vertical:t.options.vertical,oldPoints:[i[1],i[2]],newPoints:[s[1],s[2]]}));!1===e.animation.transitions&&(r.options.duration=0),r.setup(),r.play()}render(){const t=new oL,e=this.getElementOptions();this.options.track.visible&&t.append(this.renderTrack());const s=this.pointerPath=new aL({stroke:e.stroke,fill:e.fill});return t.append(s),this.elements=t,t}renderTrack(){const t=this.options.track,e=t.border||{},s=this.trackBox.clone().pad(e.width||0);return new aL.fromRect(s.toRect(),{fill:{color:t.color,opacity:t.opacity},stroke:{color:e.width?e.color||t.color:"",width:e.width,dashType:e.dashType}})}},hL=Lv;Mk(class extends jO{reflow(t){const e=this.pointers,s=t.origin.x,n=t.origin.y,i=new Vk(s,n,s+t.width(),n+t.height());this.scale.reflow(i),this._shrinkScaleWidth(i);for(let r=0;r<e.length;r++)e[r].reflow();this.bbox=this._getBox(i),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const t=new hL,e=this.scale.render(),s=this.pointers;t.append(this.gaugeArea),t.append(e);for(let n=0;n<s.length;n++){const e=s[n];t.append(e.render()),e.value(e.options.value)}this._visuals=t}_createModel(){const t=this.options,e=this.scale=new QO(t.scale,this.contextService);this.pointers=[];let s=t.pointer;s=ES(s)?s:[s];for(let n=0;n<s.length;n++){const i=zS({},s[n],{animation:{transitions:t.transitions}});this.pointers.push(new("arrow"===i.shape?nL:lL)(e,i))}}_defaultSize(){const t=this.options.scale.vertical;return{width:t?60:200,height:t?200:60}}_getBox(t){const{scale:e,pointers:s}=this,n=t.center();let i,r=s[0].box.clone().wrap(e.box);for(let o=0;o<s.length;o++)r.wrap(s[o].box.clone());return e.options.vertical?(i=r.width()/2,r=new Vk(n.x-i,t.y1,n.x+i,t.y2)):(i=r.height()/2,r=new Vk(t.x1,n.y-i,t.x2,n.y+i)),r}_alignElements(){const{scale:t,pointers:e}=this,s=t.box,n=e[0].box.clone().wrap(t.box),i=this.bbox;for(let o=0;o<e.length;o++)n.wrap(e[o].box.clone());let r;t.options.vertical?(r=i.center().x-n.center().x,t.reflow(new Vk(s.x1+r,i.y1,s.x2+r,i.y2))):(r=i.center().y-n.center().y,t.reflow(new Vk(s.x1,s.y1+r,s.x2,s.y2+r)));for(let o=0;o<e.length;o++)e[o].reflow(this.bbox)}_shrinkScaleWidth(t){const{scale:e}=this;if(!e.options.vertical){const s=e.contentBox().width()-t.width();s>0&&(e.box.shrink(s,0),e.box.alignTo(t,"center"),e.reflow(e.box))}}_shrinkElements(){const{scale:t,pointers:e}=this,s=t.box.clone(),n=t.options.vertical?"y":"x",i=e[0].box;for(let r=0;r<e.length;r++)i.wrap(e[r].box.clone());s[n+1]+=Math.max(s[n+1]-i[n+1],0),s[n+2]-=Math.max(i[n+2]-s[n+2],0),t.reflow(s);for(let r=0;r<e.length;r++)e[r].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const cL=180,{Arc:uL,Path:dL,Group:pL}=a;function fL(t,e,s,n){const i=new pL,r=t.center,o=t.getRadiusX();if(n.visible)for(let a=0;a<e.length;a++){const s=t.pointAt(e[a]),l=new mv(r.x+o-n.size,r.y).rotate(e[a],r);i.append(new dL({stroke:{color:n.color,width:n.width}}).moveTo(s).lineTo(l))}return i}function gL(t,e,s,n){return{from:t,to:e,color:s,opacity:n}}class mL extends SA{constructor(t,e){super(0,1,t,e)}initUserOptions(t){const e=zS({},this.options,t);return e.majorUnit=e.majorUnit||Dk(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(t,e){const s=this.renderArc(t,e);this.bbox=s.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(t){const e=t.center(),s=Math.min(t.height(),t.width())/2;if(!fk(this.bbox))return this.render(e,s);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(t){const{min:e,max:s,reverse:n,startAngle:i,endAngle:r}=this.options,o=r-i;let a;return a=n?r-(t-e)/(s-e)*o:(t-e)/(s-e)*o+i,a+cL}hasRanges(){const t=this.options.ranges;return t&&t.length}ticksSize(){const{majorTicks:t,minorTicks:e}=this.options;let s=0;return t.visible&&(s=t.size),e.visible&&(s=Math.max(e.size,s)),s}labelsCount(){let t=super.labelsCount();const e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit==0&&(t-=1),t}renderLabels(){const t=this.options,e=this.arc.clone();let s=e.getRadiusX();const n=this.tickAngles(e,t.majorUnit),i=t.rangeSize=t.rangeSize||.1*s,r=new pL;let o=.05*s;fk(t.rangeDistance)?o=t.rangeDistance:t.rangeDistance=o;const a=t.labels,l=a.position===AO,h=fk(this.labelElements);l&&(s-=this.ticksSize(),this.hasRanges()&&!h&&(s-=i+o),e.setRadiusX(s).setRadiusY(s));const c=this.labels,u=c.length,d=qS(a.padding),p=(d.left+d.right)/2,f=(d.top+d.bottom)/2;for(let g=0;g<u;g++){const s=c[g],i=s.box.width()/2,o=s.box.height()/2,a=n[g],u=(a-cL)*CO,d=e.pointAt(a),m=d.x+Math.cos(u)*(i+p)*(l?1:-1),y=d.y+Math.sin(u)*(o+f)*(l?1:-1);s.reflow(new Vk(m-i,y-o,m+i,y+o));const x=new mv(s.box.x1,s.box.y1);let v;if(h){v=this.labelElements.children[g];const t=v.bbox().origin,e=v.transform()||Sv();e.translate(x.x-t.x,x.y-t.y),v.transform(e)}else v=DO(s,t.labels),r.append(v);this.bbox=bv.union(this.bbox,v.bbox())}return r}repositionRanges(){const t=this.ranges.children;if(t.length>0){const{rangeDistance:e,rangeSize:s}=this.options;let n=this.getRangeRadius();this.options.labels.position===AO&&(n+=s+e);const i=n+s/2;for(let r=0;r<t.length;r++)t[r]._geometry.setRadiusX(i).setRadiusY(i);this.bbox=bv.union(this.bbox,this.ranges.bbox())}}renderRanges(){const t=this.rangeSegments(),e=t.length,s=new pL;if(e){const{rangeSize:n,reverse:i,rangeDistance:r}=this.options,o=this.getRangeRadius();this.radius(this.radius()-n-r);for(let a=0;a<e;a++){const e=t[a],n=this.slotAngle(e[i?"to":"from"]),r=this.slotAngle(e[i?"from":"to"]);r-n!=0&&s.append(this.createRange(n,r,o,e))}}return s}createRange(t,e,s,n){const i=this.options.rangeSize,r=new __(this.arc.center,{radiusX:s+i/2,radiusY:s+i/2,startAngle:t,endAngle:e});return new uL(r,{stroke:{width:i,color:n.color,opacity:n.opacity,lineCap:n.lineCap}})}rangeSegments(){const t=this.options,e=t.ranges||[],s=e.length,n=[];if(s){const{min:i,max:r,rangePlaceholderColor:o}=t;n.push(gL(i,r,o));for(let t=0;t<s;t++){const s=FO(e[t],i,r),a=n.length;for(let t=0;t<a;t++){const e=n[t];if(e.from<=s.from&&s.from<=e.to){n.push(gL(s.from,s.to,s.color,s.opacity)),e.from<=s.to&&s.to<=e.to&&n.push(gL(s.to,e.to,o,s.opacity)),e.to=s.from;break}}}}return n}getRangeRadius(){const{arc:t,options:e}=this,{rangeSize:s,rangeDistance:n,majorTicks:{size:i}}=e;let r;return r=e.labels.position===EO?t.getRadiusX()-i-n-s:t.getRadiusX()-s,r}renderArc(t,e){const s=this.options;return this.arc=new __(t,{radiusX:e,radiusY:e,startAngle:s.startAngle+cL,endAngle:s.endAngle+cL})}renderTicks(){const{arc:t,options:e}=this,s=t.clone();this.majorTickAngles=this.tickAngles(t,e.majorUnit),this.majorTicks=fL(s,this.majorTickAngles,0,e.majorTicks);const n=new pL;n.append(this.majorTicks);const i=e.majorTicks.size,r=e.minorTicks.size;if(this._tickDifference=i-r,e.labels.position===EO){const t=s.getRadiusX();s.setRadiusX(t-i+r).setRadiusY(t-i+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(t,e.minorUnit)),this.minorTicks=fL(s,this.minorTickAngles,0,e.minorTicks),n.append(this.minorTicks),n}normalizeTickAngles(t){const e=this.options,s=e.majorUnit/e.minorUnit;for(let n=t.length-1;n>=0;n--)n%s==0&&t.splice(n,1);return t}tickAngles(t,e){const s=this.options,n=t.endAngle-t.startAngle;let i=(s.max-s.min)/e,r=t.startAngle,o=n/i;s.reverse&&(r+=n,o=-o),n>=360&&s.max%e==0&&(i-=1);const a=[];for(let l=0;l<i;l++)a.push(kk(r,3)),r+=o;return kk(r)<=t.endAngle&&a.push(r),a}radius(t){if(!t)return this.arc.getRadiusX();this.arc.setRadiusX(t).setRadiusY(t),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(t,e,s){const n=s&&this._tickDifference||0;let i=this.arc;const r=i.getRadiusX();s&&this.options.labels.position===EO&&0!==n&&(i=this.arc.clone(),i.setRadiusX(r-n).setRadiusY(r-n));for(let o=0;o<t.length;o++){const s=i.pointAt(e[o]),n=t[o].segments,r=s.x-n[0].anchor().x,a=s.y-n[0].anchor().y;t[o].transform((new Sv).translate(r,a))}}}Mk(mL,{min:0,max:100,majorTicks:{size:15,align:AO,color:nS,width:kO,visible:!0},minorTicks:{size:10,align:AO,color:nS,width:kO,visible:!0},startAngle:-30,endAngle:210,labels:{position:AO,padding:2}});const yL=mL;class xL extends Kk{constructor(t,e){super(t,e);const s=this.options;s.duration=Math.max(Math.abs(s.newAngle-s.oldAngle)/s.duration*1e3,1)}step(t){const e=this.options,s=ak(e.oldAngle,e.newAngle,t);this.element.transform(Sv().rotate(s,e.center))}}Mk(xL,{easing:TO,duration:_O}),Yk.current.register(MO,xL);const vL=xL,{Circle:bL,Group:_L,Path:wL}=a;class SL extends XO{setAngle(t){this.elements.transform(Sv().rotate(t,this.center))}repaint(){const{scale:t,options:e}=this,s=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(n):new vL(this.elements,zS(e.animation,{oldAngle:s,newAngle:n})).play()}render(){const{scale:t,options:e}=this,s=new _L;return!1!==e.animation&&zS(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),s.append(this._renderNeedle(),this._renderCap()),this.elements=s,this.setAngle(CO),s}reflow(t){const e=this.center=t.center,s=_k(this.options.length||1,.1,1.5),n=this.radius=t.getRadiusX()*s,i=this.capSize=Math.round(n*this.options.cap.size);this.bbox=bv.fromPoints(new mv(e.x-i,e.y-i),new mv(e.x+i,e.y+i))}_renderNeedle(){const t=this.scale.options.minorTicks.size,e=this.center,s=this.options.color,n=new wL({fill:{color:s},stroke:{color:s,width:kO}});return n.moveTo(e.x+this.radius-t,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),n}_renderCap(){const t=this.options,e=t.cap.color||t.color,s=new Sw(this.center,this.capSize);return new bL(s,{fill:{color:e},stroke:{color:e}})}}Mk(SL,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:MO,duration:_O}});const kL=SL,CL=Lv;Mk(class extends jO{reflow(t){const e=this.pointers;this.scale.reflow(t),this._initialPlotArea=this.scale.bbox;for(let s=0;s<e.length;s++)e[s].reflow(this.scale.arc),this._initialPlotArea=bv.union(this._initialPlotArea,e[s].bbox);this.fitScale(t),this.alignScale(t),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(t,e,s){const n=this._visuals=new CL;n.append(t),n.append(s.ticks),n.append(s.ranges),this._buildPointers(e),n.append(s.labelElements)}_buildPointers(t){for(let e=0;e<t.length;e++){const s=t[e];s.render(),this._visuals.append(s.elements),s.value(s.options.value)}}fitScale(t){const e=this.scale.arc,s=Math.abs(this.getDiff(this._initialPlotArea,t));let n,i,r,o,a,l=kk(s,3),h=kk(-s,3),c=0,u=0;for(;!(!(u++<100)||(c=a===r?c+1:0,c>5)||l!==o&&(n=this.getPlotBox(l,t,e),0<=n&&n<=2)||h!==o&&(r=this.getPlotBox(h,t,e),0<=r&&r<=2)||(o=n>0&&r>0?2*l:n<0&&r<0?2*h:kk((l+h)/2||1,3),i=this.getPlotBox(o,t,e),0<=i&&i<=2));)a=r,i>0?(h=o,r=i):(l=o,n=i)}getPlotBox(t,e,s){const n=this.scale,i=this.pointers,r=s.getRadiusX(),o=s.clone();o.setRadiusX(r+t).setRadiusY(r+t),n.arc=o,n.reflow(e),this.plotBbox=n.bbox;for(let a=0;a<i.length;a++)i[a].reflow(o),this.plotBbox=bv.union(this.plotBbox,i[a].bbox);return this.getDiff(this.plotBbox,e)}getDiff(t,e){return Math.min(e.width()-t.width(),e.height()-t.height())}alignScale(t){const e=this.plotBbox.center(),s=t.center(),n=e.x-s.x,i=e.y-s.y,{scale:r,pointers:o}=this;r.arc.center.x-=n,r.arc.center.y-=i,r.reflow(t);for(let a=0;a<o.length;a++)o[a].reflow(r.arc),this.plotBbox=bv.union(r.bbox,o[a].bbox)}_createModel(){const t=this.options,e=t.pointer,s=this.scale=new yL(t.scale,this.contextService);this.pointers=[];const n=ES(e)?e:[e];for(let i=0;i<n.length;i++){const e=new kL(s,zS({},n[i],{animation:{transitions:t.transitions}}));this.pointers.push(e)}}},{transitions:!0,gaugeArea:{background:""}}),Mk(class extends yL{rangeSegments(){const{min:t,max:e,rangePlaceholderColor:s,rangeLineCap:n}=this.options;return[{from:t,to:e,color:s,lineCap:n}]}hasRanges(){return!0}placeholderRangeAngle(t){const e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(t):e.setStartAngle(t)}addRange(t,e,s){const n=this.options.reverse,i=this.slotAngle(n?e:t),r=this.slotAngle(n?t:e),o=this.createRange(i,r,this.getRangeRadius(),s);return this.ranges.append(o),o}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class AL extends Kk{constructor(t,e){super(t,e);const s=this.options,n=Math.abs(s.newAngle-s.oldAngle)/s.duration*1e3;s.duration=_k(n,_O,800);const i=t.elements.options.get("stroke.color"),r=t.currentColor();i!==r&&(this.startColor=new gE(i),this.color=new gE(r))}step(t){const{options:e,startColor:s,color:n}=this,i=ak(e.oldAngle,e.newAngle,t);if(this.element.angle(i),n){const e=kk(ak(s.r,n.r,t)),i=kk(ak(s.g,n.g,t)),r=kk(ak(s.b,n.b,t));this.element.stroke(new gE(e,i,r).toHex())}}}Mk(AL,{easing:TO,duration:_O}),Yk.current.register(PO,AL);const TL=AL;Mk(class extends XO{repaint(){const{scale:t,options:e}=this,s=t.slotAngle(e._oldValue),n=t.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(n),this.stroke(this.currentColor())):(this.animation=new TL(this,zS(e.animation,{oldAngle:s,newAngle:n})),this.animation.play())}angle(t){const e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(t):e.setEndAngle(t),this.scale.placeholderRangeAngle(t)}stroke(t){this.elements.stroke(t)}render(){if(this.elements)return;const{scale:t,options:e}=this;!1!==e.animation&&zS(e.animation,{startAngle:0,center:t.arc.center,reverse:t.options.reverse}),this.elements=t.addRange(t.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:t.options.rangeLineCap})}currentColor(){const{min:t,max:e}=this.scale.options,{colors:s,color:n,value:i}=this.options,r=OS(i)?i:t;if(s)for(let o=0;o<s.length;o++){const{color:n,from:i=t,to:a=e}=s[o];if(i<=r&&r<=a)return n}return n}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:PO,duration:_O}});let EL=(()=>{let t=class{read(){return this.options||this.load(),this.options}load(){if("undefined"==typeof document)return void(this.options={});const t=document.createElement("div");t.style.display="none",t.innerHTML='\n    <div class="k-var--gauge-pointer"></div>\n    <div class="k-var--gauge-track"></div>\n    <div class="k-var--normal-text-color"></div>\n',document.body.appendChild(t);try{const e=this.getColor(t,"gauge-pointer"),s=this.getColor(t,"gauge-track"),n=this.getColor(t,"normal-text-color");this.options={pointer:{color:e},scale:{labels:{color:n},rangePlaceholderColor:s,minorTicks:{color:n},majorTicks:{color:n},line:{color:n}}}}finally{document.body.removeChild(t)}}getColor(t,e){return window.getComputedStyle(t.querySelector(`.k-var--${e}`)).backgroundColor}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),ML=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({providers:[EL],imports:[Wg]}),t})(),PL=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[ML,gh]]}),t})(),IL=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[ML]]}),t})(),RL=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[ML]]}),t})(),OL=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[[ML,gh]]}),t})(),LL=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=mt({imports:[PL,OL,IL,RL]}),t})(),DL=(()=>{class t{constructor(){this.songProgress={currentTick:0,progress:0,timeElapsed:"",timeRemaining:""}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-song-progress"]],inputs:{songProgress:"songProgress"},decls:7,vars:3,consts:[[1,"songTime"],[1,"timeElapsed"],[1,"timeRemaining"],["mode","determinate",3,"value"]],template:function(t,e){1&t&&(po(0,"div",0),po(1,"div",1),To(2),fo(),po(3,"div",2),To(4),fo(),fo(),go(5,"br"),go(6,"mat-progress-bar",3)),2&t&&($i(2),Eo(e.songProgress.timeElapsed),$i(2),Eo(e.songProgress.timeRemaining),$i(2),co("value",100*e.songProgress.progress))},directives:[Ig],styles:[".songTime[_ngcontent-%COMP%]   .timeElapsed[_ngcontent-%COMP%]{width:100px;float:left}.songTime[_ngcontent-%COMP%]   .timeRemaining[_ngcontent-%COMP%]{width:100px;float:right;text-align:right}.songTime[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px}"]}),t})(),FL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t,bootstrap:[Tc]}),t.\u0275inj=mt({providers:[Ac],imports:[[Xh,Ef,kg,Og,$g,Ng,LL]]}),t})();!function(t,e,s){const n=t.\u0275cmp;n.directiveDefs=()=>e.map(Wt),n.pipeDefs=()=>s.map(Qt)}(Tc,[Ru,Bu,$u,Bg,DL,Lg],[]),function(){if(zl)throw new Error("Cannot enable prod mode after platform setup.");Bl=!1}(),Qh().bootstrapModule(FL).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=171)}]);