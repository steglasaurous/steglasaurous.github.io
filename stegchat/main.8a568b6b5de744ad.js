(self.webpackChunkstegchat=self.webpackChunkstegchat||[]).push([[179],{70:(ut,yt,Se)=>{"use strict";var ge={};Se.r(ge),Se.d(ge,{AwayNotify:()=>Mq,Batch:()=>xq,CapNotify:()=>kq,ChgHost:()=>Pq,InviteNotify:()=>Fq,LabeledResponse:()=>Lq,MessageTags:()=>Bq,MultiPrefix:()=>Vq});var dt={};Se.r(dt),Se.d(dt,{Away:()=>Xq,CapabilityNegotiation:()=>Qo,ChannelInvite:()=>Wq,ChannelJoin:()=>qf,ChannelKick:()=>qq,ChannelList:()=>zq,ChannelPart:()=>Yf,ClientQuit:()=>eA,ErrorMessage:()=>Jq,IsOnQuery:()=>i7,Kill:()=>Kq,Mode:()=>Hq,Names:()=>Xv,NickChange:()=>Wf,Notice:()=>ey,OperLogin:()=>$q,Password:()=>JI,Ping:()=>ny,Pong:()=>ry,PrivateMessage:()=>Zf,Rehash:()=>e7,Restart:()=>t7,ServerQuit:()=>Uq,TagMessage:()=>o7,Time:()=>Yq,Topic:()=>Gq,UserHostQuery:()=>r7,UserRegistration:()=>XI,Wallops:()=>n7,WhoIsQuery:()=>Qq,WhoQuery:()=>ty,WhoWasQuery:()=>Zq});var hn={};Se.r(hn),Se.d(hn,{Error401NoSuchNick:()=>P7,Error402NoSuchServer:()=>F7,Error403NoSuchChannel:()=>L7,Error404CanNotSendToChan:()=>B7,Error405TooManyChannels:()=>V7,Error410InvalidCapCmd:()=>j7,Error421UnknownCommand:()=>$7,Error422NoMotd:()=>oA,Error431NoNickNameGiven:()=>U7,Error432ErroneusNickname:()=>H7,Error433NickNameInUse:()=>G7,Error436NickCollision:()=>z7,Error441UserNotInChannel:()=>W7,Error442NotOnChannel:()=>q7,Error443UserOnChannel:()=>Y7,Error451NotRegistered:()=>Q7,Error461NeedMoreParams:()=>Z7,Error462AlreadyRegistered:()=>sA,Error471ChannelIsFull:()=>K7,Error472UnknownMode:()=>J7,Error473InviteOnlyChan:()=>X7,Error474BannedFromChan:()=>e9,Error475BadChannelKey:()=>t9,Error479BadChanName:()=>n9,Error481NoPrivileges:()=>r9,Error482ChanOpPrivsNeeded:()=>i9,Error491NoOperHost:()=>o9,Error501UmodeUnknownFlag:()=>s9,Error502UsersDontMatch:()=>a9,Reply001Welcome:()=>tA,Reply002YourHost:()=>s7,Reply003Created:()=>a7,Reply004ServerInfo:()=>nA,Reply005Isupport:()=>rA,Reply221UmodeIs:()=>l7,Reply301Away:()=>c7,Reply302UserHost:()=>u7,Reply305UnAway:()=>d7,Reply306NowAway:()=>f7,Reply311WhoisUser:()=>h7,Reply315EndOfWho:()=>p7,Reply318EndOfWhois:()=>g7,Reply319WhoisChannels:()=>m7,Reply322List:()=>_7,Reply323ListEnd:()=>v7,Reply324ChannelModeIs:()=>y7,Reply331NoTopic:()=>b7,Reply332Topic:()=>C7,Reply333TopicWhoTime:()=>D7,Reply341Inviting:()=>w7,Reply348ExceptList:()=>E7,Reply349EndOfExceptList:()=>S7,Reply352WhoReply:()=>T7,Reply353NamesReply:()=>M7,Reply366EndOfNames:()=>N7,Reply367BanList:()=>I7,Reply368EndOfBanList:()=>A7,Reply372Motd:()=>O7,Reply375MotdStart:()=>R7,Reply376EndOfMotd:()=>iA,Reply381YoureOper:()=>x7,Reply391Time:()=>k7});let ye=null,En=1;function Ae(e){const n=ye;return ye=e,n}function R(e){if((!Tt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==En)){if(!e.producerMustRecompute(e)&&!te(e))return e.dirty=!1,void(e.lastCleanEpoch=En);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=En}}function te(e){bt(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(R(t),r!==t.version))return!0}return!1}function gt(e,n){if(function pe(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),bt(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)gt(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];bt(i),i.producerIndexOfThis[r]=n}}function Tt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function bt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let sh=null;function G(e){return"function"==typeof e}function Fe(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Pt=Fe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function lr(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Mt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(G(r))try{r()}catch(o){n=o instanceof Pt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Sn(o)}catch(s){n=n??[],s instanceof Pt?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Pt(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Sn(n);else{if(n instanceof Mt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&lr(t,n)}remove(n){const{_finalizers:t}=this;t&&lr(t,n),n instanceof Mt&&n._removeParent(this)}}Mt.EMPTY=(()=>{const e=new Mt;return e.closed=!0,e})();const oo=Mt.EMPTY;function rs(e){return e instanceof Mt||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Sn(e){G(e)?e():e.unsubscribe()}const Qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ht={setTimeout(e,n,...t){const{delegate:r}=ht;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ht;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Si(e){ht.setTimeout(()=>{const{onUnhandledError:n}=Qn;if(!n)throw e;n(e)})}function so(){}const ch=dh("C",void 0,void 0);function dh(e,n,t){return{kind:e,value:n,error:t}}let ao=null;function jc(e){if(Qn.useDeprecatedSynchronousErrorHandling){const n=!ao;if(n&&(ao={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=ao;if(ao=null,t)throw r}}else e()}class fh extends Mt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,rs(n)&&n.add(this)):this.destination=kA}static create(n,t,r){return new Fa(n,t,r)}next(n){this.isStopped?ph(function IA(e){return dh("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ph(function uh(e){return dh("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ph(ch,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const OA=Function.prototype.bind;function hh(e,n){return OA.call(e,n)}class RA{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){$c(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){$c(r)}else $c(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){$c(t)}}}class Fa extends fh{constructor(n,t,r){let i;if(super(),G(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&hh(n.next,o),error:n.error&&hh(n.error,o),complete:n.complete&&hh(n.complete,o)}):i=n}this.destination=new RA(i)}}function $c(e){Qn.useDeprecatedSynchronousErrorHandling?function AA(e){Qn.useDeprecatedSynchronousErrorHandling&&ao&&(ao.errorThrown=!0,ao.error=e)}(e):Si(e)}function ph(e,n){const{onStoppedNotification:t}=Qn;t&&ht.setTimeout(()=>t(e,n))}const kA={closed:!0,next:so,error:function xA(e){throw e},complete:so},gh="function"==typeof Symbol&&Symbol.observable||"@@observable";function ni(e){return e}function fy(e){return 0===e.length?ni:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function LA(e){return e&&e instanceof fh||function FA(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}(e)&&rs(e)}(t)?t:new Fa(t,r,i);return jc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=hy(r))((i,o)=>{const s=new Fa({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[gh](){return this}pipe(...t){return fy(t)(this)}toPromise(t){return new(t=hy(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function hy(e){var n;return null!==(n=e??Qn.Promise)&&void 0!==n?n:Promise}const BA=Fe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ke=(()=>{class e extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new py(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new BA}next(t){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){jc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?oo:(this.currentObservers=null,o.push(t),new Mt(()=>{this.currentObservers=null,lr(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return e.create=(n,t)=>new py(n,t),e})();class py extends Ke{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:oo}}function gy(e){return G(e?.lift)}function Ct(e){return n=>{if(gy(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(e,n,t,r,i){return new VA(e,n,t,r,i)}class VA extends fh{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function De(e,n){return Ct((t,r)=>{let i=0;t.subscribe(rt(r,o=>{r.next(e.call(n,o,i++))}))})}var mh=function(e,n){return(mh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function is(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}mh(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var lo=function(){return lo=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},lo.apply(this,arguments)};function sn(e,n,t,r){var s,i=arguments.length,o=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(n,t,o):s(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function ri(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function ii(e,n){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(6===c[0]&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function Uc(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function oi(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,s,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function co(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function Ti(e){return this instanceof Ti?(this.v=e,this):new Ti(e)}"function"==typeof SuppressedError&&SuppressedError;const vh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vy(e){return G(e?.then)}function yy(e){return G(e[gh])}function by(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function Cy(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Dy=function rO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wy(e){return G(e?.[Dy])}function Ey(e){return function my(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Ti?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Ti(t.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{t.releaseLock()}})}function Sy(e){return G(e?.getReader)}function Ft(e){if(e instanceof Ze)return e;if(null!=e){if(yy(e))return function iO(e){return new Ze(n=>{const t=e[gh]();if(G(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(vh(e))return function oO(e){return new Ze(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(vy(e))return function sO(e){return new Ze(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Si)})}(e);if(by(e))return Ty(e);if(wy(e))return function aO(e){return new Ze(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Sy(e))return function lO(e){return Ty(Ey(e))}(e)}throw Cy(e)}function Ty(e){return new Ze(n=>{(function cO(e,n){var t,r,i,o;return ri(this,void 0,void 0,function*(){try{for(t=function _y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Uc(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function si(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function zt(e,n,t=1/0){return G(n)?zt((r,i)=>De((o,s)=>n(r,o,i,s))(Ft(e(r,i))),t):("number"==typeof n&&(t=n),Ct((r,i)=>function uO(e,n,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&n.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&n.next(g),c++;let v=!1;Ft(t(g,u++)).subscribe(rt(n,_=>{i?.(_),o?h(_):n.next(_)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){const _=l.shift();s?si(n,s,()=>p(_)):p(_)}f()}catch(_){n.error(_)}}))};return e.subscribe(rt(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function os(e=1/0){return zt(ni,e)}const Zn=new Ze(e=>e.complete());function My(e){return e&&G(e.schedule)}function yh(e){return e[e.length-1]}function Hc(e){return G(yh(e))?e.pop():void 0}function La(e){return My(yh(e))?e.pop():void 0}function Ny(e,n=0){return Ct((t,r)=>{t.subscribe(rt(r,i=>si(r,e,()=>r.next(i),n),()=>si(r,e,()=>r.complete(),n),i=>si(r,e,()=>r.error(i),n)))})}function Iy(e,n=0){return Ct((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ay(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ze(t=>{si(t,n,()=>{const r=e[Symbol.asyncIterator]();si(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Lt(e,n){return n?function vO(e,n){if(null!=e){if(yy(e))return function hO(e,n){return Ft(e).pipe(Iy(n),Ny(n))}(e,n);if(vh(e))return function gO(e,n){return new Ze(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(vy(e))return function pO(e,n){return Ft(e).pipe(Iy(n),Ny(n))}(e,n);if(by(e))return Ay(e,n);if(wy(e))return function mO(e,n){return new Ze(t=>{let r;return si(t,n,()=>{r=e[Dy](),si(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}(e,n);if(Sy(e))return function _O(e,n){return Ay(Ey(e),n)}(e,n)}throw Cy(e)}(e,n):Ft(e)}class Kn extends Ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Q(...e){return Lt(e,La(e))}function Ry(e={}){const{connector:n=(()=>new Ke),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ct((g,v)=>{c++,!d&&!u&&f();const _=l=l??n();v.add(()=>{c--,0===c&&!d&&!u&&(a=bh(p,i))}),_.subscribe(v),!s&&c>0&&(s=new Fa({next:m=>_.next(m),error:m=>{d=!0,f(),a=bh(h,t,m),_.error(m)},complete:()=>{u=!0,f(),a=bh(h,r),_.complete()}}),Ft(g).subscribe(s))})(o)}}function bh(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new Fa({next:()=>{r.unsubscribe(),e()}});return Ft(n(...t)).subscribe(r)}function Jn(e,n){return Ct((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(rt(r,l=>{i?.unsubscribe();let c=0;const u=o++;Ft(e(l,u)).subscribe(i=rt(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function yO(e,n){return e===n}function Le(e){for(let n in e)if(e[n]===Le)return n;throw Error("Could not find renamed property on target object.")}function Nt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Nt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ch(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const bO=Le({__forward_ref__:Le});function Pe(e){return e.__forward_ref__=Pe,e.toString=function(){return Nt(this())},e}function J(e){return zc(e)?e():e}function zc(e){return"function"==typeof e&&e.hasOwnProperty(bO)&&e.__forward_ref__===Pe}function Dh(e){return e&&!!e.\u0275providers}const ky="https://g.co/ng/security#xss";class T extends Error{constructor(n,t){super(function ss(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}const Ba=Le({\u0275cmp:Le}),wh=Le({\u0275dir:Le}),Eh=Le({\u0275pipe:Le}),Py=Le({\u0275mod:Le}),ai=Le({\u0275fac:Le}),Va=Le({__NG_ELEMENT_ID__:Le}),Fy=Le({__NG_ENV_ID__:Le});function re(e){return"string"==typeof e?e:null==e?"":String(e)}function Sh(e,n){throw new T(-201,!1)}function Tn(e,n){null==e&&function X(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $e(e){return{providers:e.providers||[],imports:e.imports||[]}}function Wc(e){return Ly(e,Yc)||Ly(e,By)}function Ly(e,n){return e.hasOwnProperty(n)?e[n]:null}function qc(e){return e&&(e.hasOwnProperty(Th)||e.hasOwnProperty(IO))?e[Th]:null}const Yc=Le({\u0275prov:Le}),Th=Le({\u0275inj:Le}),By=Le({ngInjectableDef:Le}),IO=Le({ngInjectorDef:Le});var _e=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(_e||{});let Mh;function Vy(){return Mh}function Mn(e){const n=Mh;return Mh=e,n}function jy(e,n,t){const r=Wc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&_e.Optional?null:void 0!==n?n:void Sh(Nt(e))}const Je=globalThis;class V{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ja={},Rh="__NG_DI_FLAG__",Qc="ngTempTokenPath",RO=/\n/gm,Uy="__source";let as;function Ni(e){const n=as;return as=e,n}function PO(e,n=_e.Default){if(void 0===as)throw new T(-203,!1);return null===as?jy(e,void 0,n):as.get(e,n&_e.Optional?null:void 0,n)}function K(e,n=_e.Default){return(Vy()||PO)(J(e),n)}function y(e,n=_e.Default){return K(e,Zc(n))}function Zc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xh(e){const n=[];for(let t=0;t<e.length;t++){const r=J(e[t]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){const a=r[s],l=FO(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(K(i,o))}else n.push(K(r))}return n}function $a(e,n){return e[Rh]=n,e.prototype[Rh]=n,e}function FO(e){return e[Rh]}function li(e){return{toString:e}.toString()}var Kc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kc||{}),cr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cr||{});const Tr={},Te=[];function Gy(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function kh(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Wy(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function zy(e){return 3===e||4===e||6===e}function Wy(e){return 64===e.charCodeAt(0)}function Ua(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||qy(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function qy(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Yy="ng-template";function VO(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Gy(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Qy(e){return 4===e.type&&e.value!==Yy}function jO(e,n,t){return n===(4!==e.type||t?e.value:Yy)}function $O(e,n,t){let r=4;const i=e.attrs||[],o=function GO(e){for(let n=0;n<e.length;n++)if(zy(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!jO(e,l,t)||""===l&&1===n.length){if(ur(r))return!1;s=!0}}else{const c=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!VO(e.attrs,c,t)){if(ur(r))return!1;s=!0}continue}const d=UO(8&r?"class":l,i,Qy(e),t);if(-1===d){if(ur(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Gy(h,c,0)||2&r&&c!==f){if(ur(r))return!1;s=!0}}}}else{if(!s&&!ur(r)&&!ur(l))return!1;if(s&&ur(l))continue;s=!1,r=l|1&r}}return ur(r)||s}function ur(e){return 0==(1&e)}function UO(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function zO(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Zy(e,n,t=!1){for(let r=0;r<n.length;r++)if($O(e,n[r],t))return!0;return!1}function WO(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ky(e,n){return e?":not("+n.trim()+")":n}function qO(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ur(s)&&(n+=Ky(o,i),i=""),r=s,o=o||!ur(r);t++}return""!==i&&(n+=Ky(o,i)),n}function Nn(e){return li(()=>{const n=Xy(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cr.Emulated,styles:e.styles||Te,_:null,schemas:e.schemas||null,tView:null,id:""};e0(t);const r=e.dependencies;return t.directiveDefs=Jc(r,!1),t.pipeDefs=Jc(r,!0),t.id=function XO(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function ZO(e){return fe(e)||Bt(e)}function KO(e){return null!==e}function Ge(e){return li(()=>({type:e.type,bootstrap:e.bootstrap||Te,declarations:e.declarations||Te,imports:e.imports||Te,exports:e.exports||Te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Jy(e,n){if(null==e)return Tr;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function F(e){return li(()=>{const n=Xy(e);return e0(n),n})}function fe(e){return e[Ba]||null}function Bt(e){return e[wh]||null}function Jt(e){return e[Eh]||null}function an(e,n){const t=e[Py]||null;if(!t&&!0===n)throw new Error(`Type ${Nt(e)} does not have '\u0275mod' property.`);return t}function Xy(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Tr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Te,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jy(e.inputs,n),outputs:Jy(e.outputs),debugInfo:null}}function e0(e){e.features?.forEach(n=>n(e))}function Jc(e,n){if(!e)return null;const t=n?Jt:ZO;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(KO)}const mt=0,x=1,q=2,lt=3,dr=4,ln=5,Mr=6,ls=7,ze=8,gn=9,cs=10,ie=11,Ha=12,t0=13,us=14,pt=15,Ga=16,ds=17,Nr=18,za=19,n0=20,Ai=21,Xc=22,uo=23,oe=25,Ph=1,Ir=7,fs=9,Dt=10;var hs=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(hs||{});function Xt(e){return Array.isArray(e)&&"object"==typeof e[Ph]}function Wt(e){return Array.isArray(e)&&!0===e[Ph]}function Fh(e){return 0!=(4&e.flags)}function fo(e){return e.componentOffset>-1}function tu(e){return 1==(1&e.flags)}function fr(e){return!!e.template}function Lh(e){return 0!=(512&e[q])}function ho(e,n){return e.hasOwnProperty(ai)?e[ai]:null}class rR{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function en(){return a0}function a0(e){return e.type.prototype.ngOnChanges&&(e.setInput=oR),iR}function iR(){const e=c0(this),n=e?.current;if(n){const t=e.previous;if(t===Tr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function oR(e,n,t,r){const i=this.declaredInputs[t],o=c0(e)||function sR(e,n){return e[l0]=n}(e,{previous:Tr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new rR(l&&l.currentValue,n,a===Tr),e[r]=n}en.ngInherit=!0;const l0="__ngSimpleChanges__";function c0(e){return e[l0]||null}const Ar=function(e,n,t){};function Xe(e){for(;Array.isArray(e);)e=e[mt];return e}function qa(e,n){return Xe(n[e])}function mn(e,n){return Xe(n[e.index])}function Ya(e,n){return e.data[n]}function Ln(e,n){const t=n[e];return Xt(t)?t:t[mt]}function Uh(e){return 128==(128&e[q])}function Or(e,n){return null==n?null:e[n]}function f0(e){e[ds]=0}function dR(e){1024&e[q]||(e[q]|=1024,Uh(e)&&nu(e))}function p0(e){return 9216&e[q]||e[uo]?.dirty}function g0(e){p0(e)&&nu(e)}function nu(e){let n=e[lt];for(;null!==n&&!(Wt(n)&&n[q]&hs.HasChildViewsToRefresh||Xt(n)&&8192&n[q]);){if(Wt(n))n[q]|=hs.HasChildViewsToRefresh;else if(n[q]|=8192,!Uh(n))break;n=n[lt]}}function ru(e,n){if(256==(256&e[q]))throw new T(911,!1);null===e[Ai]&&(e[Ai]=[]),e[Ai].push(n)}const ee={lFrame:S0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _0(){return ee.bindingsEnabled}function gs(){return null!==ee.skipHydrationRootTNode}function w(){return ee.lFrame.lView}function be(){return ee.lFrame.tView}function Ue(){let e=v0();for(;null!==e&&64===e.type;)e=e.parent;return e}function v0(){return ee.lFrame.currentTNode}function kr(e,n){const t=ee.lFrame;t.currentTNode=e,t.isParent=n}function Gh(){return ee.lFrame.isParent}function zh(){ee.lFrame.isParent=!1}function Pr(){return ee.lFrame.bindingIndex++}function ui(e){const n=ee.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function DR(e,n){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=e,Wh(n)}function Wh(e){ee.lFrame.currentDirectiveIndex=e}function D0(){return ee.lFrame.currentQueryIndex}function Yh(e){ee.lFrame.currentQueryIndex=e}function ER(e){const n=e[x];return 2===n.type?n.declTNode:1===n.type?e[ln]:null}function w0(e,n,t){if(t&_e.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&_e.Host||(i=ER(o),null===i||(o=o[us],10&i.type))););if(null===i)return!1;n=i,e=o}const r=ee.lFrame=E0();return r.currentTNode=n,r.lView=e,!0}function Qh(e){const n=E0(),t=e[x];ee.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function E0(){const e=ee.lFrame,n=null===e?null:e.child;return null===n?S0(e):n}function S0(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function T0(){const e=ee.lFrame;return ee.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const M0=T0;function Zh(){const e=T0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function cn(){return ee.lFrame.selectedIndex}function po(e){ee.lFrame.selectedIndex=e}function it(){const e=ee.lFrame;return Ya(e.tView,e.selectedIndex)}let I0=!0;function iu(){return I0}function Oi(e){I0=e}function ou(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function su(e,n,t){A0(e,n,3,t)}function au(e,n,t,r){(3&e[q])===t&&A0(e,n,t,r)}function Kh(e,n){let t=e[q];(3&t)===n&&(t&=16383,t+=1,e[q]=t)}function A0(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[ds]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[ds]+=65536),(a<o||-1==o)&&(OR(e,t,n,l),e[ds]=(4294901760&e[ds])+l+2),l++}function O0(e,n){Ar(4,e,n);const t=Ae(null);try{n.call(e)}finally{Ae(t),Ar(5,e,n)}}function OR(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[q]>>14<e[ds]>>16&&(3&e[q])===n&&(e[q]+=16384,O0(a,o)):O0(a,o)}const ms=-1;class Za{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Xh(e){return e!==ms}function Ka(e){return 32767&e}function Ja(e,n){let t=function FR(e){return e>>16}(e),r=n;for(;t>0;)r=r[us],t--;return r}let ep=!0;function lu(e){const n=ep;return ep=e,n}const R0=255,x0=5;let LR=0;const Fr={};function cu(e,n){const t=k0(e,n);if(-1!==t)return t;const r=n[x];r.firstCreatePass&&(e.injectorIndex=n.length,tp(r.data,e),tp(n,null),tp(r.blueprint,null));const i=uu(e,n),o=e.injectorIndex;if(Xh(i)){const s=Ka(i),a=Ja(i,n),l=a[x].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function tp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function k0(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function uu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=$0(i),null===r)return ms;if(t++,i=i[us],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ms}function np(e,n,t){!function BR(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Va)&&(r=t[Va]),null==r&&(r=t[Va]=LR++);const i=r&R0;n.data[e+(i>>x0)]|=1<<i}(e,n,t)}function P0(e,n,t){if(t&_e.Optional||void 0!==e)return e;Sh()}function F0(e,n,t,r){if(t&_e.Optional&&void 0===r&&(r=null),!(t&(_e.Self|_e.Host))){const i=e[gn],o=Mn(void 0);try{return i?i.get(n,r,t&_e.Optional):jy(n,r,t&_e.Optional)}finally{Mn(o)}}return P0(r,0,t)}function L0(e,n,t,r=_e.Default,i){if(null!==e){if(2048&n[q]&&!(r&_e.Self)){const s=function HR(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[q]&&!(512&s[q]);){const a=B0(o,s,t,r|_e.Self,Fr);if(a!==Fr)return a;let l=o.parent;if(!l){const c=s[n0];if(c){const u=c.get(t,Fr,r);if(u!==Fr)return u}l=$0(s),s=s[us]}o=l}return i}(e,n,t,r,Fr);if(s!==Fr)return s}const o=B0(e,n,t,r,Fr);if(o!==Fr)return o}return F0(n,t,r,i)}function B0(e,n,t,r,i){const o=function $R(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Va)?e[Va]:void 0;return"number"==typeof n?n>=0?n&R0:UR:n}(t);if("function"==typeof o){if(!w0(n,e,r))return r&_e.Host?P0(i,0,r):F0(n,t,r,i);try{let s;if(s=o(r),null!=s||r&_e.Optional)return s;Sh()}finally{M0()}}else if("number"==typeof o){let s=null,a=k0(e,n),l=ms,c=r&_e.Host?n[pt][ln]:null;for((-1===a||r&_e.SkipSelf)&&(l=-1===a?uu(e,n):n[a+8],l!==ms&&j0(r,!1)?(s=n[x],a=Ka(l),n=Ja(l,n)):a=-1);-1!==a;){const u=n[x];if(V0(o,a,u.data)){const d=jR(a,n,t,s,r,c);if(d!==Fr)return d}l=n[a+8],l!==ms&&j0(r,n[x].data[a+8]===c)&&V0(o,a,n)?(s=u,a=Ka(l),n=Ja(l,n)):a=-1}}return i}function jR(e,n,t,r,i,o){const s=n[x],a=s.data[e+8],u=du(a,s,t,null==r?fo(a)&&ep:r!=s&&0!=(3&a.type),i&_e.Host&&o===a);return null!==u?go(n,s,u,a):Fr}function du(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&fr(h)&&h.type===t)return l}return null}function go(e,n,t,r){let i=e[t];const o=n.data;if(function RR(e){return e instanceof Za}(i)){const s=i;s.resolving&&function DO(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Oe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(o[t]));const a=lu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Mn(s.injectImpl):null;w0(e,r,_e.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function AR(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=a0(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==c&&Mn(c),lu(a),s.resolving=!1,M0()}}return i}function V0(e,n,t){return!!(t[n+(e>>x0)]&1<<e)}function j0(e,n){return!(e&_e.Self||e&_e.Host&&n)}class Vt{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return L0(this._tNode,this._lView,n,Zc(r),t)}}function UR(){return new Vt(Ue(),w())}function et(e){return li(()=>{const n=e.prototype.constructor,t=n[ai]||rp(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ai]||rp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rp(e){return zc(e)?()=>{const n=rp(J(e));return n&&n()}:ho(e)}function $0(e){const n=e[x],t=n.type;return 2===t?n.declTNode:1===t?e[ln]:null}const bs="__parameters__";function Ds(e,n,t){return li(()=>{const r=function ip(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(bs)?l[bs]:Object.defineProperty(l,bs,{value:[]})[bs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Es(e,n){e.forEach(t=>Array.isArray(t)?Es(t,n):n(t))}function H0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function fu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function el(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Bn(e,n,t){let r=Ss(e,n);return r>=0?e[1|r]=t:(r=~r,function G0(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function sp(e,n){const t=Ss(e,n);if(t>=0)return e[1|t]}function Ss(e,n){return function z0(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const pu=$a(Ds("Optional"),8),gu=$a(Ds("SkipSelf"),4),Ms=new V("ENVIRONMENT_INITIALIZER"),Q0=new V("INJECTOR",-1),cp=new V("INJECTOR_DEF_TYPES");class _u{get(n,t=ja){if(t===ja){const r=new Error(`NullInjectorError: No provider for ${Nt(n)}!`);throw r.name="NullInjectorError",r}return t}}function dx(...e){return{\u0275providers:K0(0,e),\u0275fromNgModule:!0}}function K0(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Es(n,s=>{const a=s;vu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&J0(i,o),t}function J0(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];up(i,o=>{n(o,r)})}}function vu(e,n,t,r){if(!(e=J(e)))return!1;let i=null,o=qc(e);const s=!o&&fe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=qc(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)vu(c,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Es(o.imports,u=>{vu(u,n,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&J0(c,n)}if(!a){const c=ho(i)||(()=>new i);n({provide:i,useFactory:c,deps:Te},i),n({provide:cp,useValue:i,multi:!0},i),n({provide:Ms,useValue:()=>K(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;up(l,u=>{n(u,c)})}}}return i!==e&&void 0!==e.providers}function up(e,n){for(let t of e)Dh(t)&&(t=t.\u0275providers),Array.isArray(t)?up(t,n):n(t)}const fx=Le({provide:String,useValue:Le});function dp(e){return null!==e&&"object"==typeof e&&fx in e}function _o(e){return"function"==typeof e}const fp=new V("Set Injector scope."),yu={},px={};let hp;function bu(){return void 0===hp&&(hp=new _u),hp}class On{}class Ns extends On{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gp(n,s=>this.processProvider(s)),this.records.set(Q0,Is(void 0,this)),i.has("environment")&&this.records.set(On,Is(void 0,this));const o=this.records.get(fp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(cp,Te,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Ni(this),r=Mn(void 0);try{return n()}finally{Ni(t),Mn(r)}}get(n,t=ja,r=_e.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Fy))return n[Fy](this);r=Zc(r);const o=Ni(this),s=Mn(void 0);try{if(!(r&_e.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function yx(e){return"function"==typeof e||"object"==typeof e&&e instanceof V}(n)&&Wc(n);l=c&&this.injectableDefInScope(c)?Is(pp(n),yu):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&_e.Self?bu():this.parent).get(n,t=r&_e.Optional&&t===ja?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Qc]=a[Qc]||[]).unshift(Nt(n)),o)throw a;return function LO(e,n,t,r){const i=e[Qc];throw n[Uy]&&i.unshift(n[Uy]),e.message=function BO(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Nt(n);if(Array.isArray(n))i=n.map(Nt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(RO,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Qc]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Mn(s),Ni(o)}}resolveInjectorInitializers(){const n=Ni(this),t=Mn(void 0);try{const i=this.get(Ms,Te,_e.Self);for(const o of i)o()}finally{Ni(n),Mn(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Nt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(n){let t=_o(n=J(n))?n:J(n&&n.provide);const r=function mx(e){return dp(e)?Is(void 0,e.useValue):Is(function tb(e,n,t){let r;if(_o(e)){const i=J(e);return ho(i)||pp(i)}if(dp(e))r=()=>J(e.useValue);else if(function eb(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...xh(e.deps||[]));else if(function X0(e){return!(!e||!e.useExisting)}(e))r=()=>K(J(e.useExisting));else{const i=J(e&&(e.useClass||e.provide));if(!function _x(e){return!!e.deps}(e))return ho(i)||pp(i);r=()=>new i(...xh(e.deps))}return r}(e),yu)}(n);if(_o(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Is(void 0,yu,!0),i.factory=()=>xh(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===yu&&(t.value=px,t.value=t.factory()),"object"==typeof t.value&&t.value&&function vx(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=J(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function pp(e){const n=Wc(e),t=null!==n?n.factory:ho(e);if(null!==t)return t;if(e instanceof V)throw new T(204,!1);if(e instanceof Function)return function gx(e){const n=e.length;if(n>0)throw el(n,"?"),new T(204,!1);const t=function NO(e){return e&&(e[Yc]||e[By])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new T(204,!1)}function Is(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function gp(e,n){for(const t of e)Array.isArray(t)?gp(t,n):t&&Dh(t)?gp(t.\u0275providers,n):n(t)}function vo(e,n){e instanceof Ns&&e.assertNotDestroyed();const r=Ni(e),i=Mn(void 0);try{return n()}finally{Ni(r),Mn(i)}}function ob(e,n=null,t=null,r){const i=sb(e,n,t,r);return i.resolveInjectorInitializers(),i}function sb(e,n=null,t=null,r,i=new Set){const o=[t||Te,dx(e)];return r=r||("object"==typeof e?void 0:Nt(e)),new Ns(o,n||bu(),r||null,i)}let _p,qt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=ja;static#t=this.NULL=new _u;static create(t,r){if(Array.isArray(t))return ob({name:""},r,t,"");{const i=t.name??"";return ob({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=P({token:e,providedIn:"any",factory:()=>K(Q0)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function xi(){if(void 0!==_p)return _p;if(typeof document<"u")return document;throw new T(210,!1)}const wu=new V("AppId",{providedIn:"root",factory:()=>Nx}),Nx="ng",lb=new V("Platform Initializer"),As=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cb=new V("CSP nonce",{providedIn:"root",factory:()=>xi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Vn(e){return e instanceof Function?e():e}function Mu(e){return 128==(128&e.flags)}var Fi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fi||{});const Bx=/^>|^->|<!--|-->|--!>|<!-$/g,Vx=/(<|>)/g,jx="\u200b$1\u200b";const Dp=new Map;let $x=0;const Ep="__ngContext__";function un(e,n){Xt(n)?(e[Ep]=n[za],function Hx(e){Dp.set(e[za],e)}(n)):e[Ep]=n}let Sp;function Tp(e,n){return Sp(e,n)}function sl(e){const n=e[lt];return Wt(n)?n[lt]:n}function Mb(e){return Ib(e[Ha])}function Nb(e){return Ib(e[dr])}function Ib(e){for(;null!==e&&!Wt(e);)e=e[dr];return e}function Rs(e,n,t,r,i){if(null!=r){let o,s=!1;Wt(r)?o=r:Xt(r)&&(s=!0,r=r[mt]);const a=Xe(r);0===e&&null!==t?null==i?xb(n,t,a):yo(n,t,a,i||null,!0):1===e&&null!==t?yo(n,t,a,i||null,!0):2===e?function ku(e,n,t){const r=Ru(e,n);r&&function lk(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function dk(e,n,t,r,i){const o=t[Ir];o!==Xe(t)&&Rs(n,e,r,o,i);for(let a=Dt;a<t.length;a++){const l=t[a];cl(l[x],l,e,n,r,o)}}(n,e,o,t,i)}}function Mp(e,n){return e.createComment(function yb(e){return e.replace(Bx,n=>n.replace(Vx,jx))}(n))}function Au(e,n,t){return e.createElement(n,t)}function Ob(e,n){const t=e[fs],r=t.indexOf(n);t.splice(r,1)}function al(e,n){if(e.length<=Dt)return;const t=Dt+n,r=e[t];if(r){const i=r[Ga];null!==i&&i!==e&&Ob(i,r),n>0&&(e[t-1][dr]=r[dr]);const o=fu(e,Dt+n);!function ek(e,n){cl(e,n,n[ie],2,null,null),n[mt]=null,n[ln]=null}(r[x],r);const s=o[Nr];null!==s&&s.detachView(o[x]),r[lt]=null,r[dr]=null,r[q]&=-129}return r}function Ou(e,n){if(!(256&n[q])){const t=n[ie];n[uo]&&function ke(e){if(bt(e),Tt(e))for(let n=0;n<e.producerNode.length;n++)gt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[uo]),t.destroyNode&&cl(e,n,t,3,null,null),function rk(e){let n=e[Ha];if(!n)return Np(e[x],e);for(;n;){let t=null;if(Xt(n))t=n[Ha];else{const r=n[Dt];r&&(t=r)}if(!t){for(;n&&!n[dr]&&n!==e;)Xt(n)&&Np(n[x],n),n=n[lt];null===n&&(n=e),Xt(n)&&Np(n[x],n),t=n&&n[dr]}n=t}}(n)}}function Np(e,n){if(!(256&n[q])){n[q]&=-129,n[q]|=256,function ak(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Za)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Ar(4,a,l);try{l.call(a)}finally{Ar(5,a,l)}}else{Ar(4,i,o);try{o.call(i)}finally{Ar(5,i,o)}}}}}(e,n),function sk(e,n){const t=e.cleanup,r=n[ls];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[ls]=null);const i=n[Ai];if(null!==i){n[Ai]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[x].type&&n[ie].destroy();const t=n[Ga];if(null!==t&&Wt(n[lt])){t!==n[lt]&&Ob(t,n);const r=n[Nr];null!==r&&r.detachView(e)}!function Gx(e){Dp.delete(e[za])}(n)}}function Ip(e,n,t){return function Rb(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[mt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===cr.None||o===cr.Emulated)return null}return mn(r,t)}}(e,n.parent,t)}function yo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function xb(e,n,t){e.appendChild(n,t)}function kb(e,n,t,r,i){null!==r?yo(e,n,t,r,i):xb(e,n,t)}function Ru(e,n){return e.parentNode(n)}function Pb(e,n,t){return Lb(e,n,t)}let Ap,Pu,Fu,Lb=function Fb(e,n,t){return 40&e.type?mn(e,t):null};function xu(e,n,t,r){const i=Ip(e,r,n),o=n[ie],a=Pb(r.parent||n[ln],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)kb(o,i,t[l],a,!1);else kb(o,i,t,a,!1);void 0!==Ap&&Ap(o,r,n,t,i)}function ll(e,n){if(null!==n){const t=n.type;if(3&t)return mn(n,e);if(4&t)return Op(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ll(e,r);{const i=e[n.index];return Wt(i)?Op(-1,i):Xe(i)}}if(32&t)return Tp(n,e)()||Xe(e[n.index]);{const r=Vb(e,n);return null!==r?Array.isArray(r)?r[0]:ll(sl(e[pt]),r):ll(e,n.next)}}return null}function Vb(e,n){return null!==n?e[pt][ln].projection[n.projection]:null}function Op(e,n){const t=Dt+e+1;if(t<n.length){const r=n[t],i=r[x].firstChild;if(null!==i)return ll(r,i)}return n[Ir]}function Rp(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&un(Xe(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Rp(e,n,t.child,r,i,o,!1),Rs(n,e,i,a,o);else if(32&l){const c=Tp(t,r);let u;for(;u=c();)Rs(n,e,i,u,o);Rs(n,e,i,a,o)}else 16&l?$b(e,n,r,t,i,o):Rs(n,e,i,a,o);t=s?t.projectionNext:t.next}}function cl(e,n,t,r,i,o){Rp(t,r,e.firstChild,n,i,o,!1)}function $b(e,n,t,r,i,o){const s=t[pt],l=s[ln].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Rs(n,e,i,l[c],o);else{let c=l;const u=s[lt];Mu(r)&&(c.flags|=128),Rp(e,n,c,u,i,o,!0)}}function Ub(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Hb(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&kh(e,n,r),null!==i&&Ub(e,n,i),null!==o&&function hk(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function xs(e){return function xp(){if(void 0===Pu&&(Pu=null,Je.trustedTypes))try{Pu=Je.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pu}()?.createHTML(e)||e}function Gb(e){return function kp(){if(void 0===Fu&&(Fu=null,Je.trustedTypes))try{Fu=Je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Fu}()?.createHTML(e)||e}class qb{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ky})`}}function Li(e){return e instanceof qb?e.changingThisBreaksApplicationSecurity:e}class wk{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(xs(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class Ek{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=xs(n),t}}const Tk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function di(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function dl(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Qb=di("area,br,col,hr,img,wbr"),Zb=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kb=di("rp,rt"),Fp=dl(Qb,dl(Zb,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dl(Kb,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dl(Kb,Zb)),Lp=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jb=dl(Lp,di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mk=di("script,style,template");class Nk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!Fp.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!Jb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Lp[a]&&(e=l,l=(e=String(e)).match(Tk)?e:"unsafe:"+e),this.buf.push(" ",s,'="',Xb(l),'"')}var e;return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();Fp.hasOwnProperty(t)&&!Qb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Xb(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const Ik=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ak=/([^\#-~ |!])/g;function Xb(e){return e.replace(/&/g,"&amp;").replace(Ik,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ak,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lu;function Bp(e){return"content"in e&&function Rk(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ks=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ks||{});function eC(e){const n=function fl(){const e=w();return e&&e[cs].sanitizer}();return n?Gb(n.sanitize(ks.HTML,e)||""):function ul(e,n){const t=function Dk(e){return e instanceof qb&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ky})`)}return t===n}(e,"HTML")?Gb(Li(e)):function Ok(e,n){let t=null;try{Lu=Lu||function Yb(e){const n=new Ek(e);return function Sk(){try{return!!(new window.DOMParser).parseFromString(xs(""),"text/html")}catch{return!1}}()?new wk(n):n}(e);let r=n?String(n):"";t=Lu.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Lu.getInertBodyElement(r)}while(r!==o);return xs((new Nk).sanitizeChildren(Bp(t)||t))}finally{if(t){const r=Bp(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(xi(),re(e))}let iC=(e,n,t)=>null;function Wp(e,n,t=!1){return iC(e,n,t)}class Wk{}class aC{}class Yk{resolveComponentFactory(n){throw function qk(e){const n=Error(`No component factory found for ${Nt(e)}.`);return n.ngComponent=e,n}(n)}}let Hu=(()=>{class e{static#e=this.NULL=new Yk}return e})();function Qk(){return Ls(Ue(),w())}function Ls(e,n){return new Be(mn(e,n))}let Be=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=Qk}return e})();function Zk(e){return e instanceof Be?e.nativeElement:e}class cC{}let Jk=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>null})}return e})();class gl{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Xk=new gl("17.0.5"),Qp={};function Gu(e){return!!function Zp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class dC{constructor(){}supports(n){return Gu(n)}create(n){return new iP(n)}}const rP=(e,n)=>n;class iP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||rP}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<hC(r,i,o)?t:r,a=hC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Gu(n))throw new T(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function nP(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new oP(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new fC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class oP{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class fC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new sP,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function gC(){return new zu([new dC])}let zu=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:gC});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||gC()),deps:[[e,new gu,new pu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new T(901,!1)}}return e})();function _l(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(Xe(o)),Wt(o)&&_C(o,r);const s=t.type;if(8&s)_l(e,n,t.child,r);else if(32&s){const a=Tp(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Vb(n,t);if(Array.isArray(a))r.push(...a);else{const l=sl(n[pt]);_l(l[x],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _C(e,n){for(let t=Dt;t<e.length;t++){const r=e[t],i=r[x].firstChild;null!==i&&_l(r[x],r,i,n)}e[Ir]!==e[mt]&&n.push(e[Ir])}let vC=[];const hP={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{nu(e.lView)},consumerOnSignalRead(){this.lView[uo]=this}};function Kp(e){return e.ngOriginalError}class hi{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Kp(n);for(;t&&Kp(t);)t=Kp(t);return t||null}}const CC=new V("",{providedIn:"root",factory:()=>!1}),le={};function z(e){SC(be(),w(),cn()+e,!1)}function SC(e,n,t,r){if(!r)if(3==(3&n[q])){const o=e.preOrderCheckHooks;null!==o&&su(n,o,t)}else{const o=e.preOrderHooks;null!==o&&au(n,o,0,t)}po(t)}function I(e,n=_e.Default){const t=w();return null===t?K(e,n):L0(Ue(),t,J(e),n)}function qu(e,n,t,r,i,o,s,a,l,c,u){const d=n.blueprint.slice();return d[mt]=i,d[q]=140|r,(null!==c||e&&2048&e[q])&&(d[q]|=2048),f0(d),d[lt]=d[us]=e,d[ze]=t,d[cs]=s||e&&e[cs],d[ie]=a||e&&e[ie],d[gn]=l||e&&e[gn]||null,d[ln]=o,d[za]=function Ux(){return $x++}(),d[Mr]=u,d[n0]=c,d[pt]=2==n.type?e[pt]:d,d}function Bs(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Jp(e,n,t,r,i){const o=v0(),s=Gh(),l=e.data[n]=function TP(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return gs()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function CR(){return ee.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Qa(){const e=ee.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return kr(o,!0),o}function vl(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function MC(e,n,t,r,i){const o=cn(),s=2&r;try{po(-1),s&&n.length>oe&&SC(e,n,oe,!1),Ar(s?2:0,i),t(r,i)}finally{po(o),Ar(s?3:1,i)}}function Xp(e,n,t){if(Fh(n)){const r=Ae(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Ae(r)}}}function eg(e,n,t){_0()&&(function xP(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;fo(t)&&function jP(e,n,t){const r=mn(n,e),i=NC(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Yu(e,qu(e,i,null,s,r,n,null,e[cs].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||cu(t,n),un(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=go(n,e,a,t);un(c,n),null!==s&&$P(0,a-i,c,l,0,s),fr(l)&&(Ln(t.index,n)[ze]=go(n,e,a,t))}}(e,n,t,mn(t,n)),64==(64&t.flags)&&xC(e,n,t))}function tg(e,n,t=mn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function NC(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ng(e,n,t,r,i,o,s,a,l,c,u){const d=oe+r,f=d+i,h=function bP(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:le);return t}(d,f),p="function"==typeof c?c():c;return h[x]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let IC=e=>null;function AC(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?OC(t,n,i,o):r.hasOwnProperty(i)&&OC(t,n,r[i],o)}return t}function OC(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function rg(e,n,t,r){if(_0()){const i=null===r?null:{"":-1},o=function PP(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Zy(n,s.selectors,!1))if(r||(r=[]),fr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),ig(e,n,a.length)}else r.unshift(s),ig(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&RC(e,n,t,s,i,a),i&&function FP(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new T(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Ua(t.mergedAttrs,t.attrs)}function RC(e,n,t,r,i,o){for(let c=0;c<r.length;c++)np(cu(t,n),e,r[c].type);!function BP(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=vl(e,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Ua(t.mergedAttrs,u.hostAttrs),VP(e,t,n,l,u),LP(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function MP(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<i;u++){const d=o[u],f=t?t.get(d):null,p=f?f.outputs:null;l=AC(d.inputs,u,l,f?f.inputs:null),c=AC(d.outputs,u,c,p);const g=null===l||null===s||Qy(n)?null:UP(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(e,t,o)}function xC(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function wR(){return ee.lFrame.currentDirectiveIndex}();try{po(o);for(let a=r;a<i;a++){const l=e.data[a],c=n[a];Wh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&kP(l,c)}}finally{po(-1),Wh(s)}}function kP(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ig(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function LP(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;fr(n)&&(t[""]=e)}}function VP(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=ho(i.type)),s=new Za(o,fr(i),I);e.blueprint[r]=s,t[r]=s,function OP(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function RP(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,vl(e,t,i.hostVars,le),i)}function Lr(e,n,t,r,i,o){const s=mn(e,n);!function og(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?re(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[ie],s,o,e.value,t,r,i)}function $P(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)kC(r,t,s[a++],s[a++],s[a++])}function kC(e,n,t,r,i){const o=Ae(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Ae(o)}}function UP(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PC(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function FC(e,n){const t=e.contentQueries;if(null!==t){const r=Ae(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=e.data[s];Yh(t[i]),a.contentQueries(2,n[s],s)}}}finally{Ae(r)}}}function Yu(e,n){return e[Ha]?e[t0][dr]=n:e[Ha]=n,e[t0]=n,n}function sg(e,n,t){Yh(0);const r=Ae(null);try{n(e,t)}finally{Ae(r)}}function ag(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];kC(e.data[s],n[s],r,a,i)}}function lg(e,n=!0){const t=e[cs],r=t.rendererFactory,i=t.afterRenderEventManager;r.begin?.(),i?.begin();try{const s=e[x];jC(s,e,s.template,e[ze]),function GP(e){let n=0;for(;p0(e);){if(100===n)throw new T(103,!1);n++,HC(e,1)}}(e)}catch(s){throw n&&function Qu(e,n){const t=e[gn],r=t?t.get(hi,null):null;r&&r.handleError(n)}(e,s),s}finally{r.end?.(),t.inlineEffectRunner?.flush(),i?.end()}}function jC(e,n,t,r){const i=n[q];if(256==(256&i))return;n[cs].inlineEffectRunner?.flush(),Qh(n);let s=null,a=null;(function zP(e){return 2!==e.type})(e)&&(a=function uP(e){return e[uo]??function dP(e){const n=vC.pop()??Object.create(hP);return n.lView=e,n}(e)}(n),s=function ce(e){return e&&(e.nextProducerIndex=0),Ae(e)}(a));try{f0(n),function b0(e){return ee.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&MC(e,n,t,2,r);const l=3==(3&i);if(l){const d=e.preOrderCheckHooks;null!==d&&su(n,d,null)}else{const d=e.preOrderHooks;null!==d&&au(n,d,0,null),Kh(n,0)}if(function WP(e){for(let n=Mb(e);null!==n;n=Nb(n)){if(!(n[q]&hs.HasTransplantedViews))continue;const t=n[fs];for(let r=0;r<t.length;r++){dR(t[r])}}}(n),$C(n,0),null!==e.contentQueries&&FC(e,n),l){const d=e.contentCheckHooks;null!==d&&su(n,d)}else{const d=e.contentHooks;null!==d&&au(n,d,1),Kh(n,1)}!function yP(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)po(~i);else{const o=i,s=t[++r],a=t[++r];DR(s,o),a(2,n[o])}}}finally{po(-1)}}(e,n);const c=e.components;null!==c&&GC(n,c,0);const u=e.viewQuery;if(null!==u&&sg(2,u,r),l){const d=e.viewCheckHooks;null!==d&&su(n,d)}else{const d=e.viewHooks;null!==d&&au(n,d,2),Kh(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Xc]){for(const d of n[Xc])d();n[Xc]=null}n[q]&=-73}catch(l){throw nu(n),l}finally{null!==a&&(function me(e,n){if(Ae(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Tt(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)gt(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function fP(e){e.lView[uo]!==e&&(e.lView=null,vC.push(e))}(a)),Zh()}}function $C(e,n){for(let t=Mb(e);null!==t;t=Nb(t)){t[q]&=~hs.HasChildViewsToRefresh;for(let r=Dt;r<t.length;r++)UC(t[r],n)}}function qP(e,n,t){UC(Ln(n,e),t)}function UC(e,n){Uh(e)&&HC(e,n)}function HC(e,n){const r=e[x],i=e[q],o=e[uo];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!o?.dirty||!te(o)),o&&(o.dirty=!1),e[q]&=-9217,s)jC(r,e,r.template,e[ze]);else if(8192&i){$C(e,1);const a=r.components;null!==a&&GC(e,a,1)}}function GC(e,n,t){for(let r=0;r<n.length;r++)qP(e,n[r],t)}function yl(e){for(;e;){e[q]|=64;const n=sl(e);if(Lh(e)&&!n)return e;e=n}return null}class bl{get rootNodes(){const n=this._lView,t=n[x];return _l(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(n){this._lView[ze]=n}get destroyed(){return 256==(256&this._lView[q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[lt];if(Wt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(al(n,r),fu(t,r))}this._attachedToViewContainer=!1}Ou(this._lView[x],this._lView)}onDestroy(n){ru(this._lView,n)}markForCheck(){yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[q]&=-129}reattach(){g0(this._lView),this._lView[q]|=128}detectChanges(){lg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nk(e,n){cl(e,n,n[ie],2,null,null)}(this._lView[x],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=n}}let hr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=YP}return e})();function YP(e){return function QP(e,n,t){if(fo(e)&&!t){const r=Ln(e.index,n);return new bl(r,r)}return 47&e.type?new bl(n[pt],n):null}(Ue(),w(),16==(16&e))}let Bi=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=XP;static#t=this.__NG_ENV_ID__=t=>t}return e})();class JP extends Bi{constructor(n){super(),this._lView=n}onDestroy(n){return ru(this._lView,n),()=>function Hh(e,n){if(null===e[Ai])return;const t=e[Ai].indexOf(n);-1!==t&&e[Ai].splice(t,1)}(this._lView,n)}}function XP(){return new JP(w())}const zC=new Set;function bo(e){zC.has(e)||(zC.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}function cg(e){return n=>{setTimeout(e,void 0,n)}}const Z=class sF extends Ke{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=cg(o),i&&(i=cg(i)),s&&(s=cg(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof Mt&&n.add(a),a}};function WC(...e){}class ve{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Z(!1),this.onMicrotaskEmpty=new Z(!1),this.onStable=new Z(!1),this.onError=new Z(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aF(){const e="function"==typeof Je.requestAnimationFrame;let n=Je[e?"requestAnimationFrame":"setTimeout"],t=Je[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function uF(e){const n=()=>{!function cF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,dg(e),e.isCheckStableRunning=!0,ug(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),dg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function fF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return qC(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),YC(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return qC(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),YC(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,dg(e),ug(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new T(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,lF,WC,WC);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const lF={};function ug(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function qC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function YC(e){e._nesting--,ug(e)}class dF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Z,this.onMicrotaskEmpty=new Z,this.onStable=new Z,this.onError=new Z}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const QC=new V("",{providedIn:"root",factory:ZC});function ZC(){const e=y(ve);let n=!0;return function Oy(...e){const n=La(e),t=function fO(e,n){return"number"==typeof yh(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Ft(r[0]):os(t)(Lt(r,n)):Zn}(new Ze(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ze(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ry()))}var Co=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Co||{});const KC={destroy(){}};function XC(e,n){!n&&function Cu(e){if(!Vy()&&!function kO(){return as}())throw new T(-203,!1)}();const t=n?.injector??y(qt);if(!function ki(e){return"browser"===(e??y(qt)).get(As)}(t))return KC;bo("NgAfterNextRender");const r=t.get(Zu),i=r.handler??=new tD,o=n?.phase??Co.MixedReadWrite,s=()=>{i.unregister(l),a()},a=t.get(Bi).onDestroy(s),l=new eD(t,o,()=>{s(),e()});return i.register(l),{destroy:s}}class eD{constructor(n,t,r){this.phase=t,this.callbackFn=r,this.zone=n.get(ve),this.errorHandler=n.get(hi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class tD{constructor(){this.executingCallbacks=!1,this.buckets={[Co.EarlyRead]:new Set,[Co.Write]:new Set,[Co.MixedReadWrite]:new Set,[Co.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new T(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const t of n)t.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Zu=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();function pF(e,n){const t=Ln(n,e),r=t[x];!function gF(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[mt];null!==i&&null===t[Mr]&&(t[Mr]=Wp(i,t[gn])),fg(r,t,t[ze])}function fg(e,n,t){Qh(n);try{const r=e.viewQuery;null!==r&&sg(1,r,t);const i=e.template;null!==i&&MC(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&FC(e,n),e.staticViewQueries&&sg(2,e.viewQuery,t);const o=e.components;null!==o&&function mF(e,n){for(let t=0;t<n.length;t++)pF(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[q]&=-5,Zh()}}function Ku(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Ch(i,a):2==o&&(r=Ch(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}class nD extends Hu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=fe(n);return new Cl(t,this.ngModule)}}function rD(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class vF{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Zc(r);const i=this.injector.get(n,Qp,r);return i!==Qp||t===Qp?i:this.parentInjector.get(n,t,r)}}class Cl extends aC{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=rD(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return rD(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function YO(e){return e.map(qO).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof On?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new vF(n,o):n,a=s.get(cC,null);if(null===a)throw new T(407,!1);const u={rendererFactory:a,sanitizer:s.get(Jk,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Zu,null)},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=r?function CP(e,n,t,r){const o=r.get(CC,!1)||t===cr.ShadowDom,s=e.selectRootElement(n,o);return function DP(e){IC(e)}(s),s}(d,r,this.componentDef.encapsulation,s):Au(d,f,function _F(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==h&&(_=Wp(h,s,!0));const m=ng(0,null,null,1,0,null,null,null,null,null,null),E=qu(null,m,null,v,null,null,u,d,s,null,_);let M,A;Qh(E);try{const $=this.componentDef;let ae,Ce=null;$.findHostDirectiveDefs?(ae=[],Ce=new Map,$.findHostDirectiveDefs($,ae,Ce),ae.push($)):ae=[$];const vt=function bF(e,n){const t=e[x],r=oe;return e[r]=n,Bs(t,r,2,"#host",null)}(E,h),St=function CF(e,n,t,r,i,o,s){const a=i[x];!function DF(e,n,t,r){for(const i of e)n.mergedAttrs=Ua(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Ku(n,n.mergedAttrs,!0),null!==t&&Hb(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=Wp(n,i[gn]));const c=o.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=qu(i,NC(t),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&ig(a,e,r.length-1),Yu(i,d),i[e.index]=d}(vt,h,$,ae,E,u,d);A=Ya(m,oe),h&&function EF(e,n,t,r){if(r)kh(e,t,["ng-version",Xk.full]);else{const{attrs:i,classes:o}=function QO(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!ur(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&kh(e,t,i),o&&o.length>0&&Ub(e,t,o.join(" "))}}(d,$,h,r),void 0!==t&&function SF(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(A,this.ngContentSelectors,t),M=function wF(e,n,t,r,i,o){const s=Ue(),a=i[x],l=mn(s,i);RC(a,i,s,t,null,r);for(let u=0;u<t.length;u++)un(go(i,a,s.directiveStart+u,s),i);xC(a,i,s),l&&un(l,i);const c=go(i,a,s.directiveStart+s.componentOffset,s);if(e[ze]=i[ze]=c,null!==o)for(const u of o)u(c,n);return Xp(a,s,e),c}(St,$,ae,Ce,E,[TF]),fg(m,E,null)}finally{Zh()}return new yF(this.componentType,M,Ls(A,E),E,A)}}class yF extends Wk{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bl(i,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;ag(o[x],o,i,n,t),this.previousInputValues.set(n,t),yl(Ln(this._tNode.index,o))}}get injector(){return new Vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function TF(){const e=Ue();ou(w()[x],e)}function It(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function We(e,n,t,r){const i=w();return It(i,Pr(),n)&&(be(),Lr(it(),i,e,n,t,r)),We}function js(e,n,t,r){return It(e,Pr(),t)?n+re(t)+r:le}function ed(e,n){return e<<17|n<<2}function Vi(e){return e>>17&32767}function pg(e){return 2|e}function wo(e){return(131068&e)>>2}function gg(e,n){return-131069&e|n<<2}function mg(e){return 1|e}function vD(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Vi(o):wo(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];jF(e[a],n)&&(l=!0,e[a+1]=r?mg(u):pg(u)),a=r?Vi(u):wo(u)}l&&(e[t+1]=r?pg(o):mg(o))}function jF(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ss(e,n)>=0}const $t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yD(e){return e.substring($t.key,$t.keyEnd)}function $F(e){return e.substring($t.value,$t.valueEnd)}function bD(e,n){const t=$t.textEnd;return t===n?-1:(n=$t.keyEnd=function GF(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,$t.key=n,t),Ys(e,n,t))}function CD(e,n){const t=$t.textEnd;let r=$t.key=Ys(e,n,t);return t===r?-1:(r=$t.keyEnd=function zF(e,n,t){let r;for(;n<t&&(45===(r=e.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(e,r,t),r=wD(e,r,t),r=$t.value=Ys(e,r,t),r=$t.valueEnd=function WF(e,n,t){let r=-1,i=-1,o=-1,s=n,a=s;for(;s<t;){const l=e.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=ED(e,l,s,t):n===s-4&&85===o&&82===i&&76===r&&40===l?a=s=ED(e,41,s,t):l>32&&(a=s),o=i,i=r,r=-33&l}return a}(e,r,t),wD(e,r,t))}function DD(e){$t.key=0,$t.keyEnd=0,$t.value=0,$t.valueEnd=0,$t.textEnd=e.length}function Ys(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function wD(e,n,t,r){return(n=Ys(e,n,t))<t&&n++,n}function ED(e,n,t,r){let i=-1,o=t;for(;o<r;){const s=e.charCodeAt(o++);if(s==n&&92!==i)return o;i=92==s&&92===i?0:s}throw new Error}function Ve(e,n,t){const r=w();return It(r,Pr(),n)&&function jn(e,n,t,r,i,o,s,a){const l=mn(n,t);let u,c=n.inputs;!a&&null!=c&&(u=c[r])?(ag(e,t,u,r,i),fo(n)&&function IP(e,n){const t=Ln(n,e);16&t[q]||(t[q]|=64)}(t,n.index)):3&n.type&&(r=function NP(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}(be(),it(),r,e,n,r[ie],t,!1),Ve}function _g(e,n,t,r,i){const s=i?"class":"style";ag(e,t,n.inputs[s],s,r)}function we(e,n){return function pr(e,n,t,r){const i=w(),o=be(),s=ui(2);o.firstUpdatePass&&MD(o,e,s,r),n!==le&&It(i,s,n)&&ID(o,o.data[cn()],i,i[ie],e,i[s+1]=function t2(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Nt(Li(e)))),e}(n,t),r,s)}(e,n,null,!0),we}function qF(e,n){for(let t=function HF(e){return DD(e),CD(e,Ys(e,0,$t.textEnd))}(n);t>=0;t=CD(n,t))ND(e,yD(n),$F(n))}function wl(e){gr(XF,jr,e,!0)}function jr(e,n){for(let t=function UF(e){return DD(e),bD(e,Ys(e,0,$t.textEnd))}(n);t>=0;t=bD(n,t))Bn(e,yD(n),!0)}function gr(e,n,t,r){const i=be(),o=ui(2);i.firstUpdatePass&&MD(i,null,o,r);const s=w();if(t!==le&&It(s,o,t)){const a=i.data[cn()];if(OD(a,r)&&!TD(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Ch(l,t||"")),_g(i,a,s,t,r)}else!function e2(e,n,t,r,i,o,s,a){i===le&&(i=Te);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&ID(e,n,t,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[ie],s[o+1],s[o+1]=function JF(e,n,t){if(null==t||""===t)return Te;const r=[],i=Li(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}function TD(e,n){return n>=e.expandoStartIndex}function MD(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[cn()],s=TD(e,t);OD(o,r)&&null===n&&!s&&(n=!1),n=function YF(e,n,t,r){const i=function qh(e){const n=ee.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=El(t=vg(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=vg(i,e,n,t,r),null===o){let l=function QF(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==wo(r))return e[Vi(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=vg(null,e,n,l[1],r),l=El(l,n.attrs,r),function ZF(e,n,t,r){e[Vi(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function KF(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=El(r,e[o].hostAttrs,t);return El(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function BF(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Vi(s),l=wo(s);e[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ss(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=Vi(e[a+1]);e[r+1]=ed(f,a),0!==f&&(e[f+1]=gg(e[f+1],r)),e[a+1]=function FF(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=ed(a,0),0!==a&&(e[a+1]=gg(e[a+1],r)),a=r;else e[r+1]=ed(l,0),0===a?a=r:e[l+1]=gg(e[l+1],r),l=r;c&&(e[r+1]=pg(e[r+1])),vD(e,u,r,!0),vD(e,u,r,!1),function VF(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Ss(o,n)>=0&&(t[r+1]=mg(t[r+1]))}(n,u,e,r,o),s=ed(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function vg(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=El(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function El(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bn(e,s,!!t||n[++o]))}return void 0===e?null:e}function ND(e,n,t){Bn(e,n,Li(t))}function XF(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&Bn(e,r,t)}function ID(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,c=l[a+1],u=function LF(e){return 1==(1&e)}(c)?AD(l,n,t,i,wo(c),s):void 0;td(u)||(td(o)||function PF(e){return 2==(2&e)}(c)&&(o=AD(l,null,t,i,a,s)),function fk(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Fi.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fi.Important),e.setStyle(t,r,i,o))}}(r,s,qa(cn(),t),i,o))}function AD(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[i+1];f===le&&(f=d?Te:void 0);let h=d?sp(f,r):u===r?f:void 0;if(c&&!td(h)&&(h=sp(l,r)),td(h)&&(a=h,s))return a;const p=e[i+1];i=s?Vi(p):wo(p)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=sp(l,r))}return a}function td(e){return void 0!==e}function OD(e,n){return 0!=(e.flags&(n?8:16))}function nd(e,n,t){gr(Bn,jr,js(w(),e,n,t),!0)}function Zs(e,n){return!n||Mu(e)}function Il(e,n,t,r=!0){const i=n[x];if(function ik(e,n,t,r){const i=Dt+r,o=t.length;r>0&&(t[i-1][dr]=n),r<o-Dt?(n[dr]=t[i],H0(t,Dt+r,n)):(t.push(n),n[dr]=null),n[lt]=t;const s=n[Ga];null!==s&&t!==s&&function ok(e,n){const t=e[fs];n[pt]!==n[lt][lt][pt]&&(e[q]|=hs.HasTransplantedViews),null===t?e[fs]=[n]:t.push(n)}(s,n);const a=n[Nr];null!==a&&a.insertView(e),g0(n),n[q]|=128}(i,n,e,t),r){const o=Op(t,e),s=n[ie],a=Ru(s,e[Ir]);null!==a&&function tk(e,n,t,r,i,o){r[mt]=i,r[ln]=n,cl(e,r,t,1,i,o)}(i,e[ln],s,n,a,o)}}let $n=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=k2}return e})();function k2(){return GD(Ue(),w())}const P2=$n,UD=class extends P2{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new Vt(this._hostTNode,this._hostLView)}get parentInjector(){const n=uu(this._hostTNode,this._hostLView);if(Xh(n)){const t=Ja(n,this._hostLView),r=Ka(n);return new Vt(t[x].data[r+8],t)}return new Vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=HD(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,Zs(this._hostTNode,null)),a}createComponent(n,t,r,i,o){const s=n&&!function Xa(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?n:new Cl(fe(n)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(On,null);g&&(o=g)}fe(l.componentType??{});const h=l.create(c,i,null,o);return this.insertImpl(h.hostView,a,Zs(this._hostTNode,null)),h}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const i=n._lView;if(function uR(e){return Wt(e[lt])}(i)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=i[lt],c=new UD(l,l[ln],l[lt]);c.detach(c.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return Il(s,i,o,r),n.attachToViewContainerRef(),H0(Mg(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=HD(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=al(this._lContainer,t);r&&(fu(Mg(this._lContainer),t),Ou(r[x],r))}detach(n){const t=this._adjustIndex(n,-1),r=al(this._lContainer,t);return r&&null!=fu(Mg(this._lContainer),t)?new bl(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function HD(e){return e[8]}function Mg(e){return e[8]||(e[8]=[])}function GD(e,n){let t;const r=n[e.index];return Wt(r)?t=r:(t=PC(r,n,null,e),n[e.index]=t,Yu(n,t)),zD(t,n,e,r),new UD(t,e,n)}let zD=function qD(e,n,t,r){if(e[Ir])return;let i;i=8&t.type?Xe(r):function F2(e,n){const t=e[ie],r=t.createComment(""),i=mn(n,e);return yo(t,Ru(t,i),r,function ck(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Ir]=i},Ng=(e,n,t)=>!1;function Ne(e,n,t,r,i,o,s,a){const l=w(),c=be(),u=e+oe,d=c.firstCreatePass?function j2(e,n,t,r,i,o,s,a,l){const c=n.consts,u=Bs(n,e,4,s||null,Or(c,a));rg(n,t,u,Or(c,l)),ou(n,u);const d=u.tView=ng(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,r,i,o,s):c.data[u];kr(d,!1);const f=YD(c,l,d,e);iu()&&xu(c,l,f,d),un(f,l);const h=PC(f,l,f,d);return l[u]=h,Yu(l,h),function WD(e,n,t){return Ng(e,n,t)}(h,d,l),tu(d)&&eg(c,l,d),null!=s&&tg(l,d,a),Ne}let YD=function QD(e,n,t,r){return Oi(!0),n[ie].createComment("")};function he(e,n,t,r){const i=w(),o=be(),s=oe+e,a=i[ie],l=o.firstCreatePass?function SL(e,n,t,r,i,o){const s=n.consts,l=Bs(n,e,2,r,Or(s,i));return rg(n,t,l,Or(s,o)),null!==l.attrs&&Ku(l,l.attrs,!1),null!==l.mergedAttrs&&Ku(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],c=vw(o,i,l,a,n,e);i[s]=c;const u=tu(l);return kr(l,!0),Hb(a,c,l),32!=(32&l.flags)&&iu()&&xu(o,i,c,l),0===function fR(){return ee.lFrame.elementDepthCount}()&&un(c,i),function hR(){ee.lFrame.elementDepthCount++}(),u&&(eg(o,i,l),Xp(o,l,i)),null!==r&&tg(i,l),he}function de(){let e=Ue();Gh()?zh():(e=e.parent,kr(e,!1));const n=e;(function gR(e){return ee.skipHydrationRootTNode===e})(n)&&function yR(){ee.skipHydrationRootTNode=null}(),function pR(){ee.lFrame.elementDepthCount--}();const t=be();return t.firstCreatePass&&(ou(t,e),Fh(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function kR(e){return 0!=(8&e.flags)}(n)&&_g(t,n,w(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function PR(e){return 0!=(16&e.flags)}(n)&&_g(t,n,w(),n.stylesWithoutHost,!1),de}function tr(e,n,t,r){return he(e,n,t,r),de(),tr}let vw=(e,n,t,r,i,o)=>(Oi(!0),Au(r,i,function N0(){return ee.lFrame.currentNamespace}()));function fd(e,n,t){const r=w(),i=be(),o=e+oe,s=i.firstCreatePass?function NL(e,n,t,r,i){const o=n.consts,s=Or(o,r),a=Bs(n,e,8,"ng-container",s);return null!==s&&Ku(a,s,!0),rg(n,t,a,Or(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];kr(s,!0);const a=bw(i,r,s,e);return r[o]=a,iu()&&xu(i,r,a,s),un(a,r),tu(s)&&(eg(i,r,s),Xp(i,s,r)),null!=t&&tg(r,s),fd}function hd(){let e=Ue();const n=be();return Gh()?zh():(e=e.parent,kr(e,!1)),n.firstCreatePass&&(ou(n,e),Fh(e)&&n.queries.elementEnd(e)),hd}let bw=(e,n,t,r)=>(Oi(!0),Mp(n[ie],""));const ia="en-US";let Ew=ia;function Vl(e){return!!e&&"function"==typeof e.then}function Qw(e){return!!e&&"function"==typeof e.subscribe}function se(e=1){return function SR(e){return(ee.lFrame.contextLView=function h0(e,n){for(;e>0;)n=n[us],e--;return n}(e,ee.lFrame.contextLView))[ze]}(e)}function MB(e,n){let t=null;const r=function HO(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?Zy(e,o,!0):WO(r,o))return i}else t=i}return t}function d1(e,n,t){!function Vr(e){gr(ND,qF,e,!1)}(js(w(),e,n,t))}function Un(e,n=""){const t=w(),r=be(),i=e+oe,o=r.firstCreatePass?Bs(r,i,1,n,null):r.data[i],s=C1(r,t,o,n,e);t[i]=s,iu()&&xu(r,t,s,o),kr(o,!1)}let C1=(e,n,t,r,i)=>(Oi(!0),function Iu(e,n){return e.createText(n)}(n[ie],r));function Gr(e){return oa("",e,""),Gr}function oa(e,n,t){const r=w(),i=js(r,e,n,t);return i!==le&&function pi(e,n,t){const r=qa(n,e);!function Ab(e,n,t){e.setValue(n,t)}(e[ie],r,t)}(r,cn(),i),oa}class To{}class O1{}class Wg extends To{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nD(this);const i=an(n);this._bootstrapComponents=Vn(i.bootstrap),this._r3Injector=sb(n,t,[{provide:To,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...r],Nt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class qg extends O1{constructor(n){super(),this.moduleType=n}create(n){return new Wg(this.moduleType,n,[])}}class R1 extends To{constructor(n){super(),this.componentFactoryResolver=new nD(this),this.instance=null;const t=new Ns([...n.providers,{provide:To,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],n.parent||bu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Yg(e,n,t=null){return new R1({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let zB=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=K0(0,t.type),i=r.length>0?Yg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(K(On))})}return e})();function mr(e){bo("NgStandalone"),e.getStandaloneInjector=n=>n.get(zB).getOrCreateStandaloneInjector(e)}function mV(){return this._results[Symbol.iterator]()}class Kg{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Z)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Kg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=mV)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function An(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function YR(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ot=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=yV}return e})();const _V=Ot,vV=class extends _V{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function Nl(e,n,t,r){const i=n.tView,a=qu(e,i,t,4096&e[q]?4096:16,null,n,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Ga]=e[n.index];const c=e[Nr];return null!==c&&(a[Nr]=c.createEmbeddedView(i)),fg(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,dehydratedView:r});return new bl(i)}};function yV(){return Cd(Ue(),w())}function Cd(e,n){return 4&e.type?new vV(n,e,Ls(e,n)):null}class Jg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Jg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Xg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Q1(n,t).matches&&this.queries[t].setDirty()}}class z1{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class em{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new em(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class tm{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new tm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,bV(t,o)),this.matchTNodeWithReadOption(n,t,du(t,n,o,!1,!1))}else r===Ot?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,du(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Be||i===$n||i===Ot&&4&t.type)this.addMatch(t.index,-2);else{const o=du(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function bV(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function DV(e,n,t,r){return-1===t?function CV(e,n){return 11&e.type?Ls(e,n):4&e.type?Cd(e,n):null}(n,e):-2===t?function wV(e,n,t){return t===Be?Ls(n,e):t===Ot?Cd(n,e):t===$n?GD(n,e):void 0}(e,n,r):go(e,e[x],t,n)}function W1(e,n,t,r){const i=n[Nr].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:DV(n,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function nm(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=W1(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=n[-l];for(let d=Dt;d<u.length;d++){const f=u[d];f[Ga]===f[lt]&&nm(f[x],f,c,r)}if(null!==u[fs]){const d=u[fs];for(let f=0;f<d.length;f++){const h=d[f];nm(h[x],h,c,r)}}}}}return r}function ot(e){const n=w(),t=be(),r=D0();Yh(r+1);const i=Q1(t,r);if(e.dirty&&function cR(e){return 4==(4&e[q])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?nm(t,n,r,[]):W1(t,n,i,r);e.reset(o,Zk),e.notifyOnChanges()}return!0}return!1}function Mo(e,n,t){const r=be();r.firstCreatePass&&(function Y1(e,n,t){null===e.queries&&(e.queries=new em),e.queries.track(new tm(n,t))}(r,new z1(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function q1(e,n,t){const r=new Kg(4==(4&t));(function SP(e,n,t,r){const i=function LC(e){return e[ls]||(e[ls]=[])}(n);i.push(t),e.firstCreatePass&&function BC(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[Nr]&&(n[Nr]=new Xg),n[Nr].queries.push(new Jg(r))}(r,w(),n)}function Q1(e,n){return e.queries.getByIndex(n)}const am=new V("Application Initializer");let lm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(am,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Vl(o))t.push(o);else if(Qw(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Wr=new V("LocaleId",{providedIn:"root",factory:()=>y(Wr,_e.Optional|_e.SkipSelf)||function qV(){return typeof $localize<"u"&&$localize.locale||ia}()});let hE=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class XV{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let pE=(()=>{class e{compileModuleSync(t){return new qg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Vn(an(t).declarations).reduce((s,a)=>{const l=fe(a);return l&&s.push(new Cl(l)),s},[]);return new XV(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yE=new V(""),Ed=new V("");let fm,um=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fm||(function Ej(e){fm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(K(ve),K(dm),K(Ed))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),dm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return fm?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),$i=null;const bE=new V("AllowMultipleToken"),hm=new V("PlatformDestroyListeners"),pm=new V("appBootstrapListener");function wE(e,n,t=[]){const r=`Platform: ${n}`,i=new V(r);return(o=[])=>{let s=gm();if(!s||s.injector.get(bE,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function Mj(e){if($i&&!$i.get(bE,!1))throw new T(400,!1);(function CE(){!function Lc(e){sh=e}(()=>{throw new T(600,!1)})})(),$i=e;const n=e.get(SE);(function DE(e){e.get(lb,null)?.forEach(t=>t())})(e)}(function EE(e=[],n){return qt.create({name:n,providers:[{provide:fp,useValue:"platform"},{provide:hm,useValue:new Set([()=>$i=null])},...e]})}(a,r))}return function Ij(e){const n=gm();if(!n)throw new T(401,!1);return n}()}}function gm(){return $i?.get(SE)??null}let SE=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Aj(e="zone.js",n){return"noop"===e?new dF:"zone.js"===e?new ve(n):e}(r?.ngZone,function TE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function GB(e,n,t){return new Wg(e,n,t)}(t.moduleType,this.injector,function OE(e){return[{provide:ve,useFactory:e},{provide:Ms,multi:!0,useFactory:()=>{const n=y(Rj,{optional:!0});return()=>n.initialize()}},{provide:AE,useFactory:Oj},{provide:QC,useFactory:ZC}]}(()=>i)),s=o.injector.get(hi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Sd(this._modules,o),a.unsubscribe()})}),function ME(e,n,t){try{const r=t();return Vl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(lm);return a.runInitializers(),a.donePromise.then(()=>(function Sw(e){Tn(e,"Expected localeId to be defined"),"string"==typeof e&&(Ew=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Wr,ia)||ia),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=NE({},r);return function Sj(e,n,t){const r=new qg(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(No);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(hm,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(K(qt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function NE(e,n){return Array.isArray(n)?n.reduce(NE,e):{...e,...n}}let No=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(AE),this.zoneIsStable=y(QC),this.componentTypes=[],this.components=[],this.isStable=y(hE).hasPendingTasks.pipe(Jn(t=>t?Q(!1):this.zoneIsStable),function xy(e,n=ni){return e=e??yO,Ct((t,r)=>{let i,o=!0;t.subscribe(rt(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Ry()),this._injector=y(On)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof aC;if(!this._injector.get(lm).done)throw!i&&function Ii(e){const n=fe(e)||Bt(e)||Jt(e);return null!==n&&n.standalone}(t),new T(405,!1);let s;s=i?t:this._injector.get(Hu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Tj(e){return e.isBoundToModule}(s)?void 0:this._injector.get(To),c=s.create(qt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(yE,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Sd(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Sd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(pm,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const AE=new V("",{providedIn:"root",factory:()=>y(hi).handleError.bind(void 0)});function Oj(){const e=y(ve),n=y(hi);return t=>e.runOutsideAngular(()=>n.handleError(t))}let Rj=(()=>{class e{constructor(){this.zone=y(ve),this.applicationRef=y(No)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vj=wE(null,"core",[]);let jj=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(K(No))};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();function Sm(e,n){const t=fe(e),r=n.elementInjector||bu();return new Cl(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}let Tm=null;function Ui(){return Tm}class u${}const Rt=new V("DocumentToken");let Mm=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(f$),providedIn:"platform"})}return e})();const d$=new V("Location Initialized");let f$=(()=>{class e extends Mm{constructor(){super(),this._doc=y(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ui().getBaseHref(this._doc)}onPopState(t){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Nm(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function eS(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function _i(e){return e&&"?"!==e[0]?"?"+e:e}let Ao=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(nS),providedIn:"root"})}return e})();const tS=new V("appBaseHref");let nS=(()=>{class e extends Ao{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+_i(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+_i(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(K(Mm),K(tS,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),h$=(()=>{class e extends Ao{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Nm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(K(Mm),K(tS,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),ql=(()=>{class e{constructor(t){this._subject=new Z,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function m$(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(eS(rS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return e.stripTrailingSlash(function g$(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,rS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=_i;static#t=this.joinWithSlash=Nm;static#n=this.stripTrailingSlash=eS;static#r=this.\u0275fac=function(r){return new(r||e)(K(Ao))};static#i=this.\u0275prov=P({token:e,factory:()=>function p$(){return new ql(K(Ao))}(),providedIn:"root"})}return e})();function rS(e){return e.replace(/\/index.html$/,"")}class eU{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mS=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eU(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),_S(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_S(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I($n),I(Ot),I(zu))};static#t=this.\u0275dir=F({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function _S(e,n){e.context.$implicit=n.item}let vS=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new tU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I($n),I(Ot))};static#t=this.\u0275dir=F({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class tU{constructor(){this.$implicit=null,this.ngIf=null}}function yS(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Nt(n)}'.`)}let IU=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();function wS(e){return"server"===e}let xU=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new kU(K(Rt),window)})}return e})();class kU{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function PU(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class oH extends u${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wm extends oH{static makeCurrent(){!function c$(e){Tm||(Tm=e)}(new Wm)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function sH(){return Jl=Jl||document.querySelector("base"),Jl?Jl.getAttribute("href"):null}();return null==t?null:function aH(e){return new URL(e,"http://a").pathname}(t)}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function K$(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Jl=null,cH=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const qm=new V("EventManagerPlugins");let MS=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(K(qm),K(ve))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class NS{constructor(n){this._doc=n}}const Ym="ng-app-id";let IS=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wS(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ym}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ym),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ym,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(K(Rt),K(wu),K(cb,8),K(As))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const Qm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zm=/%COMP%/g,hH=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function OS(e,n){return n.map(t=>t.replace(Zm,e))}let RS=(()=>{class e{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=wS(a),this.defaultRenderer=new Km(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r={...r,encapsulation:cr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof kS?i.applyToHost(t):i instanceof Jm&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:o=new kS(l,c,r,this.appId,u,s,a,d);break;case cr.ShadowDom:return new _H(l,c,t,r,s,a,this.nonce,d);default:o=new Jm(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(K(MS),K(IS),K(wu),K(hH),K(Rt),K(As),K(ve),K(cb))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class Km{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Qm[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(xS(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(xS(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new T(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Qm[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Qm[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Fi.DashCase|Fi.Important)?n.style.setProperty(t,r,i&Fi.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Fi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Ui().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function xS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _H extends Km{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=OS(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jm extends Km{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?OS(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kS extends Jm{constructor(n,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(n,t,r,o,s,a,l,c),this.contentAttr=function pH(e){return"_ngcontent-%COMP%".replace(Zm,e)}(c),this.hostAttr=function gH(e){return"_nghost-%COMP%".replace(Zm,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let vH=(()=>{class e extends NS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(K(Rt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const PS=["alt","control","meta","shift"],yH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bH={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let CH=(()=>{class e extends NS{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ui().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PS.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=yH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PS.forEach(s=>{s!==i&&(0,bH[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(K(Rt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const SH=wE(Vj,"browser",[{provide:As,useValue:"browser"},{provide:lb,useValue:function DH(){Wm.makeCurrent()},multi:!0},{provide:Rt,useFactory:function EH(){return function Mx(e){_p=e}(document),document},deps:[]}]),TH=new V(""),BS=[{provide:Ed,useClass:class lH{addToWindow(n){Je.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Je.getAllAngularTestabilities=()=>n.getAllTestabilities(),Je.getAllAngularRootElements=()=>n.getAllRootElements(),Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(r=>{const i=Je.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Ui().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:yE,useClass:um,deps:[ve,dm,Ed]},{provide:um,useClass:um,deps:[ve,dm,Ed]}],VS=[{provide:fp,useValue:"root"},{provide:hi,useFactory:function wH(){return new hi},deps:[]},{provide:qm,useClass:vH,multi:!0,deps:[Rt,ve,As]},{provide:qm,useClass:CH,multi:!0,deps:[Rt]},RS,IS,MS,{provide:cC,useExisting:RS},{provide:class FU{},useClass:cH,deps:[]},[]];let MH=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:wu,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(K(TH,12))};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({providers:[...VS,...BS],imports:[IU,jj]})}return e})(),jS=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(K(Rt))};static#t=this.\u0275prov=P({token:e,factory:function(r){let i=null;return i=r?new r:function IH(){return new jS(K(Rt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:PH}=Array,{getPrototypeOf:FH,prototype:LH,keys:BH}=Object;const{isArray:jH}=Array;function e_(e){return De(n=>function $H(e,n){return jH(n)?e(...n):e(n)}(e,n))}function t_(...e){const n=La(e),t=Hc(e),{args:r,keys:i}=function GS(e){if(1===e.length){const n=e[0];if(PH(n))return{args:n,keys:null};if(function VH(e){return e&&"object"==typeof e&&FH(e)===LH}(n)){const t=BH(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return Lt([],n);const o=new Ze(function UH(e,n,t=ni){return r=>{WS(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)WS(n,()=>{const c=Lt(e[l],n);let u=!1;c.subscribe(rt(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function zS(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):ni));return t?o.pipe(e_(t)):o}function WS(e,n,t){e?si(t,e,n):n()}const zd=Fe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Xl(...e){return function HH(){return os(1)}()(Lt(e,La(e)))}function qS(e){return new Ze(n=>{Ft(e()).subscribe(n)})}function Wd(e,n){const t=G(e)?e:()=>e,r=i=>i.error(t());return new Ze(n?i=>n.schedule(r,0,i):r)}function n_(){return Ct((e,n)=>{let t=null;e._refCount++;const r=rt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class YS extends Ze{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gy(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Mt;const t=this.getSubject();n.add(this.source.subscribe(rt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Mt.EMPTY)}return n}refCount(){return n_()(this)}}function dn(e){return e<=0?()=>Zn:Ct((n,t)=>{let r=0;n.subscribe(rt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Zt(e,n){return Ct((t,r)=>{let i=0;t.subscribe(rt(r,o=>e.call(n,o,i++)&&r.next(o)))})}function qd(e){return Ct((n,t)=>{let r=!1;n.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ZS(e=GH){return Ct((n,t)=>{let r=!1;n.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function GH(){return new zd}function Oo(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Zt((i,o)=>e(i,o,r)):ni,dn(1),t?qd(n):ZS(()=>new zd))}function ec(e,n){return G(n)?zt(e,n,1):zt(e,1)}function Kt(e,n,t){const r=G(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ct((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(rt(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ni}function Ro(e){return Ct((n,t)=>{let o,r=null,i=!1;r=n.subscribe(rt(t,void 0,void 0,s=>{o=Ft(e(s,Ro(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function r_(e){return e<=0?()=>Zn:Ct((n,t)=>{let r=[];n.subscribe(rt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function i_(e){return Ct((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function tn(e){return Ct((n,t)=>{Ft(e).subscribe(rt(t,()=>t.complete(),so)),!t.closed&&n.subscribe(t)})}const ue="primary",tc=Symbol("RouteTitle");class YH{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(e){return new YH(e)}function QH(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function qr(e,n){const t=e?o_(e):void 0,r=n?o_(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JS(e[i],n[i]))return!1;return!0}function o_(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function JS(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function XS(e){return e.length>0?e[e.length-1]:null}function Gi(e){return function kH(e){return!!e&&(e instanceof Ze||G(e.lift)&&G(e.subscribe))}(e)?e:Vl(e)?Lt(Promise.resolve(e)):Q(e)}const KH={exact:function nT(e,n,t){if(!xo(e.segments,n.segments)||!Yd(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!nT(e.children[r],n.children[r],t))return!1;return!0},subset:rT},eT={exact:function JH(e,n){return qr(e,n)},subset:function XH(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>JS(e[t],n[t]))},ignored:()=>!0};function tT(e,n,t){return KH[t.paths](e.root,n.root,t.matrixParams)&&eT[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function rT(e,n,t){return iT(e,n,n.segments,t)}function iT(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!xo(i,t)||n.hasChildren()||!Yd(i,t,r))}if(e.segments.length===t.length){if(!xo(e.segments,t)||!Yd(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!rT(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(xo(e.segments,i)&&Yd(e.segments,i,r)&&e.children[ue])&&iT(e.children[ue],n,o,r)}}function Yd(e,n,t){return n.every((r,i)=>eT[t](e[i].parameters,r.parameters))}class fa{constructor(n=new He([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return n3.serialize(this)}}class He{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qd(this)}}class nc{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=da(this.parameters)),this._parameterMap}toString(){return aT(this)}}function xo(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let ha=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>new s_,providedIn:"root"})}return e})();class s_{parse(n){const t=new h3(n);return new fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${rc(n.root,!0)}`,r=function o3(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Zd(t)}=${Zd(i)}`).join("&"):`${Zd(t)}=${Zd(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function r3(e){return encodeURI(e)}(n.fragment)}`:""}`}}const n3=new s_;function Qd(e){return e.segments.map(n=>aT(n)).join("/")}function rc(e,n){if(!e.hasChildren())return Qd(e);if(n){const t=e.children[ue]?rc(e.children[ue],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${rc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function t3(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===ue&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===ue?[rc(e.children[ue],!1)]:[`${i}:${rc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ue]?`${Qd(e)}/${t[0]}`:`${Qd(e)}/(${t.join("//")})`}}function oT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(e){return oT(e).replace(/%3B/gi,";")}function a_(e){return oT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kd(e){return decodeURIComponent(e)}function sT(e){return Kd(e.replace(/\+/g,"%20"))}function aT(e){return`${a_(e.path)}${function i3(e){return Object.keys(e).map(n=>`;${a_(n)}=${a_(e[n])}`).join("")}(e.parameters)}`}const s3=/^[^\/()?;#]+/;function l_(e){const n=e.match(s3);return n?n[0]:""}const a3=/^[^\/()?;=#]+/,c3=/^[^=?&#]+/,d3=/^[^&#]+/;class h3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ue]=new He(n,t)),r}parseSegment(){const n=l_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(n),new nc(Kd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function l3(e){const n=e.match(a3);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=l_(this.remaining);i&&(r=i,this.capture(r))}n[Kd(t)]=Kd(r)}parseQueryParam(n){const t=function u3(e){const n=e.match(c3);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function f3(e){const n=e.match(d3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=sT(t),o=sT(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=l_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ue);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ue]:new He([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new T(4011,!1)}}function lT(e){return e.segments.length>0?new He([],{[ue]:e}):e}function cT(e){const n={};for(const r of Object.keys(e.children)){const o=cT(e.children[r]);if(r===ue&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function p3(e){if(1===e.numberOfChildren&&e.children[ue]){const n=e.children[ue];return new He(e.segments.concat(n.segments),n.children)}return e}(new He(e.segments,n))}function ko(e){return e instanceof fa}function uT(e){let n;const i=lT(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new He(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function dT(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return c_(i,i,i,t,r);const o=function m3(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hT(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new hT(t,n,r)}(n);if(o.toRoot())return c_(i,i,new He([],{}),t,r);const s=function _3(e,n,t){if(e.isAbsolute)return new Xd(n,!0,0);if(!t)return new Xd(n,!1,NaN);if(null===t.parent)return new Xd(t,!0,0);const r=Jd(e.commands[0])?0:1;return function v3(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Xd(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?oc(s.segmentGroup,s.index,o.commands):pT(s.segmentGroup,s.index,o.commands);return c_(i,s.segmentGroup,a,t,r)}function Jd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ic(e){return"object"==typeof e&&null!=e&&e.outlets}function c_(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===n?t:fT(e,n,t);const a=lT(cT(s));return new fa(a,o,i)}function fT(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:fT(o,n,t)}),new He(e.segments,r)}class hT{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Jd(r[0]))throw new T(4003,!1);const i=r.find(ic);if(i&&i!==XS(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xd{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function pT(e,n,t){if(e||(e=new He([],{})),0===e.segments.length&&e.hasChildren())return oc(e,n,t);const r=function b3(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(ic(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!mT(l,c,s))return o;r+=2}else{if(!mT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new He(e.segments.slice(0,r.pathIndex),{});return o.children[ue]=new He(e.segments.slice(r.pathIndex),e.children),oc(o,0,i)}return r.match&&0===i.length?new He(e.segments,{}):r.match&&!e.hasChildren()?u_(e,n,t):r.match?oc(e,0,i):u_(e,n,t)}function oc(e,n,t){if(0===t.length)return new He(e.segments,{});{const r=function y3(e){return ic(e[0])?e[0].outlets:{[ue]:e}}(t),i={};if(Object.keys(r).some(o=>o!==ue)&&e.children[ue]&&1===e.numberOfChildren&&0===e.children[ue].segments.length){const o=oc(e.children[ue],n,t);return new He(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=pT(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new He(e.segments,i)}}function u_(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(ic(o)){const l=C3(o.outlets);return new He(r,l)}if(0===i&&Jd(t[0])){r.push(new nc(e.segments[n].path,gT(t[0]))),i++;continue}const s=ic(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Jd(a)?(r.push(new nc(s,gT(a))),i+=2):(r.push(new nc(s,{})),i++)}return new He(r,{})}function C3(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=u_(new He([],{}),0,r))}),n}function gT(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function mT(e,n,t){return e==t.path&&qr(n,t.parameters)}const sc="imperative";class Yr{constructor(n,t){this.id=n,this.url=t}}class ef extends Yr{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bi extends Yr{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pa extends Yr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ga extends Yr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class tf extends Yr{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _T extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D3 extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w3 extends Yr{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class E3 extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S3 extends Yr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class M3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vT{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class d_{}class f_{constructor(n){this.url=n}}class R3{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ac,this.attachRef=null}}let ac=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new R3,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class yT{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=h_(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=h_(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=p_(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return p_(n,this._root).map(t=>t.value)}}function h_(e,n){if(e===n.value)return n;for(const t of n.children){const r=h_(e,t);if(r)return r}return null}function p_(e,n){if(e===n.value)return[n];for(const t of n.children){const r=p_(e,t);if(r.length)return r.unshift(n),r}return[]}class yr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ma(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class bT extends yT{constructor(n,t){super(n),this.snapshot=t,__(this,n)}toString(){return this.snapshot.toString()}}function CT(e,n){const t=function x3(e,n){const s=new m_([],{},{},"",{},ue,n,null,{});return new DT("",new yr(s,[]))}(0,n),r=new Kn([new nc("",{})]),i=new Kn({}),o=new Kn({}),s=new Kn({}),a=new Kn(""),l=new Po(r,i,s,a,o,ue,n,t.root);return l.snapshot=t.root,new bT(new yr(l,[]),t)}class Po{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(c=>c[tc]))??Q(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(n=>da(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(n=>da(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function g_(e,n,t="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===n||"always"!==t&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...i?.data,...e._resolvedData}},i&&ET(i)&&(r.resolve[tc]=i.title),r}class m_{get title(){return this.data?.[tc]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DT extends yT{constructor(n,t){super(t),this.url=n,__(this,t)}toString(){return wT(this._root)}}function __(e,n){n.value._routerState=e,n.children.forEach(t=>__(e,t))}function wT(e){const n=e.children.length>0?` { ${e.children.map(wT).join(", ")} } `:"";return`${e.value}${n}`}function v_(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,qr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),qr(n.params,t.params)||e.paramsSubject.next(t.params),function ZH(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!qr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),qr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function y_(e,n){const t=qr(e.params,n.params)&&function e3(e,n){return xo(e,n)&&e.every((t,r)=>qr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||y_(e.parent,n.parent))}function ET(e){return"string"==typeof e.title||null===e.title}let b_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Z,this.deactivateEvents=new Z,this.attachEvents=new Z,this.detachEvents=new Z,this.parentContexts=y(ac),this.location=y($n),this.changeDetector=y(hr),this.environmentInjector=y(On),this.inputBinder=y(nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new k3(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=F({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]})}return e})();class k3{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Po?this.route:n===ac?this.childContexts:this.parent.get(n,t)}}const nf=new V("");let ST=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=t_([r.queryParams,r.params,r.data]).pipe(Jn(([o,s,a],l)=>(a={...o,...s,...a},0===l?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function l$(e){const n=fe(e);if(!n)return null;const t=new Cl(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function lc(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function F3(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return lc(e,r,i);return lc(e,r)})}(e,n,t);return new yr(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>lc(e,a)),s}}const r=function L3(e){return new Po(new Kn(e.url),new Kn(e.params),new Kn(e.queryParams),new Kn(e.fragment),new Kn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>lc(e,o));return new yr(r,i)}}const C_="ngNavigationCancelingError";function TT(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=ko(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=MT(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function MT(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[C_]=!0,r.cancellationCode=n,t&&(r.url=t),r}function NT(e){return e&&e[C_]}let IT=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Nn({type:e,selectors:[["ng-component"]],standalone:!0,features:[mr],decls:1,vars:0,template:function(r,i){1&r&&tr(0,"router-outlet")},dependencies:[b_],encapsulation:2})}return e})();function D_(e){const n=e.children&&e.children.map(D_),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=IT),t}function Qr(e){return e.outlet||ue}function cc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class z3{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),v_(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ma(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=ma(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new O3(o.value.snapshot))}),n.children.length&&this.forwardEvent(new I3(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(v_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),v_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=cc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class AT{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class rf{constructor(n,t){this.component=n,this.route=t}}function W3(e,n,t){const r=e._root;return uc(r,n?n._root:null,t,[r.value])}function _a(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function MO(e){return null!==Wc(e)}(e)?n.get(e):e:r}function uc(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ma(n);return e.children.forEach(s=>{(function Y3(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Q3(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!xo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!xo(e.url,n.url)||!qr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y_(e,n)||!qr(e.queryParams,n.queryParams);default:return!y_(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new AT(r)):(o.data=s.data,o._resolvedData=s._resolvedData),uc(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rf(a.outlet.component,s))}else s&&dc(n,a,i),i.canActivateChecks.push(new AT(r)),uc(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dc(a,t.getContext(s),i)),i}function dc(e,n,t){const r=ma(e),i=e.value;Object.entries(r).forEach(([o,s])=>{dc(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new rf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function fc(e){return"function"==typeof e}function OT(e){return e instanceof zd||"EmptyError"===e?.name}const sf=Symbol("INITIAL_VALUE");function va(){return Jn(e=>t_(e.map(n=>n.pipe(dn(1),function QS(...e){const n=La(e);return Ct((t,r)=>{(n?Xl(e,t,n):Xl(e,t)).subscribe(r)})}(sf)))).pipe(De(n=>{for(const t of n)if(!0!==t){if(t===sf)return sf;if(!1===t||t instanceof fa)return t}return!0}),Zt(n=>n!==sf),dn(1)))}function RT(e){return function PA(...e){return fy(e)}(Kt(n=>{if(ko(n))throw TT(0,n)}),De(n=>!0===n))}class w_{constructor(n){this.segmentGroup=n||null}}class E_ extends Error{constructor(n){super(),this.urlTree=n}}function ya(e){return Wd(new w_(e))}class gG{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new T(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ue])return Wd(new T(4e3,!1));i=i.children[ue]}}applyRedirectCommands(n,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t.startsWith("/"))throw new E_(i);return i}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new fa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new He(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const S_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mG(e,n,t,r,i){const o=T_(e,n,t);return o.matched?(r=function V3(e,n){return e.providers&&!e._injector&&(e._injector=Yg(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function fG(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Q(i.map(s=>{const a=_a(s,e);return Gi(function tG(e){return e&&fc(e.canMatch)}(a)?a.canMatch(n,t):vo(e,()=>a(n,t)))})).pipe(va(),RT()):Q(!0)}(r,n,t).pipe(De(s=>!0===s?o:{...S_}))):Q(o)}function T_(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...S_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||QH)(t,e,n);if(!i)return{...S_};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xT(e,n,t,r){return t.length>0&&function yG(e,n,t){return t.some(r=>af(e,n,r)&&Qr(r)!==ue)}(e,t,r)?{segmentGroup:new He(n,vG(r,new He(t,e.children))),slicedSegments:[]}:0===t.length&&function bG(e,n,t){return t.some(r=>af(e,n,r))}(e,t,r)?{segmentGroup:new He(e.segments,_G(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new He(e.segments,e.children),slicedSegments:t}}function _G(e,n,t,r,i){const o={};for(const s of r)if(af(e,t,s)&&!i[Qr(s)]){const a=new He([],{});o[Qr(s)]=a}return{...i,...o}}function vG(e,n){const t={};t[ue]=n;for(const r of e)if(""===r.path&&Qr(r)!==ue){const i=new He([],{});t[Qr(r)]=i}return t}function af(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class wG{}class TG{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gG(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new T(4002,!1)}recognize(){const n=xT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(De(t=>{const r=new m_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new yr(r,t),o=new DT("",i),s=function g3(e,n,t=null,r=null){return dT(uT(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,ue).pipe(Ro(r=>{if(r instanceof E_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof w_?this.noMatchError(r):r}))}inheritParamsAndData(n,t){const r=n.value,i=g_(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0).pipe(De(o=>o instanceof yr?[o]:[]))}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Lt(i).pipe(ec(o=>{const s=r.children[o],a=function H3(e,n){const t=e.filter(r=>Qr(r)===n);return t.push(...e.filter(r=>Qr(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function WH(e,n){return Ct(function zH(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(rt(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),qd(null),function qH(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Zt((i,o)=>e(i,o,r)):ni,r_(1),t?qd(n):ZS(()=>new zd))}(),zt(o=>{if(null===o)return ya(r);const s=kT(o);return function MG(e){e.sort((n,t)=>n.value.outlet===ue?-1:t.value.outlet===ue?1:n.value.outlet.localeCompare(t.value.outlet))}(s),Q(s)}))}processSegment(n,t,r,i,o,s){return Lt(t).pipe(ec(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Ro(l=>{if(l instanceof w_)return Q(null);throw l}))),Oo(a=>!!a),Ro(a=>{if(OT(a))return function DG(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?Q(new wG):ya(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function CG(e,n,t,r){return!!(Qr(e)===r||r!==ue&&af(n,t,e))&&("**"===e.path||T_(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):ya(i):ya(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}="**"===i.path?PT(o):T_(t,i,o);if(!a)return ya(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(zt(f=>this.processSegment(n,r,t,f.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o){let s;return"**"===r.path?(s=Q(PT(i)),t.children={}):s=mG(t,r,i,n),s.pipe(Jn(a=>a.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(Jn(({routes:l})=>{const c=r._loadedInjector??n,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new m_(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function IG(e){return e.data||{}}(r),Qr(r),r.component??r._loadedComponent??null,r,function AG(e){return e.resolve||{}}(r)),{segmentGroup:p,slicedSegments:g}=xT(t,u,d,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(De(_=>null===_?null:new yr(h,_)));if(0===l.length&&0===g.length)return Q(new yr(h,[]));const v=Qr(r)===o;return this.processSegment(c,l,p,g,v?ue:o,!0).pipe(De(_=>new yr(h,_ instanceof yr?[_]:[])))})):ya(t)))}getChildConfig(n,t,r){return t.children?Q({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):function dG(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(s=>{const a=_a(s,e);return Gi(function K3(e){return e&&fc(e.canLoad)}(a)?a.canLoad(n,t):vo(e,()=>a(n,t)))})).pipe(va(),RT())}(n,t,r).pipe(zt(i=>i?this.configLoader.loadChildren(n,t).pipe(Kt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function pG(e){return Wd(MT(!1,3))}())):Q({routes:[],injector:n})}}function NG(e){const n=e.value.routeConfig;return n&&""===n.path}function kT(e){const n=[],t=new Set;for(const r of e){if(!NG(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=kT(r.children);n.push(new yr(r.value,i))}return n.filter(r=>!t.has(r))}function PT(e){return{matched:!0,parameters:e.length>0?XS(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function RG(e,n){return zt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of FT(l))s.add(c);let a=0;return Lt(s).pipe(ec(l=>o.has(l)?function xG(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!ET(i)&&(o[tc]=i.title),function kG(e,n,t,r){const i=o_(e);if(0===i.length)return Q({});const o={};return Lt(i).pipe(zt(s=>function PG(e,n,t,r){const i=cc(n)??r,o=_a(e,i);return Gi(o.resolve?o.resolve(n,t):vo(i,()=>o(n,t)))}(e[s],n,t,r).pipe(Oo(),Kt(a=>{o[s]=a}))),r_(1),function KS(e){return De(()=>e)}(o),Ro(s=>OT(s)?Zn:Wd(s)))}(o,e,n,r).pipe(De(s=>(e._resolvedData=s,e.data=g_(e,e.parent,t).resolve,null)))}(l,r,e,n):(l.data=g_(l,l.parent,e).resolve,Q(void 0))),Kt(()=>a++),r_(1),zt(l=>a===s.size?Q(t):Zn))})}function FT(e){const n=e.children.map(t=>FT(t)).flat();return[e,...n]}function M_(e){return Jn(n=>{const t=e(n);return t?Lt(t).pipe(De(()=>n)):Q(n)})}let LT=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[tc]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(FG),providedIn:"root"})}return e})(),FG=(()=>{class e extends LT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(K(jS))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ba=new V("",{providedIn:"root",factory:()=>({})}),Ca=new V("ROUTES");let N_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(pE)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gi(t.loadComponent()).pipe(De(BT),Kt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),i_(()=>{this.componentLoaders.delete(t)})),i=new YS(r,()=>new Ke).pipe(n_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function LG(e,n,t,r){return Gi(e.loadChildren()).pipe(De(BT),zt(i=>i instanceof O1||Array.isArray(i)?Q(i):Lt(n.compileModuleAsync(i))),De(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:s.map(D_),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(i_(()=>{this.childrenLoaders.delete(r)})),s=new YS(o,()=>new Ke).pipe(n_());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BT(e){return function BG(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let I_=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(VG),providedIn:"root"})}return e})(),VG=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VT=new V(""),jT=new V("");function jG(e,n,t){const r=e.get(jT),i=e.get(Rt);return e.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function $G(e){return new Promise(n=>{XC(n,{injector:e})})}(e))),{onViewTransitionCreated:l}=r;return l&&vo(e,()=>l({transition:a,from:n,to:t})),s})}let lf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=y(N_),this.environmentInjector=y(On),this.urlSerializer=y(ha),this.rootContexts=y(ac),this.location=y(ql),this.inputBindingEnabled=null!==y(nf,{optional:!0}),this.titleStrategy=y(LT),this.options=y(ba,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(I_),this.createViewTransition=y(VT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new M3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new T3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Kn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>0!==o.id),De(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Jn(o=>{this.currentTransition=o;let s=!1,a=!1;return Q(o).pipe(Kt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(l=>{const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new ga(l.id,this.urlSerializer.serialize(l.rawUrl),d,0)),l.resolve(null),Zn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(Jn(d=>{const f=this.transitions?.getValue();return this.events.next(new ef(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Zn:Promise.resolve(d)}),function OG(e,n,t,r,i,o){return zt(s=>function EG(e,n,t,r,i,o,s="emptyOnly"){return new TG(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(De(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new _T(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:p,extras:g}=l,v=new ef(d,this.urlSerializer.serialize(f),h,p);this.events.next(v);const _=CT(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,Q(o)}{const d="";return this.events.next(new ga(l.id,this.urlSerializer.serialize(l.extractedUrl),d,1)),l.resolve(null),Zn}}),Kt(l=>{const c=new D3(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),De(l=>(this.currentTransition=o={...l,guards:W3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function rG(e,n){return zt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Q({...t,guardsResult:!0}):function iG(e,n,t,r){return Lt(e).pipe(zt(i=>function uG(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Q(o.map(a=>{const l=cc(n)??i,c=_a(a,l);return Gi(function eG(e){return e&&fc(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):vo(l,()=>c(e,n,t,r))).pipe(Oo())})).pipe(va()):Q(!0)}(i.component,i.route,t,n,r)),Oo(i=>!0!==i,!0))}(s,r,i,e).pipe(zt(a=>a&&function Z3(e){return"boolean"==typeof e}(a)?function oG(e,n,t,r){return Lt(n).pipe(ec(i=>Xl(function aG(e,n){return null!==e&&n&&n(new N3(e)),Q(!0)}(i.route.parent,r),function sG(e,n){return null!==e&&n&&n(new A3(e)),Q(!0)}(i.route,r),function cG(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function q3(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>qS(()=>Q(s.guards.map(l=>{const c=cc(s.node)??t,u=_a(l,c);return Gi(function X3(e){return e&&fc(e.canActivateChild)}(u)?u.canActivateChild(r,e):vo(c,()=>u(r,e))).pipe(Oo())})).pipe(va())));return Q(o).pipe(va())}(e,i.path,t),function lG(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(o=>qS(()=>{const s=cc(n)??t,a=_a(o,s);return Gi(function J3(e){return e&&fc(e.canActivate)}(a)?a.canActivate(n,e):vo(s,()=>a(n,e))).pipe(Oo())}));return Q(i).pipe(va())}(e,i.route,t))),Oo(i=>!0!==i,!0))}(r,o,e,n):Q(a)),De(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Kt(l=>{if(o.guardsResult=l.guardsResult,ko(l.guardsResult))throw TT(0,l.guardsResult);const c=new w3(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Zt(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),M_(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Kt(c=>{const u=new E3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Jn(c=>{let u=!1;return Q(c).pipe(RG(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Kt(c=>{const u=new S3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),M_(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Kt(f=>{u.component=f}),De(()=>{})));for(const f of u.children)d.push(...c(f));return d};return t_(c(l.targetSnapshot.root)).pipe(qd(),dn(1))}),M_(()=>this.afterPreactivation()),Jn(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Lt(u).pipe(De(()=>o)):Q(o)}),De(l=>{const c=function P3(e,n,t){const r=lc(e,n._root,t?t._root:void 0);return new bT(r,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),Kt(()=>{this.events.next(new d_)}),((e,n,t,r)=>De(i=>(new z3(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),dn(1),Kt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),tn(this.transitionAbortSubject.pipe(Kt(l=>{throw l}))),i_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ro(l=>{if(a=!0,NT(l))this.events.next(new pa(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function B3(e){return NT(e)&&ko(e.url)}(l)?this.events.next(new f_(l.url)):o.resolve(!1);else{this.events.next(new tf(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return Zn}))}))}cancelNavigationTransition(t,r,i){const o=new pa(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function UG(e){return e!==sc}let HG=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(zG),providedIn:"root"})}return e})();class GG{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let zG=(()=>{class e extends GG{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=et(e)))(i||e)}})();static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$T=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(WG),providedIn:"root"})}return e})(),WG=(()=>{class e extends $T{constructor(){super(...arguments),this.location=y(ql),this.urlSerializer=y(ha),this.options=y(ba,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(I_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CT(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ef)this.stateMemento=this.createStateMemento();else if(t instanceof ga)this.rawUrlTree=r.initialUrl;else if(t instanceof _T){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof d_?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof pa&&(3===t.code||2===t.code)?this.restoreHistory(r):t instanceof tf?this.restoreHistory(r,!0):t instanceof bi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=et(e)))(i||e)}})();static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(hc||{});function UT(e,n){e.events.pipe(Zt(t=>t instanceof bi||t instanceof pa||t instanceof tf||t instanceof ga),De(t=>t instanceof bi||t instanceof ga?hc.COMPLETE:t instanceof pa&&(0===t.code||1===t.code)?hc.REDIRECTING:hc.FAILED),Zt(t=>t!==hc.REDIRECTING),dn(1)).subscribe(()=>{n()})}function qG(e){throw e}const YG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y(dE),this.stateManager=y($T),this.options=y(ba,{optional:!0})||{},this.pendingTasks=y(hE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(lf),this.urlSerializer=y(ha),this.location=y(ql),this.urlHandlingStrategy=y(I_),this._events=new Ke,this.errorHandler=this.options.errorHandler||qG,this.navigated=!1,this.routeReuseStrategy=y(HG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(nf,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=y(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof pa&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof bi)this.navigated=!0;else if(r instanceof f_){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UG(i.source)};this.scheduleNavigation(s,sc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function KG(e){return!(e instanceof d_||e instanceof f_)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(D_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=uT(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return dT(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ko(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sc,null,r)}navigate(t,r={skipLocationChange:!1}){return function ZG(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new T(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...YG}:!1===r?{...QG}:r,ko(t))return tT(this.currentUrlTree,t,i);const o=this.parseUrl(t);return tT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return UT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class HT{}let e8=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof bi),ec(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Yg(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Lt(i).pipe(os())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Q(null);const o=i.pipe(zt(s=>null===s?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Lt([o,this.loader.loadComponent(r)]).pipe(os()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(K(br),K(pE),K(On),K(HT),K(N_))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O_=new V("");let GT=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ef?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ga&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function TC(){throw new Error("invalid")}()};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function Zr(e,n){return{\u0275kind:e,\u0275providers:n}}function WT(){const e=y(qt);return n=>{const t=e.get(No);if(n!==t.components[0])return;const r=e.get(br),i=e.get(qT);1===e.get(R_)&&r.initialNavigation(),e.get(YT,null,_e.Optional)?.setUpPreloading(),e.get(O_,null,_e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const qT=new V("",{factory:()=>new Ke}),R_=new V("",{providedIn:"root",factory:()=>1}),YT=new V("");function i8(e){return Zr(0,[{provide:YT,useExisting:e8},{provide:HT,useExisting:e}])}function s8(e){return Zr(9,[{provide:VT,useValue:jG},{provide:jT,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const QT=new V("ROUTER_FORROOT_GUARD"),a8=[ql,{provide:ha,useClass:s_},br,ac,{provide:Po,useFactory:function zT(e){return e.routerState.root},deps:[br]},N_,[]];let ZT=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[a8,[],{provide:Ca,multi:!0,useValue:t},{provide:QT,useFactory:d8,deps:[[br,new pu,new gu]]},{provide:ba,useValue:r||{}},r?.useHash?{provide:Ao,useClass:h$}:{provide:Ao,useClass:nS},{provide:O_,useFactory:()=>{const e=y(xU),n=y(ve),t=y(ba),r=y(lf),i=y(ha);return t.scrollOffset&&e.setOffset(t.scrollOffset),new GT(i,r,e,n,t)}},r?.preloadingStrategy?i8(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?f8(r):[],r?.bindToComponentInputs?Zr(8,[ST,{provide:nf,useExisting:ST}]).\u0275providers:[],r?.enableViewTransitions?s8().\u0275providers:[],[{provide:KT,useFactory:WT},{provide:pm,multi:!0,useExisting:KT}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ca,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(K(QT,8))};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();function d8(e){return"guarded"}function f8(e){return["disabled"===e.initialNavigation?Zr(3,[{provide:am,multi:!0,useFactory:()=>{const n=y(br);return()=>{n.setUpLocationChangeListener()}}},{provide:R_,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Zr(2,[{provide:R_,useValue:0},{provide:am,multi:!0,deps:[qt],useFactory:n=>{const t=n.get(d$,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(br),o=n.get(qT);UT(i,()=>{r(!0)}),n.get(lf).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const KT=new V("");function p8(e,n){if(1&e&&(he(0,"div",3),Un(1),de()),2&e){const t=se();z(1),oa("#",t.chatMessage.channel,"")}}let g8=(()=>{class e{constructor(){this.theme=x_.Sideways,this.showChannelName=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Nn({type:e,selectors:[["app-chat-message"]],inputs:{chatMessage:"chatMessage",channelNumber:"channelNumber",theme:"theme",showChannelName:"showChannelName"},decls:6,vars:12,consts:[[1,"username"],[1,"message",3,"innerHTML"],["class","channel",4,"ngIf"],[1,"channel"]],template:function(r,i){1&r&&(he(0,"div")(1,"div")(2,"div",0),Un(3),de(),tr(4,"div",1),Ne(5,p8,2,1,"div",2),de()()),2&r&&(nd("theme-",i.theme,""),z(1),nd("chat-message-container channel",i.channelNumber,""),z(1),d1("color: ",i.chatMessage.color,""),z(1),Gr(i.chatMessage.username),z(1),Ve("innerHTML",i.chatMessage.renderedMessage,eC),z(1),Ve("ngIf",i.showChannelName))},dependencies:[vS],styles:[".theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]{animation:backInRight;animation-duration:.5s;background-color:#000;border-radius:10px;padding:15px;color:#fff;width:-moz-fit-content;width:fit-content;max-width:400px}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:700}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{font-size:12px}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container.channel0[_ngcontent-%COMP%]{background-color:#000}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container.channel1[_ngcontent-%COMP%]{background-color:#2f4f4f}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]{animation:slideInUp;animation-duration:.5s;padding-left:15px;padding-right:15px;background-color:#000c;width:100%;border-radius:10px}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:700;text-shadow:1px 1px 1px black}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-shadow:2px 2px 4px black}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{font-size:12px}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container.channel1[_ngcontent-%COMP%]{background-color:#2f4f4f}"]})}return e})();var x_=function(e){return e.Sideways="sideways",e.Vertical="vertical",e}(x_||{});const JT="ChatReader";function _8(e,n){if(1&e&&(fd(0),tr(1,"app-chat-message",2),hd()),2&e){const t=n.$implicit,r=se();z(1),Ve("chatMessage",t)("channelNumber",r.getChannelNumber(t))("theme",r.theme)("showChannelName",r.showChannelName)}}const v8=[{path:"",component:(()=>{class e{constructor(t,r){this.chatReader=t,this.route=r,this.theme="sideways",this.showChannelName=!1,this.ttl=3e4,this.maxMessages=15,this.channels=[],this.messages=[],this.route.queryParamMap.subscribe(i=>{const o=i.get("channels");if(null!=o?(this.channels=o.split(","),this.channels.length>1&&(this.showChannelName=!0),this.chatReader.connect(o.split(",")),this.chatReader.messages$.subscribe(s=>{this.messages.length>this.maxMessages&&this.messages.pop(),this.messages.unshift(s)})):console.log("No channels found in query string.  Specify a comma-delimited list of channel names to join"),i.has("theme")){const s=i.get("theme");console.log("Theme: "+s),null!=s&&function m8(e){return Object.values(x_).filter(t=>e==t).length>0}(s)&&(console.log("setting theme"),this.theme=s)}i.has("message_ttl")&&(this.ttl=parseInt(i.get("message_ttl")??"30000")),this.ttl>0&&setInterval(()=>{const s=Date.now();for(const[a,l]of this.messages.entries())s-l.timestamp>this.ttl&&this.messages.splice(a,1)},1e3)})}getChannelNumber(t){for(let r=0;r<this.channels.length;r++)if(this.channels[r]==t.channel)return r;return 0}static#e=this.\u0275fac=function(r){return new(r||e)(I(JT),I(Po))};static#t=this.\u0275cmp=Nn({type:e,selectors:[["app-home"]],decls:3,vars:4,consts:[[1,"chat-messages"],[4,"ngFor","ngForOf"],[3,"chatMessage","channelNumber","theme","showChannelName"]],template:function(r,i){1&r&&(he(0,"div")(1,"div",0),Ne(2,_8,2,4,"ng-container",1),de()()),2&r&&(nd("theme-",i.theme,""),z(2),Ve("ngForOf",i.messages))},dependencies:[mS,g8],styles:[".theme-sideways[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;gap:10px;left:-100px}.theme-vertical[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;overflow:hidden;height:100vh}"]})}return e})()}];let y8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({imports:[ZT.forRoot(v8),ZT]})}return e})(),b8=(()=>{class e{constructor(){this.title="stegchat"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Nn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&tr(0,"router-outlet")},dependencies:[b_]})}return e})();const w8=["addListener","removeListener"],E8=["addEventListener","removeEventListener"],S8=["on","off"];function nn(e,n,t,r){if(G(t)&&(r=t,t=void 0),r)return nn(e,n,t).pipe(e_(r));const[i,o]=function N8(e){return G(e.addEventListener)&&G(e.removeEventListener)}(e)?E8.map(s=>a=>e[s](n,a,t)):function T8(e){return G(e.addListener)&&G(e.removeListener)}(e)?w8.map(XT(e,n)):function M8(e){return G(e.on)&&G(e.off)}(e)?S8.map(XT(e,n)):[];if(!i&&vh(e))return zt(s=>nn(s,n,t))(Ft(e));if(!i)throw new TypeError("Invalid event target");return new Ze(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function XT(e,n){return t=>r=>e[t](n,r)}class I8 extends Mt{constructor(n,t){super()}schedule(n,t=0){return this}}const cf={setInterval(e,n,...t){const{delegate:r}=cf;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=cf;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},eM={now:()=>(eM.delegate||Date).now(),delegate:void 0};class pc{constructor(n,t=pc.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}pc.now=eM.now;const R8=new class O8 extends pc{constructor(n,t=pc.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class A8 extends I8{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return cf.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&cf.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:k8}=Array;function rM(e){return 1===e.length&&k8(e[0])?e[0]:e}function k_(...e){const n=Hc(e),t=rM(e);return t.length?new Ze(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)Ft(t[s]).subscribe(rt(r,a=>{if(i[s].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(n?n(...l):l),i.some((c,u)=>!c.length&&o[u])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):Zn}function P_(...e){const n=Hc(e);return Ct((t,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)Ft(e[l]).subscribe(rt(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ni))&&(s=null))},so));t.subscribe(rt(r,l=>{if(a){const c=[l,...o];r.next(n?n(...c):c)}}))})}Math,Math,Math;const U5=["*"],vz=["dialog"],TN={animation:!0,transitionTimerDelayMs:5};let wf=(()=>{class e{constructor(){this.animation=TN.animation}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ma(e){return"string"==typeof e}function jo(e){return null!=e}function Na(e){return(e||document.body).getBoundingClientRect()}const dW=()=>{},{transitionTimerDelayMs:fW}=TN,Tc=new Map,ar=(e,n,t,r)=>{let i=r.context||{};const o=Tc.get(n);if(o)switch(r.runningTransition){case"continue":return Zn;case"stop":e.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Tc.delete(n)}const s=t(n,r.animation,i)||dW;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>s()),Q(void 0).pipe(function uW(e){return n=>new Ze(t=>n.subscribe({next:s=>e.run(()=>t.next(s)),error:s=>e.run(()=>t.error(s)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new Ke,l=new Ke,c=a.pipe(function F8(...e){return n=>Xl(n,Q(...e))}(!0));Tc.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function aW(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const d=nn(n,"transitionend").pipe(tn(c),Zt(({target:h})=>h===n));(function iM(...e){return 1===(e=rM(e)).length?Ft(e[0]):new Ze(function P8(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(Ft(e[r]).subscribe(rt(n,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}n.next(i)})))}}(e))})(function nM(e=0,n,t=R8){let r=-1;return null!=n&&(My(n)?t=n:r=n),new Ze(i=>{let o=function x8(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(u+fW).pipe(tn(c)),d,l).pipe(tn(c)).subscribe(()=>{Tc.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let xN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),kN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),LN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),BN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();var Ye=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Ye||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const zN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function WN(e){const n=Array.from(e.querySelectorAll(zN)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let lI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),uI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),g6=(()=>{class e{constructor(){this._ngbConfig=y(wf),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class zo{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}let m6=(()=>{class e{constructor(){this._document=y(Rt)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_6=(()=>{class e{constructor(){this._nativeElement=y(Be).nativeElement,this._zone=y(ve)}ngOnInit(){this._zone.onStable.asObservable().pipe(dn(1)).subscribe(()=>{ar(this._zone,this._nativeElement,(t,r)=>{r&&Na(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ar(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Nn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(wl("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),we("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[mr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return e})();class dI{update(n){}close(n){}dismiss(n){}}const v6=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],y6=["animation","backdropClass"];class b6{_applyWindowOptions(n,t){v6.forEach(r=>{jo(t[r])&&(n[r]=t[r])})}_applyBackdropOptions(n,t){y6.forEach(r=>{jo(t[r])&&(n[r]=t[r])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(tn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(tn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,r,i){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ke,this._dismissed=new Ke,this._hidden=new Ke,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function MN(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Q(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),k_(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Tv=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Tv||{});let C6=(()=>{class e{constructor(){this._document=y(Rt),this._elRef=y(Be),this._zone=y(ve),this._closed$=new Ke,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Z,this.shown=new Ke,this.hidden=new Ke}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ma(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(dn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=k_(ar(this._zone,t,()=>t.classList.remove("show"),r),ar(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};k_(ar(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Na(o),o.classList.add("show")},t),ar(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{nn(t,"keydown").pipe(tn(this._closed$),Zt(i=>i.which===Ye.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Tv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;nn(this._dialogEl.nativeElement,"mousedown").pipe(tn(this._closed$),Kt(()=>r=!1),Jn(()=>nn(t,"mouseup").pipe(tn(this._closed$),dn(1))),Zt(({target:i})=>t===i)).subscribe(()=>{r=!0}),nn(t,"click").pipe(tn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Tv.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=WN(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ar(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Nn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Mo(vz,7),2&r){let o;ot(o=function st(){return function EV(e,n){return e[Nr].queries[n].queryList}(w(),D0())}())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(We("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),wl("modal d-block"+(i.windowClass?" "+i.windowClass:"")),we("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[mr],ngContentSelectors:U5,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function e1(e){const n=w()[pt][ln];if(!n.projection){const r=n.projection=el(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const s=e?MB(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),he(0,"div",0,1)(2,"div",2),function t1(e,n=0,t){const r=w(),i=be(),o=Bs(i,oe+e,16,null,t||null);null===o.projection&&(o.projection=n),zh(),(!r[Mr]||gs())&&32!=(32&o.flags)&&function uk(e,n,t){$b(n[ie],0,n,t,Ip(e,t,n),Pb(t.parent||n[ln],t,n))}(i,r,o)}(3),de()()),2&r&&wl("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),D6=(()=>{class e{constructor(){this._applicationRef=y(No),this._injector=y(qt),this._environmentInjector=y(On),this._document=y(Rt),this._scrollBar=y(m6),this._activeWindowCmptHasChanged=new Ke,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Z;const t=y(ve);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,r=!1)=>{e.runOutsideAngular(()=>{const i=nn(n,"focusin").pipe(tn(t),De(o=>o.target));nn(n,"keydown").pipe(tn(t),Zt(o=>o.which===Ye.Tab),P_(i)).subscribe(([o,s])=>{const[a,l]=WN(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&nn(n,"click").pipe(tn(t),P_(i),De(o=>o[1])).subscribe(o=>o.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:jo(i.container)?this._document.querySelector(i.container):this._document.body;if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new dI,a=(t=i.injector||t).get(On,null)||this._environmentInjector,l=this._getContentRef(t,a,r,s,i);let c=!1!==i.backdrop?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new b6(u,l,c,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(dn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{d.close(f)},s.dismiss=f=>{d.dismiss(f)},s.update=f=>{d.update(f)},d.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=Sm(_6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=Sm(C6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,o,s){return i?i instanceof Ot?this._createFromTemplateRef(i,o):Ma(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new zo([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new zo([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new zo([[r]])}_createFromComponent(t,r,i,o,s){const l=Sm(i,{environmentInjector:r,elementInjector:qt.create({providers:[{provide:dI,useValue:o}],parent:t})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new zo([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w6=(()=>{class e{constructor(){this._injector=y(qt),this._modalStack=y(D6),this._config=y(g6)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({providers:[w6]})}return e})(),gI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),wI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),EI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),SI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),TI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),MI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),NI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),II=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),AI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();new V("live announcer delay",{providedIn:"root",factory:()=>100});let OI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})(),RI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({})}return e})();const B6=[xN,kN,LN,BN,lI,uI,fI,gI,RI,wI,EI,SI,TI,MI,NI,II,AI,OI];let V6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e});static#n=this.\u0275inj=$e({imports:[B6,xN,kN,LN,BN,lI,uI,fI,gI,RI,wI,EI,SI,TI,MI,NI,II,AI,OI]})}return e})();function xI(e,n,t,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,i)}function ne(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(l){xI(o,r,i,s,a,"next",l)}function a(l){xI(o,r,i,s,a,"throw",l)}s(void 0)})}}var Zi,Iv=Se(94),Y=function(e){return e[e.CRITICAL=0]="CRITICAL",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e[e.TRACE=7]="TRACE",e}(Y||{});function Av(e){if("number"==typeof e){if(Object.prototype.hasOwnProperty.call(Y,e))return e;var n=Object.keys(Y).map(function(r){return parseInt(r,10)}).filter(function(r){return!isNaN(r)&&r<e});return n.length?Math.max.apply(Math,n):Y.WARNING}var t=e.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(Y,t))throw new Error("Unknown log level string: ".concat(e));return Y[t]}var j6=Iv.U?console.log.bind(console):console.debug.bind(console),kI=((Zi={})[Y.CRITICAL]=console.error.bind(console),Zi[Y.ERROR]=console.error.bind(console),Zi[Y.WARNING]=console.warn.bind(console),Zi[Y.INFO]=console.info.bind(console),Zi[Y.DEBUG]=j6.bind(console),Zi[Y.TRACE]=console.trace.bind(console),Zi);function PI(e){return null==e}function Ac(e,n){return PI(e)?null:n(e)}function FI(e,n){return PI(e)?void 0:n(e)}var Ov,Rv,Ff=typeof process>"u"?[]:null!==(Rv=null===(Ov=process.env.LOGGING)||void 0===Ov?void 0:Ov.split(";").map(function(e){var n=e.split("=",2),t=n[0],r=n[1];return r?["default"===t?void 0:t.split(":"),Av(r)]:null}).filter(function(e){return!!e}).sort(function(e,n){var t,r,i=e[0],o=n[0];return(null!==(t=o?.length)&&void 0!==t?t:0)-(null!==(r=i?.length)&&void 0!==r?r:0)}))&&void 0!==Rv?Rv:[],xv=Ff.findIndex(function(e){return!e[0]}),LI=void 0;function $6(e,n){return n.length<=e.length&&n.every(function(t,r){return t===e[r]})}function BI(e){for(var n=e.split(":"),t=0,r=Ff;t<r.length;t++){var i=r[t],s=i[1];if($6(n,i[0]))return s}return LI}-1!==xv&&(LI=Ff[xv][1],Ff.splice(xv));var Ki,Ji,Xi,VI=function(){function e(n){var c,u,t=n.name,r=n.minLevel,i=n.emoji,o=void 0!==i&&i,s=n.colors,a=n.timestamps,l=void 0===a?Iv.U:a;this._name=t,this._minLevel=null!==(u=null!==(c=FI(r,function(d){return Av(d)}))&&void 0!==c?c:BI(t))&&void 0!==u?u:Y.WARNING,this._emoji=o,this._colors=s,this._timestamps=l}return e.prototype.crit=function(n){this.log(Y.CRITICAL,n)},e.prototype.error=function(n){this.log(Y.ERROR,n)},e.prototype.warn=function(n){this.log(Y.WARNING,n)},e.prototype.info=function(n){this.log(Y.INFO,n)},e.prototype.debug=function(n){this.log(Y.DEBUG,n)},e.prototype.trace=function(n){this.log(Y.TRACE,n)},e}(),U6=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return is(n,e),n.prototype.log=function(t,r){if(!(t>this._minLevel)){var i=kI[t],o="[".concat(this._name,"] ").concat(r);this._timestamps&&(o="[".concat((new Date).toISOString(),"] ").concat(r)),i(o)}},n}(VI),H6=function(){function e(n){var o,t=n.name,i=n.custom;this._minLevel=null!==(o=FI(n.minLevel,function(s){return Av(s)}))&&void 0!==o?o:BI(t),this._override="function"==typeof i?{log:i}:i}return e.prototype.log=function(n,t){this._shouldLog(n)&&this._override.log(n,t)},e.prototype.crit=function(n){this._override.crit?this._shouldLog(Y.CRITICAL)&&this._override.crit(n):this.log(Y.CRITICAL,n)},e.prototype.error=function(n){this._override.error?this._shouldLog(Y.ERROR)&&this._override.error(n):this.log(Y.ERROR,n)},e.prototype.warn=function(n){this._override.warn?this._shouldLog(Y.WARNING)&&this._override.warn(n):this.log(Y.WARNING,n)},e.prototype.info=function(n){this._override.info?this._shouldLog(Y.INFO)&&this._override.info(n):this.log(Y.INFO,n)},e.prototype.debug=function(n){this._override.debug?this._shouldLog(Y.DEBUG)&&this._override.debug(n):this.log(Y.DEBUG,n)},e.prototype.trace=function(n){this._override.trace?this._shouldLog(Y.TRACE)&&this._override.trace(n):this.log(Y.TRACE,n)},e.prototype._shouldLog=function(n){return void 0===this._minLevel||this._minLevel>=n},e}(),G6=((Ki={})[Y.CRITICAL]="\u{1f6d1}",Ki[Y.ERROR]="\u274c",Ki[Y.WARNING]="\u26a0\ufe0f ",Ki[Y.INFO]="\u2139\ufe0f ",Ki[Y.DEBUG]="\u{1f41e}",Ki[Y.TRACE]="\u{1f43e}",Ki),z6={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},W6={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function Lf(e,n,t){return function(r){return"\x1b[".concat(e,"m").concat(t?t(r):r,"\x1b[").concat(n,"m")}}function Xr(e){return Lf(z6[e],39)}function Oc(e,n){return Lf(W6[e],49,n)}var q6=((Ji={})[Y.CRITICAL]=Xr("red"),Ji[Y.ERROR]=Xr("redBright"),Ji[Y.WARNING]=Xr("yellow"),Ji[Y.INFO]=Xr("blue"),Ji[Y.DEBUG]=Xr("magenta"),Ji[Y.TRACE]=Lf(0,0),Ji),jI=((Xi={})[Y.CRITICAL]=Oc("bgRed",Xr("white")),Xi[Y.ERROR]=Oc("bgRedBright",Xr("white")),Xi[Y.WARNING]=Oc("bgYellow",Xr("black")),Xi[Y.INFO]=Oc("bgBlue",Xr("white")),Xi[Y.DEBUG]=Oc("bgMagenta",Xr("black")),Xi[Y.TRACE]=Lf(7,27),Xi),Y6=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return is(n,e),n.prototype.log=function(t,r){var i,o,s;if(!(t>this._minLevel)){var a=kI[t],l="";this._timestamps&&(l+="[".concat((new Date).toISOString(),"] ")),this._emoji&&(l+="".concat(G6[t]," ")),a(l+=null===(s=null!==(i=this._colors)&&void 0!==i?i:null===(o=process.stdout)||void 0===o?void 0:o.isTTY)||void 0===s||s?"".concat(jI[t](this._name)," ").concat(jI[t](Y[t])," ").concat(q6[t](r)):"[".concat(this._name,":").concat(Y[t].toLowerCase(),"] ").concat(r))}},n}(VI);function Bf(e){return e.custom?new H6(e):Iv.U?new Y6(e):new U6(e)}var $I=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return is(n,e),n}(function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,s,i=this.constructor;return o=e.apply(this,co([],oi(t),!1))||this,Object.setPrototypeOf(o,i.prototype),null===(s=Error.captureStackTrace)||void 0===s||s.call(Error,o,i.constructor),o}return is(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),n}(Error)),kv=function(){function e(n){var t=n.logger,r=n.bucketSize,i=n.timeFrame,o=n.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=Bf(lo({name:"rate-limiter",emoji:!0},t)),this._bucketSize=r,this._timeFrame=i,this._callback=o}return e.prototype.request=function(n,t){return ri(this,void 0,Promise,function(){var r=this;return ii(this,function(i){switch(i.label){case 0:return[4,new Promise(function(o,s){var a,l={req:n,resolve:o,reject:s,limitReachedBehavior:null!==(a=t?.limitReachedBehavior)&&void 0!==a?a:"enqueue"};if(r._usedFromBucket>=r._bucketSize||r._paused)switch(l.limitReachedBehavior){case"enqueue":r._queue.push(l),r._usedFromBucket+r._queue.length>=r._bucketSize?r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, waiting for ").concat(r._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(r._queue.length)):r._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(r._queue.length));break;case"null":l.resolve(null),r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, dropping request and returning null")),r._paused?r._logger.info("Returning null for request because the rate limiter is paused"):r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, dropping request and returning null"));break;case"throw":l.reject(new $I("Request dropped because ".concat(r._paused?"the rate limiter is paused":"the rate limit was reached")));break;default:throw new Error("this should never happen")}else r._runRequest(l)})];case 1:return[2,i.sent()]}})})},e.prototype.clear=function(){this._queue=[]},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1,this._runNextRequest()},e.prototype._runRequest=function(n){return ri(this,void 0,void 0,function(){var t,r,i,o,s,a=this;return ii(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,t=n.req,r=n.resolve,i=n.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),o=r,[4,this._callback(t)];case 2:return o.apply(void 0,[l.sent()]),[3,5];case 3:return s=l.sent(),i(s),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},e.prototype._runNextRequest=function(){if(!this._paused){var n=this._queue.shift();n&&this._runRequest(n)}},e}(),Z6=function(e){function n(t,r){return e.call(this,lo(lo({},r),{doRequest:function(i,o){return ri(this,void 0,Promise,function(){return ii(this,function(s){switch(s.label){case 0:return[4,t.request(i,o)];case 1:return[2,s.sent()]}})})}}))||this}return is(n,e),n}(kv),K6=function(){function e(n){var t=n.logger,r=n.bucketSize,i=n.timeFrame,o=n.doRequest,s=n.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=Bf(lo({name:"rate-limiter",emoji:!0},t)),this._bucketSize=r,this._timeFrame=i,this._callback=o,this._partitionKeyCallback=s}return e.prototype.request=function(n,t){return ri(this,void 0,Promise,function(){var r=this;return ii(this,function(i){switch(i.label){case 0:return[4,new Promise(function(o,s){var a,l,c={req:n,resolve:o,reject:s,limitReachedBehavior:null!==(a=t?.limitReachedBehavior)&&void 0!==a?a:"enqueue"},u=r._partitionKeyCallback(n),d=null!==(l=r._usedFromBucket.get(u))&&void 0!==l?l:0;if(d>=r._bucketSize||r._paused)switch(c.limitReachedBehavior){case"enqueue":var f=r._getPartitionedQueue(u);f.push(c),d+f.length>=r._bucketSize?r._logger.warn("Rate limit of ".concat(r._bucketSize," for ").concat(u?"partition ".concat(u):"default partition"," was reached, waiting for ").concat(r._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(f.length)):r._logger.info("Enqueueing request for ".concat(u?"partition ".concat(u):"default partition"," because the rate limiter is paused; queue size is ").concat(f.length));break;case"null":c.resolve(null),r._paused?r._logger.info("Returning null for request for ".concat(u?"partition ".concat(u):"default partition"," because the rate limiter is paused")):r._logger.warn("Rate limit of ".concat(r._bucketSize," for ").concat(u?"partition ".concat(u):"default partition"," was reached, dropping request and returning null"));break;case"throw":c.reject(new $I("Request dropped because ".concat(r._paused?"the rate limiter is paused":"the rate limit for ".concat(u?"partition ".concat(u):"default partition"," was reached"))));break;default:throw new Error("this should never happen")}else r._runRequest(c,u)})];case 1:return[2,i.sent()]}})})},e.prototype.clear=function(){this._partitionedQueue.clear()},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){var n,t;this._paused=!1;try{for(var r=Uc(this._partitionedQueue.keys()),i=r.next();!i.done;i=r.next())this._runNextRequest(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}},e.prototype._getPartitionedQueue=function(n){if(this._partitionedQueue.has(n))return this._partitionedQueue.get(n);var t=[];return this._partitionedQueue.set(n,t),t},e.prototype._runRequest=function(n,t){var r;return ri(this,void 0,void 0,function(){var i,o,s,a,l,c,u=this;return ii(this,function(d){switch(d.label){case 0:i=this._getPartitionedQueue(t),this._logger.debug("doing a request for ".concat(t?"partition ".concat(t):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(t,(null!==(r=this._usedFromBucket.get(t))&&void 0!==r?r:0)+1),o=n.req,s=n.resolve,a=n.reject,d.label=1;case 1:return d.trys.push([1,3,4,5]),l=s,[4,this._callback(o)];case 2:return l.apply(void 0,[d.sent()]),[3,5];case 3:return c=d.sent(),a(c),[3,5];case 4:return setTimeout(function(){var f=u._usedFromBucket.get(t)-1;u._usedFromBucket.set(t,f),i.length&&f<u._bucketSize&&u._runNextRequest(t)},this._timeFrame),[7];case 5:return[2]}})})},e.prototype._runNextRequest=function(n){if(!this._paused){var r=this._getPartitionedQueue(n).shift();r&&this._runRequest(r,n)}},e}();function Pv(){var e,n;return{promise:new Promise(function(r,i){e=r,n=i}),resolve:e,reject:n}}function Fv(e){return ri(this,void 0,Promise,function(){return ii(this,function(n){switch(n.label){case 0:return"function"!=typeof e?[3,2]:[4,e()];case 1:return[2,n.sent()];case 2:return[2,e]}})})}function UI(e){var n,t,r;return ii(this,function(i){switch(i.label){case 0:n=0,t=1,i.label=1;case 1:return n<e?[4,n]:[3,3];case 2:return i.sent(),r=oi([t,n+t],2),n=r[0],t=r[1],[3,1];case 3:return[4,e];case 4:return i.sent(),[3,3];case 5:return[2]}})}function eo(e){return void 0===e&&(e=!0),function(n,t){Object.defineProperty(n,t,{get:function(){},set:function(r){Object.defineProperty(this,t,{value:r,writable:!0,enumerable:e})},enumerable:e})}}class eq{constructor(n,t,r,i=!1){this.owner=n,this.event=t,this.listener=r,this._internal=i}unbind(){this.owner.removeListener(this)}}class Rc{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(n,t){return this._addListener(!1,n,t)}addListener(n,t){return this._addListener(!1,n,t)}removeListener(n,t){this._removeListener(!1,n,t)}registerEvent(){const n=t=>this.addListener(n,t);return n}emit(n,...t){if(this._eventListeners.has(n))for(const r of this._eventListeners.get(n))r(...t);if(this._internalEventListeners.has(n))for(const r of this._internalEventListeners.get(n))r(...t)}registerInternalEvent(){const n=t=>this.addInternalListener(n,t);return n}addInternalListener(n,t){return this._addListener(!0,n,t)}removeInternalListener(n,t){this._removeListener(!0,n,t)}_addListener(n,t,r){const i=n?this._eventListeners:this._internalEventListeners;return i.has(t)?i.get(t).push(r):i.set(t,[r]),new eq(this,t,r,n)}_removeListener(n,t,r){const i=n?this._eventListeners:this._internalEventListeners;if(t)if("object"==typeof t)this._removeListener(t._internal,t.event,t.listener);else{const o=t;if(i.has(o))if(r){const s=i.get(o);let a=0;for(;-1!==(a=s.indexOf(r));)s.splice(a,1)}else i.delete(o)}else i.clear()}}class Wo extends Error{constructor(n,t){var r;super(n,t),Object.setPrototypeOf(this,new.target.prototype),null===(r=Error.captureStackTrace)||void 0===r||r.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class Vf extends Wo{}const tq=6e4;function jf(e){var n;return null!==(n=Ac(function HI(e){return Ac(e.expiresIn,n=>e.obtainmentTimestamp+1e3*n-tq)}(e),t=>Date.now()>t))&&void 0!==n&&n}var $f=Se(281);const rq=function(e,n){return/^\/\//.test(e)&&(e="https:"+e),$f.call(this,e,n)},iq=$f.Headers;var GI=Se(477);Se(785),Se(213);class zI extends Wo{constructor(n,t,r,i,o,s){super(`Encountered HTTP status code ${n}: ${t}\n\nURL: ${r}\nMethod: ${i}\nBody:\n${!s&&o.length>150?`${o.slice(0,147)}...`:o}`),this._statusCode=n,this._url=r,this._method=i,this._body=o}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}function Lv(){return(Lv=ne(function*(e,n){var t;if(!e.ok){const r="application/json"===e.headers.get("Content-Type"),i=r?JSON.stringify(yield e.json(),null,2):yield e.text(),o=GI(n.query,{arrayFormat:"repeat",addQueryPrefix:!0});throw new zI(e.status,e.statusText,`${n.url}${o}`,null!==(t=n.method)&&void 0!==t?t:"GET",i,r)}})).apply(this,arguments)}function Bv(){return(Bv=ne(function*(e){if(204===e.status)return;const n=yield e.text();return n?JSON.parse(n):void 0})).apply(this,arguments)}function Vv(){return(Vv=ne(function*(e,n,t,r,i={}){var o,s;const a=null!==(o=e.type)&&void 0!==o?o:"helix",l=function aq(e,n){switch(n){case"helix":return`https://api.twitch.tv/helix/${e.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${e.replace(/^\//,"")}`;default:return e}}(e.url,a),c=GI(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),u=new iq({Accept:"application/json"});let d;e.jsonBody&&(d=JSON.stringify(e.jsonBody),u.append("Content-Type","application/json")),n&&"auth"!==a&&u.append("Client-ID",n),t&&u.append("Authorization",`${"helix"===a?r??"Bearer":"OAuth"} ${t}`);const f={...i,method:null!==(s=e.method)&&void 0!==s?s:"GET",headers:u,body:d};return yield rq(`${l}${c}`,f)})).apply(this,arguments)}function Uf(e,n,t,r){return jv.apply(this,arguments)}function jv(){return jv=ne(function*(e,n,t,r,i={}){const o=yield function lq(e,n,t,r){return Vv.apply(this,arguments)}(e,n,t,r,i);return yield function oq(e,n){return Lv.apply(this,arguments)}(o,e),yield function sq(e){return Bv.apply(this,arguments)}(o)}),jv.apply(this,arguments)}class Oa extends Wo{constructor(n){super("Invalid token supplied",n)}}function cq(e,n,t,r){return{grant_type:"authorization_code",client_id:e,client_secret:n,code:t,redirect_uri:r}}function uq(e,n){return{grant_type:"client_credentials",client_id:e,client_secret:n}}function dq(e,n,t){return{grant_type:"refresh_token",client_id:e,client_secret:n,refresh_token:t}}const qo=Symbol("twurpleRawData");class fq{constructor(n){this[qo]=n}}function xc(e,n,t){return r=>{const i=t?function(){return`[${n}#${this[t]} - please check https://twurple.js.org/reference/${e}/classes/${n}.html for available properties]`}:function(){return`[${n} - please check https://twurple.js.org/reference/${e}/classes/${n}.html for available properties]`};Object.defineProperty(r.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let hq=(()=>{let e=class extends fq{constructor(t){super(t),this._obtainmentDate=new Date}get clientId(){return this[qo].client_id}get userId(){var t;return null!==(t=this[qo].user_id)&&void 0!==t?t:null}get userName(){var t;return null!==(t=this[qo].login)&&void 0!==t?t:null}get scopes(){return this[qo].scopes}get expiryDate(){return Ac(this[qo].expires_in,t=>new Date(this._obtainmentDate.getTime()+1e3*t))}};return e=sn([xc("auth","TokenInfo","clientId")],e),e})();function $v(e){var n,t;return{accessToken:e.access_token,refreshToken:e.refresh_token||null,scope:null!==(n=e.scope)&&void 0!==n?n:[],expiresIn:null!==(t=e.expires_in)&&void 0!==t?t:null,obtainmentTimestamp:Date.now()}}function Uv(){return(Uv=ne(function*(e,n,t,r){return $v(yield Uf({type:"auth",url:"token",method:"POST",query:cq(e,n,t,r)}))})).apply(this,arguments)}function Hv(){return(Hv=ne(function*(e,n){return $v(yield Uf({type:"auth",url:"token",method:"POST",query:uq(e,n)}))})).apply(this,arguments)}function WI(e,n,t){return Gv.apply(this,arguments)}function Gv(){return(Gv=ne(function*(e,n,t){return $v(yield Uf({type:"auth",url:"token",method:"POST",query:dq(e,n,t)}))})).apply(this,arguments)}function Di(e,n){return Wv.apply(this,arguments)}function Wv(){return(Wv=ne(function*(e,n){try{const t=yield Uf({type:"auth",url:"validate"},n,e);return new hq(t)}catch(t){throw t instanceof zI&&401===t.statusCode?new Oa({cause:t}):t}})).apply(this,arguments)}const mq=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function _q(e,n){if(n?.length){const t=new Set(e.flatMap(r=>{var i;return[r,...null!==(i=mq.get(r))&&void 0!==i?i:[]]}));if(n.every(r=>!t.has(r))){const r=n.join(", ");throw new Error(`This token does not have any of the requested scopes (${r}) and can not be upgraded.\nIf you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:\n\n\thttps://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function Qv(e,n){for(const t of n)_q(e,t)}function Zv(){return(Zv=ne(function*(e,n,t,r,i){if(i?.length||!t){const o=yield Di(n,e);if(!o.userId)throw new Error("Trying to use an app access token as a user access token");const s=r??o.scopes;return i&&Qv(s,i.filter(a=>!!a)),[s,o.userId]}return[r,t]})).apply(this,arguments)}function wi(e){return"string"==typeof e?e:"number"==typeof e?e.toString(10):e.id}class qI extends Wo{constructor(n){super(`${n} - this should never happen, please file a bug in the GitHub issue tracker`)}}class YI extends Wo{constructor(n){super(`The user context for the user ${n} has been disabled.\nThis happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).\n\nUse .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=n}}class yq extends Wo{constructor(n){super(`User ${n} was removed while trying to fetch a token.\n\nMake sure you're not executing any actions when you want to remove a user.`),this.userId=n}}class bq extends Wo{constructor(n){super(`Unknown intent: ${n}`),this.intent=n}}class QI{constructor(n){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=n}fetch(...n){var t=this;return ne(function*(){var r;const i=n.filter(l=>!!l);if(t._newTokenPromise){if(!i.length)return yield t._newTokenPromise;if(t._queueExecutor?t._queuedScopeSets.push(...i):t._queuedScopeSets=[...i],!t._queuePromise){const{promise:l,resolve:c,reject:u}=Pv();t._queuePromise=l,t._queueExecutor=ne(function*(){var d;if(t._queuePromise){t._newTokenScopeSets=t._queuedScopeSets,t._queuedScopeSets=[],t._newTokenPromise=t._queuePromise,t._queuePromise=null,t._queueExecutor=null;try{c(yield t._executor(t._newTokenScopeSets))}catch(f){u(f)}finally{t._newTokenPromise=null,t._newTokenScopeSets=[],null===(d=t._queueExecutor)||void 0===d||d.call(t)}}})}return yield t._queuePromise}t._newTokenScopeSets=[...i];const{promise:o,resolve:s,reject:a}=Pv();t._newTokenPromise=o;try{s(yield t._executor(t._newTokenScopeSets))}catch(l){a(l)}finally{t._newTokenPromise=null,t._newTokenScopeSets=[],null===(r=t._queueExecutor)||void 0===r||r.call(t)}return yield o})()}}let Cq=(()=>{let e=class extends Rc{constructor(t){var r,i;super(),r=this,this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=t.clientId,this._clientSecret=t.clientSecret,this._redirectUri=t.redirectUri,this._appImpliedScopes=null!==(i=t.appImpliedScopes)&&void 0!==i?i:[],this._appTokenFetcher=new QI(function(){var o=ne(function*(s){return yield r._fetchAppToken(s)});return function(s){return o.apply(this,arguments)}}())}addUser(t,r,i){var o=this;const s=wi(t);if(!r.refreshToken)throw new Error(`Trying to add user ${s} without refresh token`);this._cachedRefreshFailures.delete(s),this._userAccessTokens.set(s,{...r,userId:s}),this._userTokenFetchers.has(s)||this._userTokenFetchers.set(s,new QI(function(){var a=ne(function*(l){return yield o._fetchUserToken(s,l)});return function(l){return a.apply(this,arguments)}}())),i&&this.addIntentsToUser(t,i)}addUserForToken(t,r){var i=this;return ne(function*(){let o=null;if(t.accessToken&&!jf(t))try{const c=yield Di(t.accessToken);o=[t,c]}catch(c){if(!(c instanceof Oa))throw c}if(!o){if(!t.refreshToken)throw new Oa;const c=yield WI(i._clientId,i._clientSecret,t.refreshToken),u=yield Di(c.accessToken);i.emit(i.onRefresh,u.userId,c),o=[c,u]}const[s,a]=o;if(!a.userId)throw new Vf("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const l=s.scope?s:{...s,scope:a.scopes};return i.addUser(a.userId,l,r),a.userId})()}addUserForCode(t,r){var i=this;return ne(function*(){if(!i._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const o=yield function pq(e,n,t,r){return Uv.apply(this,arguments)}(i._clientId,i._clientSecret,t,i._redirectUri);return yield i.addUserForToken(o,r)})()}hasUser(t){return this._userTokenFetchers.has(wi(t))}removeUser(t){const r=wi(t);if(this._userIdToIntents.has(r)){const i=this._userIdToIntents.get(r);for(const o of i)this._intentToUserId.delete(o);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(t,r){const i=wi(t);if(!this._userAccessTokens.has(i))throw new Error("Trying to add intents to a user that was not added to this provider");for(const o of r)this._intentToUserId.has(o)&&this._userIdToIntents.get(this._intentToUserId.get(o)).delete(o),this._intentToUserId.set(o,i),this._userIdToIntents.has(i)?this._userIdToIntents.get(i).add(o):this._userIdToIntents.set(i,new Set([o]))}getIntentsForUser(t){const r=wi(t);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(t){var r;for(const i of t)if(this._intentToUserId.has(i)){const o=this._intentToUserId.get(i);null===(r=this._userIdToIntents.get(o))||void 0===r||r.delete(i),this._intentToUserId.delete(i)}}refreshAccessTokenForUser(t){var r=this;return ne(function*(){const i=wi(t);if(r._cachedRefreshFailures.has(i))throw new YI(i);const o=r._userAccessTokens.get(i);if(!o)throw new Error("Trying to refresh token for user that was not added to the provider");const s=yield r._refreshUserTokenWithCallback(i,o.refreshToken);return r._checkIntermediateUserRemoval(i),r._userAccessTokens.set(i,{...s,userId:i}),r.emit(r.onRefresh,i,s),{...s,userId:i}})()}refreshAccessTokenForIntent(t){var r=this;return ne(function*(){if(!r._intentToUserId.has(t))throw new bq(t);const i=r._intentToUserId.get(t);return yield r.refreshAccessTokenForUser(i)})()}get clientId(){return this._clientId}getCurrentScopesForUser(t){var r;const i=this._userAccessTokens.get(wi(t));if(!i)throw new Error("Trying to get scopes for user that was not added to the provider");return null!==(r=i.scope)&&void 0!==r?r:[]}getAccessTokenForUser(t,...r){var i=this;return ne(function*(){const o=wi(t),s=i._userTokenFetchers.get(o);if(!s)return null;if(i._cachedRefreshFailures.has(o))throw new YI(o);return yield s.fetch(...r)})()}getAccessTokenForIntent(t,...r){var i=this;return ne(function*(){if(!i._intentToUserId.has(t))return null;const o=i._intentToUserId.get(t),s=yield i.getAccessTokenForUser(o,...r);if(!s)throw new qI(`Found intent ${t} corresponding to user ID ${o} but no token was found`);return{...s,userId:o}})()}getAnyAccessToken(t){var r=this;return ne(function*(){if(t){const i=wi(t);if(r._userAccessTokens.has(i)){const o=yield r.getAccessTokenForUser(i);if(!o)throw new qI(`Token for user ID ${i} exists but nothing was returned by getAccessTokenForUser`);return{...o,userId:i}}}return yield r.getAppAccessToken()})()}getAppAccessToken(t=!1){var r=this;return ne(function*(){return t&&(r._appAccessToken=void 0),yield r._appTokenFetcher.fetch(...r._appImpliedScopes.map(i=>[i]))})()}_checkIntermediateUserRemoval(t){if(!this._userTokenFetchers.has(t))throw this._cachedRefreshFailures.delete(t),new yq(t)}_fetchUserToken(t,r){var i=this;return ne(function*(){const o=i._userAccessTokens.get(t);if(!o)throw new Error("Trying to get token for user that was not added to the provider");if(o.accessToken&&!jf(o))try{if(o.scope)return Qv(o.scope,r),o;const[a=[]]=yield function vq(e,n,t,r,i){return Zv.apply(this,arguments)}(i._clientId,o.accessToken,t,o.scope,r),l={...o,scope:a};return i._checkIntermediateUserRemoval(t),i._userAccessTokens.set(t,l),l}catch(a){if(!(a instanceof Oa))throw a}i._checkIntermediateUserRemoval(t);const s=yield i.refreshAccessTokenForUser(t);return Qv(s.scope,r),s})()}_refreshUserTokenWithCallback(t,r){var i=this;return ne(function*(){try{return yield WI(i.clientId,i._clientSecret,r)}catch(o){throw i._cachedRefreshFailures.add(t),i.emit(i.onRefreshFailure,t),o}})()}_fetchAppToken(t){var r=this;return ne(function*(){if(t.length>0)for(const i of t){if(!r._appImpliedScopes.length)throw new Error(`One of the scopes ${i.join(", ")} requested but the client credentials flow does not support scopes`);if(i.every(o=>!r._appImpliedScopes.includes(o)))throw new Error(`One of the scopes ${i.join(", ")} requested but only the scope ${r._appImpliedScopes.join(", ")} is implied`)}return!r._appAccessToken||jf(r._appAccessToken)?yield r._refreshAppToken():r._appAccessToken})()}_refreshAppToken(){var t=this;return ne(function*(){return t._appAccessToken=yield function gq(e,n){return Hv.apply(this,arguments)}(t._clientId,t._clientSecret)})()}};return sn([eo(!1)],e.prototype,"_clientSecret",void 0),sn([eo(!1)],e.prototype,"_userAccessTokens",void 0),sn([eo(!1)],e.prototype,"_userTokenFetchers",void 0),sn([eo(!1)],e.prototype,"_appAccessToken",void 0),sn([eo(!1)],e.prototype,"_appTokenFetcher",void 0),e=sn([xc("auth","RefreshingAuthProvider","clientId")],e),e})();var Ra=null;typeof WebSocket<"u"?Ra=WebSocket:typeof MozWebSocket<"u"?Ra=MozWebSocket:typeof global<"u"?Ra=global.WebSocket||global.MozWebSocket:typeof window<"u"?Ra=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Ra=self.WebSocket||self.MozWebSocket);class Dq extends Rc{constructor({lineBased:n,logger:t,additionalOptions:r}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=n??!1,this._logger=t,this._additionalOptions=r}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(n){this._connected&&(n=n.replace(/[\0\r\n]/g,""),this.sendRaw(`${n}\r\n`))}assumeExternalDisconnect(){var n;null===(n=this._logger)||void 0===n||n.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(n){var t,r;if(!this._lineBased)return void this.emit(this.onReceive,n);const i=n.split("\r\n");if(this._currentLine+=null!==(t=i.shift())&&void 0!==t?t:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=null!==(r=i.pop())&&void 0!==r?r:"";for(const o of i)this.emit(this.onReceive,o)}}}class wq extends Dq{constructor(n,t){if(super(t),this._socket=null,this._closingOnDemand=!1,n.hostName&&n.port)this._url=`ws${n.secure?"s":""}://${n.hostName}:${n.port}`;else{if(!n.url)throw new Error("WebSocketConnection requires either hostName & port or url to be set");this._url=n.url}}get hasSocket(){return!!this._socket}sendRaw(n){var t;null===(t=this._socket)||void 0===t||t.send(n)}connect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new Ra(this._url,null===(t=this._additionalOptions)||void 0===t?void 0:t.wsOptions),this._socket.onopen=()=>{var r;null===(r=this._logger)||void 0===r||r.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:r})=>{this.receiveRaw(r.toString())},this._socket.onerror=r=>{var i;null===(i=this._logger)||void 0===i||i.trace(`WebSocketConnection onError message:${r.message}`)},this._socket.onclose=r=>{var i;const s=this._connecting;if(null===(i=this._logger)||void 0===i||i.trace(`WebSocketConnection onClose wasConnected:${this._connected.toString()} wasConnecting:${s.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${r.wasClean.toString()}`),this._connected=!1,this._connecting=!1,r.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${r.code}] ${r.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,null===(t=this._socket)||void 0===t||t.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}class Eq{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class Sq extends Rc{constructor(n,t,r={}){var i;super(),this._type=n,this._target=t,this._config=r,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=null!==(i=r.retryLimit)&&void 0!==i?i:1/0,this._logger=r.logger}get isConnected(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.isConnected)&&void 0!==t&&t}get isConnecting(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.isConnecting)&&void 0!==t?t:this._connecting}get hasSocket(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.hasSocket)&&void 0!==t&&t}sendLine(n){var t;null===(t=this._currentConnection)||void 0===t||t.sendLine(n)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var n;if(null===(n=this._logger)||void 0===n||n.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const t=this._currentConnection;this._currentConnection=void 0,t.disconnect()}}assumeExternalDisconnect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("PersistentConnection assumeExternalDisconnect"),null===(t=this._currentConnection)||void 0===t||t.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(n=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(n)}_tryConnect(n=!1){var t,r;null===(t=this._logger)||void 0===t||t.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=n?this._initialRetryLimit:this._retryLimit;null!==(r=this._retryTimerGenerator)&&void 0!==r||(this._retryTimerGenerator=UI(120));const o=this._currentConnection=new this._type(function J6(e){return"function"==typeof e?e():e}(this._target),this._config);o.onReceive(s=>this.emit(this.onReceive,s)),o.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),o.onDisconnect((s,a)=>{var l,c,u;if(this.emit(this.onDisconnect,s,a),s)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,o.disconnect(),this._currentConnection===o&&(this._currentConnection=void 0),this._previousConnection===o&&(this._previousConnection=void 0);else if(this._connecting){if(null===(l=this._logger)||void 0===l||l.debug(`Connection error caught: ${null!==(c=a?.message)&&void 0!==c?c:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const d=this._retryTimerGenerator.next().value;0!==d&&(null===(u=this._logger)||void 0===u||u.info(`Retrying in ${d} seconds`)),setTimeout(()=>{var f;this._connecting&&(null===(f=this._logger)||void 0===f||f.info(n?"Retrying connection":"Trying to reconnect"),this._tryConnect())},1e3*d)}else this._reconnect()}),o.connect()}_reconnect(n=!1){n&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(n)}}function Hf(e,n){return Object.assign.apply(Object,co([{}],oi(e.map(n)),!1))}function Yo(e,n,t){var r=e.split(n);return r.length<=t?r:co(co([],oi(r.slice(0,t-1)),!1),[r.slice(t-1).join(n)],!1)}function Tq(e,n,t){if("number"==typeof e&&(e=e.toString()),(n-=e.length)<=0)return e;void 0===t&&(t=" ");var r="";do{1==(1&n)&&(r+=t),(n>>=1)&&(t+=t)}while(n);return r+e}function Kv(e,n){Object.entries(e).forEach(function(t){var r=oi(t,2);return n(r[1],r[0])})}function kc(e){var n,t,r;if(Array.isArray(e)){for(t=Array(n=e.length);n--;)t[n]=(r=e[n])&&"object"==typeof r?kc(r):r;return t}if("[object Object]"===Object.prototype.toString.call(e)){for(n in t={},e)"__proto__"===n?Object.defineProperty(t,n,{value:kc(e[n]),configurable:!0,enumerable:!0,writable:!0}):t[n]=(r=e[n])&&"object"==typeof r?kc(r):r;return t}return e}const Mq={name:"away-notify"};class Gf extends Error{constructor(n,t,r){super(`command "${n}" expected ${t} or more parameters, got ${r}`),this._command=n,this._expectedParams=t,this._actualParams=r,Object.setPrototypeOf(this,Gf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gf)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class zf extends Error{constructor(n,t,r,i){var o;super(`required parameter "${t}" did not validate against ${null!==(o=r.type)&&void 0!==o?o:"regex"} validation: "${i}"`),this._command=n,this._paramName=t,this._paramSpec=r,this._givenValue=i,Object.setPrototypeOf(this,zf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zf)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const xa={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var Nq=Se(507);function Jv(e,n="#&"){return new RegExp(`^[${Nq(n)}][^ \b\0\n\r,]+$`).test(e)}const ZI={0:"\0",n:"\n",r:"\r","\x10":"\x10"};function KI(e){if(!e.startsWith("\x01")||((e=e.substring(1)).endsWith("\x01")&&(e=e.slice(0,-1)),!e))return!1;e=e.replace(/\x10(.)/,(r,i)=>i in ZI?ZI[i]:"");let[n,t=""]=Yo(e," ",2);return n=n?n.toUpperCase():"",{command:n,params:t}}const Iq={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};let S=(()=>{class e{static checkParam(t,r,i=xa){return!("channel"===r.type&&!Jv(t,i.channelTypes)||"channelList"===r.type&&!t.split(",").every(s=>Jv(s,i.channelTypes))||r.match&&!r.match.test(t))}constructor(t,{params:r,tags:i,prefix:o,rawLine:s}={},{serverProperties:a=xa,isServer:l=!1,shouldParseParams:c=!0}={},u){this._params=[],this._serverProperties=xa,this._paramSpec=u,this._command=t,this._params=r,this._tags=i??new Map,this._prefix=o,this._serverProperties=a,this._raw=s,c&&this.parseParams(l)}getMinParamCount(t=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>!(r.noServer&&t||r.noClient&&!t||r.optional)).length:0}get paramCount(){var t,r;return null!==(r=null===(t=this._params)||void 0===t?void 0:t.length)&&void 0!==r?r:0}prefixToString(){return this._prefix?function Oq(e){let n=`${e.nick}`;return e.user&&(n+=`!${e.user}`),e.host&&(n+=`@${e.host}`),n}(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([t,r])=>r?`${t}=${function Aq(e){return e.replace(/[\\;\n\r ]/g,n=>`\\${Iq[n]}`)}(r)}`:t).join(";")}toString(t=!1,r=!1){const o=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(t){const a=this.prefixToString();a&&o.unshift(`:${a}`)}const s=this.tagsToString();return s&&o.unshift(`@${s}`),o.join(" ")}_initPrefixAndTags(t,r){this._prefix=t,r&&(this._tags=r)}parseParams(t=!1){if(this._params){let r=this.getMinParamCount(t);if(r>this._params.length)throw new Gf(this._command,r,this._params.length);const i=this._paramSpec;if(!i)return;let o=0;const s={};for(const[a,l]of Object.entries(i)){if(l.noServer&&t||l.noClient&&!t)continue;if(this._params.length-o<=r){if(l.optional)continue;if(this._params.length-o!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let c=this._params[o];if(!c){if(l.optional)break;throw new Error("unexpected parameter underflow")}if(l.rest){const u=[];for(;this._params[o]&&!this._params[o].trailing;)u.push(this._params[o].value),++o;if(!u.length){if(l.optional)continue;throw new Error(`no parameters left for required rest parameter "${a}"`)}c={value:u.join(" "),trailing:!1}}if(e.checkParam(c.value,l))s[a]={...c},l.optional||--r,l.rest||++o;else if(!l.optional)throw new zf(this._command,a,l,c.value);if(l.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const a of Object.keys(this._paramSpec))Object.defineProperty(this,a,{get(){var l,c;return null===(c=null===(l=this._parsedParams)||void 0===l?void 0:l[a])||void 0===c?void 0:c.value}})}}get rawParamValues(){var t,r;return null!==(r=null===(t=this._params)||void 0===t?void 0:t.map(i=>i.value))&&void 0!==r?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(t){return!1}endsResponseTo(t){return!1}_acceptsInReplyCollection(t){return t.isResponseTo(this)}_buildCommandFromNamedParams(){const t=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...t.map(r=>{var i;const o=null===(i=this._parsedParams)||void 0===i?void 0:i[r];if(o)return(o.trailing?":":"")+o.value}).filter(r=>void 0!==r)].join(" ")}_buildCommandFromRawParams(){var t,r;return[this._command,...null!==(r=null===(t=this._params)||void 0===t?void 0:t.map(i=>`${i.trailing?":":""}${i.value}`))&&void 0!==r?r:[]].join(" ")}}return e.COMMAND="",e.SUPPORTS_CAPTURE=!1,e})();const xq={name:"batch",messageTypes:[(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}return e.COMMAND="BATCH",e})()],usesTags:!0},kq={name:"cap-notify"},Pq={name:"chghost",messageTypes:[(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{newUser:{},newHost:{}})}}return e.COMMAND="CHGHOST",e})()]},Fq={name:"invite-notify"},Lq={name:"labeled-response",messageTypes:[(()=>{class e extends S{}return e.COMMAND="ACK",e})()],usesTags:!0},Bq={name:"message-tags",usesTags:!0},Vq={name:"multi-prefix"};class jq{constructor(n,t,...r){this._client=n,this._originalMessage=t,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(r)}untilEvent(n){this._cleanEndEventHandler(n);const t=this._client.on(n,()=>this.end());this._endEventHandlers.set(n,t)}promise(){var n=this;return ne(function*(){return n._promise||(n._promise=new Promise(t=>n._promiseResolve=t)),yield n._promise})()}collect(n){return!!this._originalMessage._acceptsInReplyCollection(n)&&(this._messages.push(n),n.endsResponseTo(this._originalMessage)&&this.end(),!0)}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(n=>this._client.removeListener(n)),this._endEventHandlers.clear()}_cleanEndEventHandler(n){this._endEventHandlers.has(n)&&(this._client.removeListener(this._endEventHandlers.get(n)),this._endEventHandlers.delete(n))}}let JI=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{password:{}})}}return e.COMMAND="PASS",e})(),Wf=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nick:{}})}}return e.COMMAND="NICK",e})(),XI=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}return e.COMMAND="USER",e})(),$q=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{name:{},password:{}})}}return e.COMMAND="OPER",e})(),eA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0,optional:!0}})}}return e.COMMAND="QUIT",e})(),Uq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{},reason:{trailing:!0}})}}return e.COMMAND="SQUIT",e})(),qf=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},key:{optional:!0}})}}return e.COMMAND="JOIN",e})(),Yf=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="PART",e})();class Qf extends Error{constructor(n){super(`Unknown channel mode character ${n}`),this._char=n,Object.setPrototypeOf(this,Qf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf)}get char(){return this._char}}let Hq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return Jv(this.target,this._serverProperties.channelTypes)}separate(){const t=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const i=r.split(" "),o=i.shift();let s="add";for(const a of o){let l=s;switch(a){case"+":s="add";break;case"-":s="remove";break;default:{let c=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(a)||this._serverProperties.supportedChannelModes.prefix.includes(a))c=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(a))"add"===s&&(c=!0);else if(this._serverProperties.supportedChannelModes.list.includes(a))i.length?c=!0:l="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(a))throw new Qf(a)}else u=this._serverProperties.supportedUserModes.includes(a);if(c&&!i.length)continue;t.push({prefix:this._prefix,action:l,letter:a,param:c?i.shift():void 0,known:u})}}}return t}}return e.COMMAND="MODE",e})(),Gq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}return e.COMMAND="TOPIC",e})(),Xv=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channelList",optional:!0}})}}return e.COMMAND="NAMES",e.SUPPORTS_CAPTURE=!0,e})(),zq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{optional:!0},server:{optional:!0}})}}return e.COMMAND="LIST",e})(),Wq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},channel:{type:"channel"}})}}return e.COMMAND="INVITE",e})(),qq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="KICK",e})(),Yq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{optional:!0}})}}return e.COMMAND="TIME",e})(),Zf=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}}return e.COMMAND="PRIVMSG",e})(),ey=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}}return e.COMMAND="NOTICE",e})(),ty=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}return e.COMMAND="WHO",e})(),Qq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{optional:!0},nickMask:{}})}}return e.COMMAND="WHOIS",e})(),Zq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nick:{},count:{optional:!0},server:{optional:!0}})}}return e.COMMAND="WHOWAS",e})(),Kq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="KILL",e})(),ny=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="PING",e})(),ry=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{noClient:!0},text:{trailing:!0}})}}return e.COMMAND="PONG",e})(),Jq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="ERROR",e})(),Xq=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0,optional:!0}})}}return e.COMMAND="AWAY",e})(),e7=(()=>{class e extends S{}return e.COMMAND="REHASH",e})(),t7=(()=>{class e extends S{}return e.COMMAND="RESTART",e})(),n7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="WALLOPS",e})(),r7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nicks:{rest:!0}})}}return e.COMMAND="USERHOST",e})(),i7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nicks:{rest:!0}})}}return e.COMMAND="ISON",e})(),Qo=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(t){if(!(t instanceof e))return!1;switch(this.subCommand){case"ACK":case"NAK":return"REQ"===t.subCommand&&t.capabilities===this.capabilities.trim();case"LS":case"LIST":return t.subCommand===this.subCommand;default:return!1}}endsResponseTo(t){if(!(t instanceof e))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}return e.COMMAND="CAP",e.SUPPORTS_CAPTURE=!0,e})(),o7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{}})}}return e.COMMAND="TAGMSG",e})(),tA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},welcomeText:{trailing:!0}})}}return e.COMMAND="001",e})(),s7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},yourHost:{trailing:!0}})}}return e.COMMAND="002",e})(),a7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},createdText:{trailing:!0}})}}return e.COMMAND="003",e})(),nA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}return e.COMMAND="004",e})(),rA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}return e.COMMAND="005",e})(),l7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},modes:{}})}}return e.COMMAND="221",e})(),c7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},text:{trailing:!0}})}}return e.COMMAND="301",e})(),u7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},hosts:{trailing:!0}})}}return e.COMMAND="302",e})(),d7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="305",e})(),f7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="306",e})(),h7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}return e.COMMAND="311",e})(),p7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(t){return t instanceof ty}endsResponseTo(){return!0}}return e.COMMAND="315",e})(),g7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nickMask:{},suffix:{trailing:!0}})}}return e.COMMAND="318",e})(),m7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channels:{trailing:!0}})}}return e.COMMAND="319",e})(),_7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}return e.COMMAND="322",e})(),v7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="323",e})(),y7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}return e.COMMAND="324",e})(),b7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="331",e})(),C7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}return e.COMMAND="332",e})(),D7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},who:{},ts:{}})}}return e.COMMAND="333",e})(),w7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"}})}}return e.COMMAND="341",e})(),E7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}return e.COMMAND="348",e})(),S7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="349",e})(),T7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(t){return t instanceof ty}}return e.COMMAND="352",e})(),M7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(t){return t instanceof Xv}}return e.COMMAND="353",e})(),N7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(t){return t instanceof Xv}endsResponseTo(){return!0}}return e.COMMAND="366",e})(),I7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}return e.COMMAND="367",e})(),A7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="368",e})(),O7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},line:{trailing:!0}})}}return e.COMMAND="372",e})(),R7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},line:{trailing:!0}})}}return e.COMMAND="375",e})(),iA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="376",e})(),x7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="381",e})(),k7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}return e.COMMAND="391",e})(),P7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}}return e.COMMAND="401",e})(),F7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},server:{},suffix:{trailing:!0}})}}return e.COMMAND="402",e})(),L7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="403",e})(),B7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="404",e})(),V7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="405",e})(),j7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},subCommand:{},suffix:{trailing:!0}})}}return e.COMMAND="410",e})(),$7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(t){return t.command===this.originalCommand}endsResponseTo(){return!0}}return e.COMMAND="421",e})(),oA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="422",e})(),U7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="431",e})(),H7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="432",e})(),G7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="433",e})(),z7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="436",e})(),W7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="441",e})(),q7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="442",e})(),Y7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="443",e})(),Q7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="451",e})(),Z7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},originalCommand:{},suffix:{trailing:!0}})}}return e.COMMAND="461",e})(),sA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="462",e})(),K7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="471",e})(),J7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},char:{},suffix:{trailing:!0}})}}return e.COMMAND="472",e})(),X7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="473",e})(),e9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="474",e})(),t9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="475",e})(),n9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="479",e})(),r9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="481",e})(),i9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="482",e})(),o9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="491",e})(),s9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}return e.COMMAND="501",e})(),a9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="502",e})();const l9=new Map([...Object.values(dt),...Object.values(hn)].map(e=>[e.COMMAND,e]));function c9(e){const[n,t]=Yo(e,"!",2);if(t){const[r,i]=Yo(t,"@",2);return i?{nick:n,user:r,host:i}:{nick:n,host:r}}return{nick:n}}const aA={":":";",n:"\n",r:"\r",s:" "};function u9(e){const n=new Map,t=e.split(";");for(const r of t){const[i,o]=Yo(r,"=",2);""!==i&&n.set(i,o?o.replace(/\\(.?)/g,(s,a)=>Object.prototype.hasOwnProperty.call(aA,a)?aA[a]:a):"")}return n}class lA extends Rc{constructor(n){var t;super(),t=this,this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=kc(xa),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:i,channels:o,channelTypes:s,webSocket:a,logger:l={}}=n;this._options=n;const{pingOnInactivity:c=60,pingTimeout:u=10}=r;this._pingOnInactivity=c,this._pingTimeout=u,this._currentNick=i.nick,this._logger=Bf({name:"ircv3",emoji:!0,...l}),this.registerCoreMessageTypes();const{hostName:d,secure:f,reconnect:h=!0}=r,g={lineBased:!0,logger:this._logger,additionalOptions:n.connectionOptions},v=a?wq:Eq;this._connection=h?new Sq(v,{hostName:d,port:this.port,secure:f},g):new v(g,this._logger,n.connectionOptions);for(const _ of Object.values(ge))this.addCapability(_);this.addInternalListener(this.onRegister,ne(function*(){const _=t._hasRegisteredBefore,m=t._channelsFromLastRegister;t._hasRegisteredBefore=!0,t._channelsFromLastRegister=new Set;const E=_&&t._options.rejoinChannelsOnReconnect?m:yield Fv(o);if(E)for(const M of E)t.join(M)})),this.onTypedMessage(Qo,function(){var _=ne(function*({subCommand:m,capabilities:E}){const M=E.split(" ");switch(m.toUpperCase()){case"NEW":{t._logger.debug(`Server registered new capabilities: ${M.join(", ")}`);const A=Hf(M,ae=>{if(!ae)return{};const[Ce,vt]=Yo(ae,"=",2);return{[Ce]:{name:Ce,param:vt||!0}}});for(const[ae,Ce]of Object.entries(A))t._serverCapabilities.set(ae,Ce);const $=Object.keys(A);yield t._negotiateCapabilities(Array.from(t._clientCapabilities.entries()).filter(([ae])=>$.includes(ae)).map(([,ae])=>ae));break}case"DEL":t._logger.debug(`Server removed capabilities: ${M.join(", ")}`);for(const A of M)t._serverCapabilities.delete(A),t._negotiatedCapabilities.delete(A)}});return function(m){return _.apply(this,arguments)}}()),this.onTypedMessage(ny,({text:_})=>{this.sendMessage(ry,{text:_})}),this.onTypedMessage(tA,({me:_})=>this._handleReceivedClientNick(_)),this.onTypedMessage(nA,({userModes:_})=>{_&&(this._serverProperties.supportedUserModes=_)}),this.onTypedMessage(rA,({supports:_})=>{const m=Hf(_.split(" "),E=>{const[M,A]=Yo(E,"=",2);return{[M]:A||!0}});this._supportedFeatures={...this._supportedFeatures,...m}}),this.onTypedMessage(iA,({me:_})=>{this._registered||(this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(oA,({me:_})=>{this._registered||(this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(sA,({me:_})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(_),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(Zf,_=>{var m;const{target:E,text:M}=_,A=KI(M),$=null===(m=_.prefix)||void 0===m?void 0:m.nick;A?"ACTION"===A.command?this.emit(this.onAction,E,$,A.params,_):this.emit(this.onCtcp,E,$,A.command,A.params,_):this.emit(this.onPrivmsg,E,$,M,_)}),this.onTypedMessage(Wf,_=>{var m;const{nick:E}=_,M=null===(m=_.prefix)||void 0===m?void 0:m.nick;M===this._currentNick&&(this._currentNick=E),this.emit(this.onNickChange,M,E,_)}),this.onTypedMessage(ey,_=>{var m;const{target:E,text:M}=_,A=KI(M),$=null===(m=_.prefix)||void 0===m?void 0:m.nick;A&&this.emit(this.onCtcpReply,E,$,A.command,A.params,_),this.emit(this.onNotice,E,$,M,_)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(qf,({channel:_,prefix:m})=>{m?.nick===this._currentNick&&this.acknowledgeJoin(_)}),this.onTypedMessage(Yf,_=>{var m;(null===(m=_.prefix)||void 0===m?void 0:m.nick)===this._currentNick&&(this._currentChannels.delete(_.channel),this._channelsFromLastRegister.delete(_.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=i.nick,this._userName=i.userName,this._realName=i.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(n){var t;let r;this._logger.debug(`Received message: ${n}`);try{r=function d9(e,n=xa,t=l9,r=!1,i=[],o=!0){const s=e.split(" ");let a,l;const c=[];let u,d;for(;s.length;){if(a=s[0],!a.startsWith("@")||u||l||d)if(a.startsWith(":")){if(d||l){c.push({value:s.join(" ").slice(1),trailing:!0});break}a.length>1&&(d=c9(a.slice(1)))}else l?c.push({value:a,trailing:!1}):l=a.toUpperCase();else u=u9(a.slice(1));s.shift()}if(u||(u=new Map),!l)throw new Error(`line without command received: ${e}`);o&&(o=!i.includes(l));let f=S;return t.has(l)&&(f=t.get(l)),new f(l,{params:c,tags:u,prefix:d,rawLine:e},{serverProperties:n,isServer:r,shouldParseParams:o})}(n,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){return this._logger.error(`Error parsing message: ${i.message}`),void this._logger.trace(null!==(t=i.stack)&&void 0!==t?t:"No stack available")}this._logger.trace(`Parsed message: ${JSON.stringify(r)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,r),this._handleEvents(r)}get serverProperties(){return kc(this._serverProperties)}get port(){const{webSocket:n,connection:{port:t,secure:r}}=this._options;return t||(n?r?443:80:r?6697:6667)}pingCheck(){const n=Date.now(),t=n.toString(),r=this.onTypedMessage(ry,i=>{const{text:o}=i;o===t&&(this._logger.debug(`Current ping: ${Date.now()-n}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(r))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(r),!1===this._options.connection.reconnect?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},1e3*this._pingTimeout),this.sendMessage(ny,{text:t})}reconnect(n){this.quit(n),this.connect()}registerMessageType(n){""!==n.COMMAND&&(this._logger.trace(`Registering message type ${n.COMMAND}`),this._registeredMessageTypes.set(n.COMMAND.toUpperCase(),n))}knowsCommand(n){return this._registeredMessageTypes.has(n.toUpperCase())}getCommandClass(n){return this._registeredMessageTypes.get(n.toUpperCase())}acknowledgeJoin(n){this._currentChannels.add(n),this._channelsFromLastRegister.add(n)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(n){if(this._clientCapabilities.set(n.name,n),n.messageTypes)for(const t of Object.values(n.messageTypes))this.registerMessageType(t)}registerCapability(n){var t=this;return ne(function*(){return t.addCapability(n),t._serverCapabilities.has(n.name)?yield t._negotiateCapabilities([n]):[]})()}send(n){this.sendRaw(n.toString())}sendRaw(n){this._connection.isConnected&&(this._logger.debug(`Sending message: ${n}`),this._connection.sendLine(n))}onNamedMessage(n,t,r){this._events.has(n)||this._events.set(n,new Map);const i=this._events.get(n);if(!r)do{r=`${n}:${Tq(1e4*Math.random(),4,"0")}`}while(i.has(r));return i.set(r,t),r}onTypedMessage(n,t,r){return this.onNamedMessage(n.COMMAND,t,r)}removeMessageListener(n){const[t]=n.split(":");this._events.has(t)&&this._events.get(t).delete(n)}createMessage(n,t,r){return function Rq(e,n,t,r,i=xa,o=!1){const s=new e(e.COMMAND,void 0,{serverProperties:i}),a={};if(s._paramSpec&&Kv(s._paramSpec,(l,c)=>{if((!o||!l.noServer)&&(o||!l.noClient)){if(c in n){const u=n[c];if(void 0!==u)if(e.checkParam(u,l,i))a[c]={value:u,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${c}" did not suit requirements: "${u}"`)}if(!(c in a)&&!l.optional)throw new Error(`required parameter "${c}" not found in command "${e.COMMAND}"`)}}),s._parsedParams=a,s._paramSpec)for(const l of Object.keys(s._paramSpec))Object.defineProperty(s,l,{get(){var c,u;return null===(u=null===(c=this._parsedParams)||void 0===c?void 0:c[l])||void 0===u?void 0:u.value}});return s._initPrefixAndTags(t,r),s}(n,t,void 0,r?new Map(Object.entries(r)):void 0,this.serverProperties)}sendMessage(n,t,r){this.send(this.createMessage(n,t,r))}sendMessageAndCaptureReply(n,t){var r=this;return ne(function*(){if(!n.SUPPORTS_CAPTURE)throw new Error(`The command "${n.COMMAND}" does not support reply capture`);const i=r.createMessage(n,t),o=r.collect(i).promise();return r.send(i),yield o})()}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(n,...t){const r=new jq(this,n,...t);return this._collectors.push(r),r}stopCollect(n){this._collectors.splice(this._collectors.findIndex(t=>t===n),1)}join(n,t){this.sendMessage(qf,{channel:n,key:t})}part(n){this.sendMessage(Yf,{channel:n})}quit(n){this.sendMessage(eA,{text:n}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(n,t,r={}){this.sendMessage(Zf,{target:n,text:t},r)}sendCtcp(n,t,r){this.say(n,`\x01${t.toUpperCase()} ${r}\x01`)}action(n,t){this.sendCtcp(n,"ACTION",t)}changeNick(n){this._currentNick!==n&&(this._desiredNick=n,this.isRegistered&&this.sendMessage(Wf,{nick:n}))}registerCoreMessageTypes(){Kv(dt,n=>{this.registerMessageType(n)}),Kv(hn,n=>{this.registerMessageType(n)})}_negotiateCapabilityBatch(n){var t=this;return ne(function*(){return yield Promise.all(n.filter(r=>r.length).map(function(){var r=ne(function*(i){return yield t._negotiateCapabilities(i)});return function(i){return r.apply(this,arguments)}}()))})()}_negotiateCapabilities(n){var t=this;return ne(function*(){const r=Hf(n,a=>({[a.name]:a})),o=(yield t.sendMessageAndCaptureReply(Qo,{subCommand:"REQ",capabilities:n.map(a=>a.name).join(" ")})).shift();if(!o)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(o instanceof Qo))throw new Error(`capability negotiation failed unexpectedly with "${o.command}" command`);const s=o.capabilities.split(" ").filter(a=>a);if("ACK"===o.subCommand){t._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const a=s.map(l=>r[l]);for(const l of a){const c=t._clientCapabilities.get(l.name);c.param=l.param,t._negotiatedCapabilities.set(c.name,c)}return a}return t._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")})()}_setupConnection(){var n=this;this._initialConnectionSetupDone||(this._connection.onConnect(ne(function*(){var t,r;n._logger.info(`Connection to server ${n._options.connection.hostName}:${n.port} established`),n.emit(n.onConnect),n._logger.debug("Determining connection password");try{const[i]=yield Promise.all([Fv(n._options.credentials.password),n.sendMessageAndCaptureReply(Qo,{subCommand:"LS",version:"302"}).then(o=>{if(!(o.length&&o[0]instanceof Qo))return n._logger.debug("Server does not support capabilities"),[];n._supportsCapabilities=!0;const s=o.map(l=>Hf(l.capabilities.split(" "),c=>{if(!c)return{};const[u,d]=Yo(c,"=",2);return{[u]:{name:u,param:d||!0}}}));n._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),n._logger.debug(`Capabilities supported by server: ${Array.from(n._serverCapabilities.keys()).join(", ")}`);const a=s.map(l=>{const c=Object.keys(l);return Array.from(n._clientCapabilities.entries()).filter(([u])=>c.includes(u)).map(([,u])=>u)});return n._negotiateCapabilityBatch(a)}).then(()=>{n.sendMessage(Qo,{subCommand:"END"})})]);i&&n.sendMessage(JI,{password:i}),n.sendMessage(Wf,{nick:n._desiredNick}),n.sendMessage(XI,{user:null!==(t=n._userName)&&void 0!==t?t:n._desiredNick,mode:"8",unused:"*",realName:null!==(r=n._realName)&&void 0!==r?r:n._desiredNick})}catch(i){n.emit(n.onPasswordError,i),n.quit()}})),this._initialConnectionSetupDone=!0,this._connection.onReceive(t=>{this.receiveLine(t)}),this._connection.onDisconnect((t,r)=>{var i;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),t)this._logger.info("Disconnected");else{const o=null===(i=this._options.connection.reconnect)||void 0===i||i,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";o?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,t,r)}),this._connection.onEnd(t=>{t||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(n){this._currentNick!==n&&(""!==this._currentNick&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${n}`),this._currentNick=n)}_handleEvents(n){this._collectors.some(r=>r.collect(n));const t=this._events.get(n.constructor.COMMAND);if(t)for(const r of t.values())r(n)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingCheckTimer=this._connection.isConnected?setTimeout(()=>this.pingCheck(),1e3*this._pingOnInactivity):void 0}}sn([eo(!1)],lA.prototype,"_options",void 0);let cA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var t;return null!==(t=this._tags.get("target-user-id"))&&void 0!==t?t:null}}return e.COMMAND="CLEARCHAT",e})(),f9=(()=>{class e extends S{}return e.COMMAND="RECONNECT",e})(),uA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"}})}}return e.COMMAND="ROOMSTATE",e})();function h9(e){switch(typeof e){case"undefined":return"";case"object":{if(null===e)return"";if("cacheKey"in e)return e.cacheKey;const n=JSON.stringify(e);if("{}"!==n)return n}default:return e.toString()}}function dA(e,n,t){return[e,...n.map(h9)].join("/")+(t?"/":"")}function fA(e=1/0){return function(n,t,r){if(r.get){const i=r.get;r.get=function(){const o=dA(t,[]),s=this.getFromCache(o);if(s)return s;const a=i.call(this);return this.setCache(o,a,e),a}}return r}}var Kf;let to=Kf=class{constructor(n,t){this._userName=n.toLowerCase(),this._userData=t?new Map(t):new Map}static _parseBadgesLike(n){return n?new Map(n.split(",").map(t=>{const r=t.indexOf("/");return-1===r?[t,""]:[t.slice(0,r),t.slice(r+1)]})):new Map}get userName(){return this._userName}get displayName(){var n;return null!==(n=this._userData.get("display-name"))&&void 0!==n?n:this._userName}get color(){return this._userData.get("color")}get badges(){const n=this._userData.get("badges");return Kf._parseBadgesLike(n)}get badgeInfo(){const n=this._userData.get("badge-info");return Kf._parseBadgesLike(n)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const n=this._userData.get("vip");return null!=n&&"0"!==n}get isArtist(){return this.badges.has("artist-badge")}};function iy(e){return e?new Map(e.split("/").map(n=>{const[t,r]=n.split(":",2);return r?[t,r.split(",")]:null}).filter(n=>null!==n)):new Map}sn([eo(!1)],to.prototype,"_userData",void 0),sn([fA()],to.prototype,"badges",null),sn([fA()],to.prototype,"badgeInfo",null),to=Kf=sn([function p9(e){return class extends e{constructor(){super(...arguments),this.cache=new Map}getFromCache(n){if(this._cleanCache(),this.cache.has(n)){const t=this.cache.get(n);if(t)return t.value}}setCache(n,t,r){this.cache.set(n,{value:t,expires:Date.now()+1e3*r})}removeFromCache(n,t){const r=this._getInternalCacheKey(n,t);t?this.cache.forEach((i,o)=>{o.startsWith(r)&&this.cache.delete(o)}):this.cache.delete(r)}_cleanCache(){const n=Date.now();this.cache.forEach((t,r)=>{t.expires<n&&this.cache.delete(r)})}_getInternalCacheKey(n,t){if("string"==typeof n){let r=n;return r.endsWith("/")||(r+="/"),r}return dA(n.shift(),n,t)}}},xc("chat","ChatUser","userId")],to);let hA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userInfo(){return new to(this._tags.get("login"),this._tags)}get channelId(){var t;return null!==(t=this._tags.get("room-id"))&&void 0!==t?t:null}get emoteOffsets(){return iy(this._tags.get("emotes"))}}return e.COMMAND="USERNOTICE",e})(),g9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"}})}}return e.COMMAND="USERSTATE",e})(),pA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}get userInfo(){return new to(this._prefix.nick,this._tags)}get emoteOffsets(){return iy(this._tags.get("emotes"))}}return e.COMMAND="WHISPER",e})();const m9={name:"twitch.tv/commands",messageTypes:[cA,f9,uA,hA,g9,pA]},_9={name:"twitch.tv/membership"};let gA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}return e.COMMAND="CLEARMSG",e})();const v9={name:"twitch.tv/tags",messageTypes:[(()=>{class e extends S{}return e.COMMAND="GLOBALUSERSTATE",e})(),gA]},y9=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let mA=(()=>{let e=class extends Zf{get id(){return this._tags.get("id")}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userInfo(){return new to(this._prefix.nick,this._tags)}get channelId(){var t;return null!==(t=this._tags.get("room-id"))&&void 0!==t?t:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return"1"===this._tags.get("first-msg")}get isReturningChatter(){return"1"===this._tags.get("returning-chatter")}get isHighlight(){return"highlighted-message"===this._tags.get("msg-id")}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var t;return null!==(t=this._tags.get("reply-parent-msg-id"))&&void 0!==t?t:null}get parentMessageText(){var t;return null!==(t=this._tags.get("reply-parent-msg-body"))&&void 0!==t?t:null}get parentMessageUserId(){var t;return null!==(t=this._tags.get("reply-parent-user-id"))&&void 0!==t?t:null}get parentMessageUserName(){var t;return null!==(t=this._tags.get("reply-parent-user-login"))&&void 0!==t?t:null}get parentMessageUserDisplayName(){var t;return null!==(t=this._tags.get("reply-parent-display-name"))&&void 0!==t?t:null}get threadMessageId(){var t;return null!==(t=this._tags.get("reply-thread-parent-msg-id"))&&void 0!==t?t:null}get threadMessageUserId(){var t;return null!==(t=this._tags.get("reply-thread-parent-user-id"))&&void 0!==t?t:null}get bits(){var t;return Number(null!==(t=this._tags.get("bits"))&&void 0!==t?t:0)}get emoteOffsets(){return iy(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return Ac(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return Ac(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const t=this.hypeChatAmount;return t?t/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var t;return null!==(t=this._tags.get("pinned-chat-paid-currency"))&&void 0!==t?t:null}get hypeChatLevel(){const t=this._tags.get("pinned-chat-paid-level");return t?y9.indexOf(t)+1:null}get hypeChatIsSystemMessage(){const t=this._tags.get("pinned-chat-paid-is-system-message");return t?!!Number(t):null}};return e=sn([xc("chat","ChatMessage","id")],e),e})();function _A(e,n){if(e.length<=n)return[e];e=e.trim();const t=[];let r=0,i=n;for(;r<e.length;){let o=e.lastIndexOf(" ",i);(-1===o||o<=r||e.length-r+1<=n)&&(o=r+n);const s=e.slice(r,o).trim();s.length&&t.push(s),r=o+(" "===e[o]?1:0),i=r+n}return t}const D9=/^[a-z0-9][a-z0-9_]{0,24}$/;function Gt(e){const n=e.replace(/^#/,"").toLowerCase();if(!D9.test(n))throw new Error(`"${n}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return n}function Xf(e){return`#${Gt(e)}`}var oy;let eh=oy=class extends Rc{constructor(n={}){var t,r,i,o,s,a,u;if(n.authProvider&&!n.authProvider.getAccessTokenForIntent)throw new Vf("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),t=this,this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new lA({connection:{hostName:null!==(r=n.hostName)&&void 0!==r?r:null===(i=n.webSocket)||void 0===i||i?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:null===(o=n.ssl)||void 0===o||o},credentials:{nick:"",password:(u=ne(function*(){return yield t._getAuthToken()}),function(){return u.apply(this,arguments)})},webSocket:null===(s=n.webSocket)||void 0===s||s,connectionOptions:n.connectionOptions,logger:{name:"twurple:chat:irc",...n.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:n.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,d)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,d)}),this._ircClient.registerMessageType(mA),this._chatLogger=Bf({name:"twurple:chat:twitch",...n.logger}),this._authProvider=n.authProvider,this._useLegacyScopes=!!n.legacyScopes,this._readOnly=!!n.readOnly,this._authIntents=[...null!==(a=n.authIntents)&&void 0!==a?a:[],"chat"];const l=function(){var u=ne(function*({type:d,text:f,channel:h,tags:p}){"say"===d?t._ircClient.say(h,f,p):t._ircClient.action(h,f)});return function(f){return u.apply(this,arguments)}}(),c=function(){var u=ne(function*(d){const{promise:f,resolve:h,reject:p}=Pv();let g;const v=t.addInternalListener(t._onJoinResult,(_,m,E)=>{_===d&&(clearTimeout(g),E?p(E):h(),t.removeListener(v))});g=setTimeout(()=>{t.removeListener(v),t.emit(t._onJoinResult,d,void 0,"twurple_timeout"),p(new Error(`Did not receive a reply to join ${d} in time; assuming that the join failed`))},1e4),t._ircClient.join(d),yield f});return function(f){return u.apply(this,arguments)}}();if(n.isAlwaysMod)this._messageRateLimiter=new kv({bucketSize:"verified"===n.botLevel?7500:100,timeFrame:32e3,doRequest:l});else{let u=20;"verified"===n.botLevel?u=7500:"known"===n.botLevel&&(u=50),this._messageRateLimiter=new Z6(new K6({bucketSize:1,timeFrame:1200,logger:{minLevel:Y.ERROR},doRequest:l,getPartitionKey:({channel:d})=>d}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new kv({bucketSize:"verified"===n.botLevel?2e3:20,timeFrame:11e3,doRequest:c}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(v9),this._ircClient.addCapability(m9),n.requestMembershipEvents&&this._ircClient.addCapability(_9),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(ne(function*(){t._messageRateLimiter.resume(),t._joinRateLimiter.resume(),t._authVerified=!0,t._authRetryTimer=void 0,t._authRetryCount=0,t.emit(t.onAuthenticationSuccess);const u=yield Fv(n.channels);u&&(yield Promise.all(u.map(function(){var d=ne(function*(f){var h;try{yield t.join(f)}catch(p){t._chatLogger.warn(`Failed to join configured channel ${f}; original message: ${null!==(h=p?.message)&&void 0!==h?h:p}`)}});return function(f){return d.apply(this,arguments)}}())))})),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,d,f,h)=>{"jtv"!==d&&this.emit(this.onMessage,Gt(u),d,f,h)}),this._ircClient.onAction((u,d,f,h)=>{this.emit(this.onAction,Gt(u),d,f,h)}),this.addInternalListener(this._onJoinResult,(u,d,f)=>{f?this.emit(this.onJoinFailure,Gt(u),f):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(cA,u=>{const{channel:d,user:f,tags:h}=u,p=Gt(d);if(f){const g=h.get("ban-duration");void 0===g?this.emit(this.onBan,p,f,u):this.emit(this.onTimeout,p,f,Number(g),u)}else this.emit(this.onChatClear,p,u)}),this._ircClient.onTypedMessage(gA,u=>{const{channel:d,targetMessageId:f}=u;this.emit(this.onMessageRemove,Gt(d),f,u)}),this._ircClient.onTypedMessage(qf,({prefix:u,channel:d})=>{this.emit(this.onJoin,Gt(d),u.nick)}),this._ircClient.onTypedMessage(Yf,({prefix:u,channel:d})=>{this.emit(this.onPart,Gt(d),u.nick)}),this._ircClient.onTypedMessage(uA,({channel:u,tags:d})=>{let f=!1;if(d.has("subs-only")&&d.has("slow")&&(this.emit(this._onJoinResult,u,d),f=!0),!f){const h=Gt(u);if(d.has("slow")){const p=Number(d.get("slow"));p?this.emit(this.onSlow,h,!0,p):this.emit(this.onSlow,h,!1)}if(d.has("followers-only")){const p=Number(d.get("followers-only"));-1===p?this.emit(this.onFollowersOnly,h,!1):this.emit(this.onFollowersOnly,h,!0,p)}}}),this._ircClient.onTypedMessage(hA,u=>{const{channel:d,text:f,tags:h}=u,p=h.get("msg-id"),g=Gt(d);switch(p){case"sub":case"resub":{const v="sub"===p?this.onSub:this.onResub,_=h.get("msg-param-sub-plan"),m=h.get("msg-param-streak-months"),E={userId:h.get("user-id"),displayName:h.get("display-name"),plan:_,planName:h.get("msg-param-sub-plan-name"),isPrime:"Prime"===_,months:Number(h.get("msg-param-cumulative-months")),streak:m?Number(m):void 0,message:f};if("true"===h.get("msg-param-was-gifted")){const A="true"===h.get("msg-param-anon-gift"),$=Number(h.get("msg-param-gift-months")),ae=Number(h.get("msg-param-gift-month-being-redeemed"));E.originalGiftInfo=A?{anonymous:!0,duration:$,redeemedMonth:ae}:{anonymous:!1,duration:$,redeemedMonth:ae,userId:h.get("msg-param-gifter-id"),userName:h.get("msg-param-gifter-login"),userDisplayName:h.get("msg-param-gifter-name")}}this.emit(v,g,h.get("login"),E,u);break}case"subgift":{const v=h.get("msg-param-sub-plan"),_=h.get("login"),m="ananonymousgifter"===_,E={userId:h.get("msg-param-recipient-id"),displayName:h.get("msg-param-recipient-display-name"),gifter:m?void 0:_,gifterUserId:m?void 0:h.get("user-id"),gifterDisplayName:m?void 0:h.get("display-name"),gifterGiftCount:m?void 0:Number(h.get("msg-param-sender-count")),giftDuration:Number(h.get("msg-param-gift-months")),plan:v,planName:h.get("msg-param-sub-plan-name"),isPrime:"Prime"===v,months:Number(h.get("msg-param-months"))};this.emit(this.onSubGift,g,h.get("msg-param-recipient-user-name"),E,u);break}case"submysterygift":{const v=h.get("login"),_="ananonymousgifter"===v,m={gifter:_?void 0:v,gifterUserId:_?void 0:h.get("user-id"),gifterDisplayName:_?void 0:h.get("display-name"),gifterGiftCount:_?void 0:Number(h.get("msg-param-sender-count")),count:Number(h.get("msg-param-mass-gift-count")),plan:h.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,g,h.get("login"),m,u);break}case"primepaidupgrade":{const v={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,g,h.get("login"),v,u);break}case"giftpaidupgrade":{const v={userId:h.get("user-id"),displayName:h.get("display-name"),gifter:h.get("msg-param-sender-login"),gifterDisplayName:h.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,g,h.get("login"),v,u);break}case"standardpayforward":{const v="true"===h.get("msg-param-prior-gifter-anonymous"),_={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:v?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:v?void 0:h.get("msg-param-prior-gifter-display-name"),recipientUserId:h.get("msg-param-recipient-id"),recipientDisplayName:h.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,g,h.get("login"),_,u);break}case"communitypayforward":{const v="true"===h.get("msg-param-prior-gifter-anonymous"),_={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:v?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:v?void 0:h.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,g,h.get("login"),_,u);break}case"primecommunitygiftreceived":{const v={name:h.get("msg-param-gift-name"),gifter:h.get("login"),gifterDisplayName:h.get("display-name")};this.emit(this.onPrimeCommunityGift,g,h.get("msg-param-recipient"),v,u);break}case"raid":{const v={displayName:h.get("msg-param-displayName"),viewerCount:Number(h.get("msg-param-viewerCount"))};this.emit(this.onRaid,g,h.get("login"),v,u);break}case"unraid":this.emit(this.onRaidCancel,g,u);break;case"ritual":{const v={ritualName:h.get("msg-param-ritual-name"),message:f};this.emit(this.onRitual,g,h.get("login"),v,u);break}case"bitsbadgetier":{const v={displayName:h.get("display-name"),threshold:Number(h.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,g,h.get("login"),v,u);break}case"extendsub":{const v={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan"),months:Number(h.get("msg-param-cumulative-months")),endMonth:Number(h.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,g,h.get("login"),v,u);break}case"rewardgift":{const v={domain:h.get("msg-param-domain"),gifterId:h.get("user-id"),gifterDisplayName:h.get("display-name"),count:Number(h.get("msg-param-selected-count")),gifterGiftCount:Number(h.get("msg-param-total-reward-count")),triggerType:h.get("msg-param-trigger-type")};this.emit(this.onRewardGift,g,h.get("login"),v,u);break}case"announcement":{const v={color:h.get("msg-param-color")};this.emit(this.onAnnouncement,g,h.get("login"),v,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${p}`)}}),this._ircClient.onTypedMessage(pA,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(ey,function(){var u=ne(function*({target:d,text:f,tags:h}){const p=h.get("msg-id");switch(p){case"emote_only_on":t.emit(t.onEmoteOnly,Gt(d),!0);break;case"emote_only_off":t.emit(t.onEmoteOnly,Gt(d),!1);break;case"msg_channel_suspended":case"msg_banned":t.emit(t._onJoinResult,d,void 0,p);break;case"r9k_on":t.emit(t.onUniqueChat,Gt(d),!0);break;case"r9k_off":t.emit(t.onUniqueChat,Gt(d),!1);break;case"subs_on":t.emit(t.onSubsOnly,Gt(d),!0);break;case"subs_off":t.emit(t.onSubsOnly,Gt(d),!1);break;case"cmds_available":case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":case"timeout_success":case"unrecognized_cmd":break;case"no_permission":t.emit(t.onNoPermission,Gt(d),f);break;case"msg_ratelimit":t.emit(t.onMessageRatelimit,Gt(d),f);break;case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":t.emit(t.onMessageFailed,Gt(d),p);break;case void 0:if("Login authentication failed"===f||"Improperly formatted AUTH"===f||"Invalid NICK"===f){t._authVerified=!1,t._authRetryTimer||(t._authRetryTimer=UI(120),t._authRetryCount=0);const g=t._authRetryTimer.next().value,v=++t._authRetryCount;t.emit(t.onAuthenticationFailure,f,v),0!==g&&t._chatLogger.info(`Retrying authentication in ${g} seconds`),yield function X6(e){return ri(this,void 0,Promise,function(){return ii(this,function(n){switch(n.label){case 0:return[4,new Promise(function(t){return setTimeout(t,e)})];case 1:return n.sent(),[2]}})})}(1e3*g),t._ircClient.reconnect()}break;default:p.startsWith("usage_")||t._chatLogger.warn(`Unrecognized notice ID: '${p}'`)}});return function(d){return u.apply(this,arguments)}}())}connect(){this._authProvider||this._ircClient.changeNick(oy._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}say(n,t,r={},i){var o=this;return ne(function*(){const s={};r.replyTo&&(s["reply-parent-msg-id"]=function b9(e){return e instanceof mA?e.tags.get("id"):e}(r.replyTo));const a=_A(t,500);yield Promise.all(a.map(function(){var l=ne(function*(c){return yield o._messageRateLimiter.request({type:"say",channel:Xf(n),text:c,tags:s},i)});return function(c){return l.apply(this,arguments)}}()))})()}action(n,t,r){var i=this;return ne(function*(){const o=_A(t,490);yield Promise.all(o.map(function(){var s=ne(function*(a){return yield i._messageRateLimiter.request({type:"action",channel:Xf(n),text:a},r)});return function(a){return s.apply(this,arguments)}}()))})()}join(n){var t=this;return ne(function*(){yield t._joinRateLimiter.request(Xf(n))})()}part(n){this._ircClient.part(Xf(n))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}_getAuthToken(){var n=this;return ne(function*(){var t,r;if(!n._authProvider)return void n._chatLogger.debug("No authProvider given; connecting anonymously");if(n._authToken&&!jf(n._authToken)&&n._authVerified)return n._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${n._authToken.accessToken}`;const i=n._getNecessaryScopes();let o,s=!1;for(const a of n._authIntents){try{if(n._authToken=yield n._authProvider.getAccessTokenForIntent(a,i),!n._authToken)continue;s=!0;const l=yield Di(n._authToken.accessToken);if(!l.userName)throw new Vf("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return n._ircClient.changeNick(l.userName),`oauth:${n._authToken.accessToken}`}catch(l){l instanceof Oa?o=l:n._chatLogger.error(`Retrieving an access token failed: ${l.message}`)}n._chatLogger.warn("No valid token available; trying to refresh");try{if(n._authToken=yield null===(r=(t=n._authProvider).refreshAccessTokenForIntent)||void 0===r?void 0:r.call(t,a),n._authToken){const l=yield Di(n._authToken.accessToken);if(!l.userName)throw new Vf("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return n._ircClient.changeNick(l.userName),`oauth:${n._authToken.accessToken}`}}catch(l){l instanceof Oa?o=l:n._chatLogger.error(`Refreshing the access token failed: ${l.message}`)}}throw n._authVerified=!1,o??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${n._authIntents.join(", ")}) are known by the auth provider${n._authProvider instanceof Cq?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)})()}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(1e5*Math.random()).toString().padStart(5,"0")}`}};function vA(e){return co([],oi(e),!1).length}function sy(e,n,t){return co([],oi(e),!1).slice(n,t).join("")}sn([eo(!1)],eh.prototype,"_authProvider",void 0),eh=oy=sn([xc("chat","ChatClient")],eh);let N9=(()=>{class e{constructor(){this.messagesSubject$=new Ke,this.messages$=this.messagesSubject$.pipe(Ro(t=>{throw t}))}connect(t){this.chatClient=new eh({channels:t}),this.chatClient.connect(),this.chatClient.onMessage((r,i,o,s)=>{const a=function T9(e,n,t){if(!e)return[];const r=function w9(e,n){return[...n.entries()].flatMap(([t,r])=>r.map(i=>{const[o,s]=i.split("-"),a=+o,l=+s,c=sy(e,a,l+1);return{type:"emote",position:a,length:l-a+1,id:t,name:c}})).sort((t,r)=>t.position-r.position)}(e,n);return t&&(r.push(...function E9(e,n){const t=[],r=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=r.exec(e);){const o=i[1].toLowerCase();if(n.includes(o)){const s=Number(i[2]);t.push({type:"cheer",name:o,amount:s,position:vA(e.slice(0,i.index)),length:i[0].length})}}return t}(e,t)),r.sort((i,o)=>i.position-o.position)),function S9(e,n){const t=vA(e);if(!n.length)return[{type:"text",position:0,length:t,text:e}];const r=[];let i=0;for(const o of n)o.position>i&&r.push({type:"text",position:i,length:o.position-i,text:sy(e,i,o.position)}),r.push(o),i=o.position+o.length;return i<t&&r.push({type:"text",position:i,length:t-i,text:sy(e,i)}),r}(e,r)}(o,s.emoteOffsets).map(c=>{switch(c.type){case"text":return c.text;case"emote":return`<img src="${function M9(e,n={}){const{animationSettings:t="default",backgroundType:r="dark",size:i="1.0"}=n;return`https://static-cdn.jtvnw.net/emoticons/v2/${e}/${t}/${r}/${i}`}(c.id,{size:"1.0"})}" />`}return""}),l={msgId:s.id,username:s.userInfo.displayName,channel:r,message:o,renderedMessage:a.join(""),timestamp:Date.now(),color:s.userInfo.color};this.messagesSubject$.next(l)})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),I9=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ge({type:e,bootstrap:[b8]});static#n=this.\u0275inj=$e({providers:[{provide:JT,useClass:N9}],imports:[MH,y8,V6]})}return e})();SH().bootstrapModule(I9).catch(e=>console.error(e))},94:ut=>{ut.exports.U=!1},507:ut=>{"use strict";ut.exports=yt=>{if("string"!=typeof yt)throw new TypeError("Expected a string");return yt.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},ut.exports.default=ut.exports},213:(ut,yt,Se)=>{"use strict";var ge=String.prototype.replace,dt=/%20/g,hn=Se(754),je={RFC1738:"RFC1738",RFC3986:"RFC3986"};ut.exports=hn.assign({default:je.RFC3986,formatters:{RFC1738:function(ye){return ge.call(ye,dt,"+")},RFC3986:function(ye){return String(ye)}}},je)},785:(ut,yt,Se)=>{"use strict";var ge=Se(754),dt=Object.prototype.hasOwnProperty,hn=Array.isArray,je={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ge.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},wn=function(L,b){return L&&"string"==typeof L&&b.comma&&L.indexOf(",")>-1?L.split(","):L},En=function(b,R){if(hn(b)){for(var O=[],U=0;U<b.length;U+=1)O.push(R(b[U]));return O}return R(b)},Qe=function(b,R,O,U){if(b){var B=O.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,me=/(\[[^[\]]*])/g,te=O.depth>0&&/(\[[^[\]]*])/.exec(B),ke=te?B.slice(0,te.index):B,at=[];if(ke){if(!O.plainObjects&&dt.call(Object.prototype,ke)&&!O.allowPrototypes)return;at.push(ke)}for(var gt=0;O.depth>0&&null!==(te=me.exec(B))&&gt<O.depth;){if(gt+=1,!O.plainObjects&&dt.call(Object.prototype,te[1].slice(1,-1))&&!O.allowPrototypes)return;at.push(te[1])}return te&&at.push("["+B.slice(te.index)+"]"),function(L,b,R,O){for(var U=O?b:wn(b,R),B=L.length-1;B>=0;--B){var ce,me=L[B];if("[]"===me&&R.parseArrays)ce=[].concat(U);else{ce=R.plainObjects?Object.create(null):{};var te="["===me.charAt(0)&&"]"===me.charAt(me.length-1)?me.slice(1,-1):me,ke=parseInt(te,10);R.parseArrays||""!==te?!isNaN(ke)&&me!==te&&String(ke)===te&&ke>=0&&R.parseArrays&&ke<=R.arrayLimit?(ce=[])[ke]=U:ce[te]=U:ce={0:U}}U=ce}return U}(at,R,O,U)}};ut.exports=function(L,b){var R=function(b){if(!b)return je;if(null!=b.decoder&&"function"!=typeof b.decoder)throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&"utf-8"!==b.charset&&"iso-8859-1"!==b.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:typeof b.allowDots>"u"?je.allowDots:!!b.allowDots,allowPrototypes:"boolean"==typeof b.allowPrototypes?b.allowPrototypes:je.allowPrototypes,arrayLimit:"number"==typeof b.arrayLimit?b.arrayLimit:je.arrayLimit,charset:typeof b.charset>"u"?je.charset:b.charset,charsetSentinel:"boolean"==typeof b.charsetSentinel?b.charsetSentinel:je.charsetSentinel,comma:"boolean"==typeof b.comma?b.comma:je.comma,decoder:"function"==typeof b.decoder?b.decoder:je.decoder,delimiter:"string"==typeof b.delimiter||ge.isRegExp(b.delimiter)?b.delimiter:je.delimiter,depth:"number"==typeof b.depth||!1===b.depth?+b.depth:je.depth,ignoreQueryPrefix:!0===b.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof b.interpretNumericEntities?b.interpretNumericEntities:je.interpretNumericEntities,parameterLimit:"number"==typeof b.parameterLimit?b.parameterLimit:je.parameterLimit,parseArrays:!1!==b.parseArrays,plainObjects:"boolean"==typeof b.plainObjects?b.plainObjects:je.plainObjects,strictNullHandling:"boolean"==typeof b.strictNullHandling?b.strictNullHandling:je.strictNullHandling}}(b);if(""===L||null===L||typeof L>"u")return R.plainObjects?Object.create(null):{};for(var O="string"==typeof L?function(b,R){var te,O={},ce=(R.ignoreQueryPrefix?b.replace(/^\?/,""):b).split(R.delimiter,R.parameterLimit===1/0?void 0:R.parameterLimit),me=-1,ke=R.charset;if(R.charsetSentinel)for(te=0;te<ce.length;++te)0===ce[te].indexOf("utf8=")&&("utf8=%E2%9C%93"===ce[te]?ke="utf-8":"utf8=%26%2310003%3B"===ce[te]&&(ke="iso-8859-1"),me=te,te=ce.length);for(te=0;te<ce.length;++te)if(te!==me){var bt,pe,at=ce[te],gt=at.indexOf("]="),Tt=-1===gt?at.indexOf("="):gt+1;-1===Tt?(bt=R.decoder(at,je.decoder,ke,"key"),pe=R.strictNullHandling?null:""):(bt=R.decoder(at.slice(0,Tt),je.decoder,ke,"key"),pe=En(wn(at.slice(Tt+1),R),function(ts){return R.decoder(ts,je.decoder,ke,"value")})),pe&&R.interpretNumericEntities&&"iso-8859-1"===ke&&(pe=pe.replace(/&#(\d+);/g,function(b,R){return String.fromCharCode(parseInt(R,10))})),at.indexOf("[]=")>-1&&(pe=hn(pe)?[pe]:pe),O[bt]=dt.call(O,bt)?ge.combine(O[bt],pe):pe}return O}(L,R):L,U=R.plainObjects?Object.create(null):{},B=Object.keys(O),ce=0;ce<B.length;++ce){var me=B[ce],te=Qe(me,O[me],R,"string"==typeof L);U=ge.merge(U,te,R)}return ge.compact(U)}},477:(ut,yt,Se)=>{"use strict";var ge=Se(754),dt=Se(213),hn=Object.prototype.hasOwnProperty,je={brackets:function(b){return b+"[]"},comma:"comma",indices:function(b,R){return b+"["+R+"]"},repeat:function(b){return b}},ye=Array.isArray,wn=Array.prototype.push,En=function(L,b){wn.apply(L,ye(b)?b:[b])},Yn=Date.prototype.toISOString,Ae=dt.default,ft={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ge.encode,encodeValuesOnly:!1,format:Ae,formatter:dt.formatters[Ae],indices:!1,serializeDate:function(b){return Yn.call(b)},skipNulls:!1,strictNullHandling:!1},Qe=function L(b,R,O,U,B,ce,me,te,ke,at,gt,Tt,bt){var pe=b;if("function"==typeof me?pe=me(R,pe):pe instanceof Date?pe=at(pe):"comma"===O&&ye(pe)&&(pe=pe.join(",")),null===pe){if(U)return ce&&!Tt?ce(R,ft.encoder,bt,"key"):R;pe=""}if(function(b){return"string"==typeof b||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b}(pe)||ge.isBuffer(pe))return ce?[gt(Tt?R:ce(R,ft.encoder,bt,"key"))+"="+gt(ce(pe,ft.encoder,bt,"value"))]:[gt(R)+"="+gt(String(pe))];var ro,Ei=[];if(typeof pe>"u")return Ei;if(ye(me))ro=me;else{var Pa=Object.keys(pe);ro=te?Pa.sort(te):Pa}for(var io=0;io<ro.length;++io){var ti=ro[io];B&&null===pe[ti]||(ye(pe)?En(Ei,L(pe[ti],"function"==typeof O?O(R,ti):R,O,U,B,ce,me,te,ke,at,gt,Tt,bt)):En(Ei,L(pe[ti],R+(ke?"."+ti:"["+ti+"]"),O,U,B,ce,me,te,ke,at,gt,Tt,bt)))}return Ei};ut.exports=function(L,b){var U,R=L,O=function(b){if(!b)return ft;if(null!=b.encoder&&"function"!=typeof b.encoder)throw new TypeError("Encoder has to be a function.");var R=b.charset||ft.charset;if(typeof b.charset<"u"&&"utf-8"!==b.charset&&"iso-8859-1"!==b.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=dt.default;if(typeof b.format<"u"){if(!hn.call(dt.formatters,b.format))throw new TypeError("Unknown format option provided.");O=b.format}var U=dt.formatters[O],B=ft.filter;return("function"==typeof b.filter||ye(b.filter))&&(B=b.filter),{addQueryPrefix:"boolean"==typeof b.addQueryPrefix?b.addQueryPrefix:ft.addQueryPrefix,allowDots:typeof b.allowDots>"u"?ft.allowDots:!!b.allowDots,charset:R,charsetSentinel:"boolean"==typeof b.charsetSentinel?b.charsetSentinel:ft.charsetSentinel,delimiter:typeof b.delimiter>"u"?ft.delimiter:b.delimiter,encode:"boolean"==typeof b.encode?b.encode:ft.encode,encoder:"function"==typeof b.encoder?b.encoder:ft.encoder,encodeValuesOnly:"boolean"==typeof b.encodeValuesOnly?b.encodeValuesOnly:ft.encodeValuesOnly,filter:B,formatter:U,serializeDate:"function"==typeof b.serializeDate?b.serializeDate:ft.serializeDate,skipNulls:"boolean"==typeof b.skipNulls?b.skipNulls:ft.skipNulls,sort:"function"==typeof b.sort?b.sort:null,strictNullHandling:"boolean"==typeof b.strictNullHandling?b.strictNullHandling:ft.strictNullHandling}}(b);"function"==typeof O.filter?R=(0,O.filter)("",R):ye(O.filter)&&(U=O.filter);var ce=[];if("object"!=typeof R||null===R)return"";var te=je[b&&b.arrayFormat in je?b.arrayFormat:b&&"indices"in b?b.indices?"indices":"repeat":"indices"];U||(U=Object.keys(R)),O.sort&&U.sort(O.sort);for(var ke=0;ke<U.length;++ke){var at=U[ke];O.skipNulls&&null===R[at]||En(ce,Qe(R[at],at,te,O.strictNullHandling,O.skipNulls,O.encode?O.encoder:null,O.filter,O.sort,O.allowDots,O.serializeDate,O.formatter,O.encodeValuesOnly,O.charset))}var gt=ce.join(O.delimiter),Tt=!0===O.addQueryPrefix?"?":"";return O.charsetSentinel&&(Tt+="iso-8859-1"===O.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),gt.length>0?Tt+gt:""}},754:ut=>{"use strict";var yt=Object.prototype.hasOwnProperty,Se=Array.isArray,ge=function(){for(var Qe=[],j=0;j<256;++j)Qe.push("%"+((j<16?"0":"")+j.toString(16)).toUpperCase());return Qe}(),hn=function(j,L){for(var b=L&&L.plainObjects?Object.create(null):{},R=0;R<j.length;++R)typeof j[R]<"u"&&(b[R]=j[R]);return b};ut.exports={arrayToObject:hn,assign:function(j,L){return Object.keys(L).reduce(function(b,R){return b[R]=L[R],b},j)},combine:function(j,L){return[].concat(j,L)},compact:function(j){for(var L=[{obj:{o:j},prop:"o"}],b=[],R=0;R<L.length;++R)for(var O=L[R],U=O.obj[O.prop],B=Object.keys(U),ce=0;ce<B.length;++ce){var me=B[ce],te=U[me];"object"==typeof te&&null!==te&&-1===b.indexOf(te)&&(L.push({obj:U,prop:me}),b.push(te))}return function(j){for(;j.length>1;){var L=j.pop(),b=L.obj[L.prop];if(Se(b)){for(var R=[],O=0;O<b.length;++O)typeof b[O]<"u"&&R.push(b[O]);L.obj[L.prop]=R}}}(L),j},decode:function(Qe,j,L){var b=Qe.replace(/\+/g," ");if("iso-8859-1"===L)return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},encode:function(j,L,b){if(0===j.length)return j;var R=j;if("symbol"==typeof j?R=Symbol.prototype.toString.call(j):"string"!=typeof j&&(R=String(j)),"iso-8859-1"===b)return escape(R).replace(/%u[0-9a-f]{4}/gi,function(ce){return"%26%23"+parseInt(ce.slice(2),16)+"%3B"});for(var O="",U=0;U<R.length;++U){var B=R.charCodeAt(U);45===B||46===B||95===B||126===B||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122?O+=R.charAt(U):B<128?O+=ge[B]:B<2048?O+=ge[192|B>>6]+ge[128|63&B]:B<55296||B>=57344?O+=ge[224|B>>12]+ge[128|B>>6&63]+ge[128|63&B]:(B=65536+((1023&B)<<10|1023&R.charCodeAt(U+=1)),O+=ge[240|B>>18]+ge[128|B>>12&63]+ge[128|B>>6&63]+ge[128|63&B])}return O},isBuffer:function(j){return!(!j||"object"!=typeof j||!(j.constructor&&j.constructor.isBuffer&&j.constructor.isBuffer(j)))},isRegExp:function(j){return"[object RegExp]"===Object.prototype.toString.call(j)},merge:function Qe(j,L,b){if(!L)return j;if("object"!=typeof L){if(Se(j))j.push(L);else{if(!j||"object"!=typeof j)return[j,L];(b&&(b.plainObjects||b.allowPrototypes)||!yt.call(Object.prototype,L))&&(j[L]=!0)}return j}if(!j||"object"!=typeof j)return[j].concat(L);var R=j;return Se(j)&&!Se(L)&&(R=hn(j,b)),Se(j)&&Se(L)?(L.forEach(function(O,U){if(yt.call(j,U)){var B=j[U];B&&"object"==typeof B&&O&&"object"==typeof O?j[U]=Qe(B,O,b):j.push(O)}else j[U]=O}),j):Object.keys(L).reduce(function(O,U){var B=L[U];return O[U]=yt.call(O,U)?Qe(O[U],B,b):B,O},R)}}},281:(ut,yt)=>{"use strict";var ge=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();ut.exports=yt=ge.fetch,ge.fetch&&(yt.default=ge.fetch.bind(ge)),yt.Headers=ge.Headers,yt.Request=ge.Request,yt.Response=ge.Response},614:()=>{"use strict";const ut=":";const Vc=function(C,...D){if(Vc.translate){const k=Vc.translate(C,D);C=k[0],D=k[1]}let N=lh(C[0],C.raw[0]);for(let k=1;k<C.length;k++)N+=D[k-1]+lh(C[k],C.raw[k]);return N},ah=":";function lh(C,D){return D.charAt(0)===ah?C.substring(function Ei(C,D){for(let N=1,k=1;N<C.length;N++,k++)if("\\"===D[k])k++;else if(C[N]===ut)return N;throw new Error(`Unterminated $localize metadata block in "${D}".`)}(C,D)+1):C}globalThis.$localize=Vc}},ut=>{var yt=ge=>ut(ut.s=ge);yt(614),yt(70)}]);