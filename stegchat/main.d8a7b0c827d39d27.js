(self.webpackChunkstegchat=self.webpackChunkstegchat||[]).push([[590],{704:gt=>{gt.exports.y=!1},796:gt=>{"use strict";gt.exports=yt=>{if("string"!=typeof yt)throw new TypeError("Expected a string");return yt.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},gt.exports.default=gt.exports},580:(gt,yt,Te)=>{"use strict";var me=String.prototype.replace,mt=/%20/g,_n=Te(800),xe={RFC1738:"RFC1738",RFC3986:"RFC3986"};gt.exports=_n.assign({default:xe.RFC3986,formatters:{RFC1738:function(H){return me.call(H,mt,"+")},RFC3986:function(H){return String(H)}}},xe)},28:(gt,yt,Te)=>{"use strict";var me=Te(800),mt=Object.prototype.hasOwnProperty,_n=Array.isArray,xe={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:me.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},oi=function(L,b){return L&&"string"==typeof L&&b.comma&&L.indexOf(",")>-1?L.split(","):L},je=function(b,O){if(_n(b)){for(var R=[],U=0;U<b.length;U+=1)R.push(O(b[U]));return R}return O(b)},Ke=function(b,O,R,U){if(b){var V=R.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,_e=/(\[[^[\]]*])/g,ne=R.depth>0&&/(\[[^[\]]*])/.exec(V),Fe=ne?V.slice(0,ne.index):V,st=[];if(Fe){if(!R.plainObjects&&mt.call(Object.prototype,Fe)&&!R.allowPrototypes)return;st.push(Fe)}for(var Tt=0;R.depth>0&&null!==(ne=_e.exec(V))&&Tt<R.depth;){if(Tt+=1,!R.plainObjects&&mt.call(Object.prototype,ne[1].slice(1,-1))&&!R.allowPrototypes)return;st.push(ne[1])}return ne&&st.push("["+V.slice(ne.index)+"]"),function(L,b,O,R){for(var U=R?b:oi(b,O),V=L.length-1;V>=0;--V){var ce,_e=L[V];if("[]"===_e&&O.parseArrays)ce=[].concat(U);else{ce=O.plainObjects?Object.create(null):{};var ne="["===_e.charAt(0)&&"]"===_e.charAt(_e.length-1)?_e.slice(1,-1):_e,Fe=parseInt(ne,10);O.parseArrays||""!==ne?!isNaN(Fe)&&_e!==ne&&String(Fe)===ne&&Fe>=0&&O.parseArrays&&Fe<=O.arrayLimit?(ce=[])[Fe]=U:ce[ne]=U:ce={0:U}}U=ce}return U}(st,O,R,U)}};gt.exports=function(L,b){var O=function(b){if(!b)return xe;if(null!=b.decoder&&"function"!=typeof b.decoder)throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&"utf-8"!==b.charset&&"iso-8859-1"!==b.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:typeof b.allowDots>"u"?xe.allowDots:!!b.allowDots,allowPrototypes:"boolean"==typeof b.allowPrototypes?b.allowPrototypes:xe.allowPrototypes,arrayLimit:"number"==typeof b.arrayLimit?b.arrayLimit:xe.arrayLimit,charset:typeof b.charset>"u"?xe.charset:b.charset,charsetSentinel:"boolean"==typeof b.charsetSentinel?b.charsetSentinel:xe.charsetSentinel,comma:"boolean"==typeof b.comma?b.comma:xe.comma,decoder:"function"==typeof b.decoder?b.decoder:xe.decoder,delimiter:"string"==typeof b.delimiter||me.isRegExp(b.delimiter)?b.delimiter:xe.delimiter,depth:"number"==typeof b.depth||!1===b.depth?+b.depth:xe.depth,ignoreQueryPrefix:!0===b.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof b.interpretNumericEntities?b.interpretNumericEntities:xe.interpretNumericEntities,parameterLimit:"number"==typeof b.parameterLimit?b.parameterLimit:xe.parameterLimit,parseArrays:!1!==b.parseArrays,plainObjects:"boolean"==typeof b.plainObjects?b.plainObjects:xe.plainObjects,strictNullHandling:"boolean"==typeof b.strictNullHandling?b.strictNullHandling:xe.strictNullHandling}}(b);if(""===L||null===L||typeof L>"u")return O.plainObjects?Object.create(null):{};for(var R="string"==typeof L?function(b,O){var ne,R={},ce=(O.ignoreQueryPrefix?b.replace(/^\?/,""):b).split(O.delimiter,O.parameterLimit===1/0?void 0:O.parameterLimit),_e=-1,Fe=O.charset;if(O.charsetSentinel)for(ne=0;ne<ce.length;++ne)0===ce[ne].indexOf("utf8=")&&("utf8=%E2%9C%93"===ce[ne]?Fe="utf-8":"utf8=%26%2310003%3B"===ce[ne]&&(Fe="iso-8859-1"),_e=ne,ne=ce.length);for(ne=0;ne<ce.length;++ne)if(ne!==_e){var Rt,ue,st=ce[ne],Tt=st.indexOf("]="),Kt=-1===Tt?st.indexOf("="):Tt+1;-1===Kt?(Rt=O.decoder(st,xe.decoder,Fe,"key"),ue=O.strictNullHandling?null:""):(Rt=O.decoder(st.slice(0,Kt),xe.decoder,Fe,"key"),ue=je(oi(st.slice(Kt+1),O),function(Zn){return O.decoder(Zn,xe.decoder,Fe,"value")})),ue&&O.interpretNumericEntities&&"iso-8859-1"===Fe&&(ue=ue.replace(/&#(\d+);/g,function(b,O){return String.fromCharCode(parseInt(O,10))})),st.indexOf("[]=")>-1&&(ue=_n(ue)?[ue]:ue),R[Rt]=mt.call(R,Rt)?me.combine(R[Rt],ue):ue}return R}(L,O):L,U=O.plainObjects?Object.create(null):{},V=Object.keys(R),ce=0;ce<V.length;++ce){var _e=V[ce],ne=Ke(_e,R[_e],O,"string"==typeof L);U=me.merge(U,ne,O)}return me.compact(U)}},512:(gt,yt,Te)=>{"use strict";var me=Te(800),mt=Te(580),_n=Object.prototype.hasOwnProperty,xe={brackets:function(b){return b+"[]"},comma:"comma",indices:function(b,O){return b+"["+O+"]"},repeat:function(b){return b}},H=Array.isArray,oi=Array.prototype.push,je=function(L,b){oi.apply(L,H(b)?b:[b])},Pn=Date.prototype.toISOString,Fn=mt.default,ke={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:me.encode,encodeValuesOnly:!1,format:Fn,formatter:mt.formatters[Fn],indices:!1,serializeDate:function(b){return Pn.call(b)},skipNulls:!1,strictNullHandling:!1},Ke=function L(b,O,R,U,V,ce,_e,ne,Fe,st,Tt,Kt,Rt){var ue=b;if("function"==typeof _e?ue=_e(O,ue):ue instanceof Date?ue=st(ue):"comma"===R&&H(ue)&&(ue=ue.join(",")),null===ue){if(U)return ce&&!Kt?ce(O,ke.encoder,Rt,"key"):O;ue=""}if(function(b){return"string"==typeof b||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b}(ue)||me.isBuffer(ue))return ce?[Tt(Kt?O:ce(O,ke.encoder,Rt,"key"))+"="+Tt(ce(ue,ke.encoder,Rt,"value"))]:[Tt(O)+"="+Tt(String(ue))];var ao,Nr=[];if(typeof ue>"u")return Nr;if(H(_e))ao=_e;else{var jc=Object.keys(ue);ao=ne?jc.sort(ne):jc}for(var is=0;is<ao.length;++is){var Ir=ao[is];V&&null===ue[Ir]||(H(ue)?je(Nr,L(ue[Ir],"function"==typeof R?R(O,Ir):O,R,U,V,ce,_e,ne,Fe,st,Tt,Kt,Rt)):je(Nr,L(ue[Ir],O+(Fe?"."+Ir:"["+Ir+"]"),R,U,V,ce,_e,ne,Fe,st,Tt,Kt,Rt)))}return Nr};gt.exports=function(L,b){var U,O=L,R=function(b){if(!b)return ke;if(null!=b.encoder&&"function"!=typeof b.encoder)throw new TypeError("Encoder has to be a function.");var O=b.charset||ke.charset;if(typeof b.charset<"u"&&"utf-8"!==b.charset&&"iso-8859-1"!==b.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=mt.default;if(typeof b.format<"u"){if(!_n.call(mt.formatters,b.format))throw new TypeError("Unknown format option provided.");R=b.format}var U=mt.formatters[R],V=ke.filter;return("function"==typeof b.filter||H(b.filter))&&(V=b.filter),{addQueryPrefix:"boolean"==typeof b.addQueryPrefix?b.addQueryPrefix:ke.addQueryPrefix,allowDots:typeof b.allowDots>"u"?ke.allowDots:!!b.allowDots,charset:O,charsetSentinel:"boolean"==typeof b.charsetSentinel?b.charsetSentinel:ke.charsetSentinel,delimiter:typeof b.delimiter>"u"?ke.delimiter:b.delimiter,encode:"boolean"==typeof b.encode?b.encode:ke.encode,encoder:"function"==typeof b.encoder?b.encoder:ke.encoder,encodeValuesOnly:"boolean"==typeof b.encodeValuesOnly?b.encodeValuesOnly:ke.encodeValuesOnly,filter:V,formatter:U,serializeDate:"function"==typeof b.serializeDate?b.serializeDate:ke.serializeDate,skipNulls:"boolean"==typeof b.skipNulls?b.skipNulls:ke.skipNulls,sort:"function"==typeof b.sort?b.sort:null,strictNullHandling:"boolean"==typeof b.strictNullHandling?b.strictNullHandling:ke.strictNullHandling}}(b);"function"==typeof R.filter?O=(0,R.filter)("",O):H(R.filter)&&(U=R.filter);var ce=[];if("object"!=typeof O||null===O)return"";var ne=xe[b&&b.arrayFormat in xe?b.arrayFormat:b&&"indices"in b?b.indices?"indices":"repeat":"indices"];U||(U=Object.keys(O)),R.sort&&U.sort(R.sort);for(var Fe=0;Fe<U.length;++Fe){var st=U[Fe];R.skipNulls&&null===O[st]||je(ce,Ke(O[st],st,ne,R.strictNullHandling,R.skipNulls,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.formatter,R.encodeValuesOnly,R.charset))}var Tt=ce.join(R.delimiter),Kt=!0===R.addQueryPrefix?"?":"";return R.charsetSentinel&&(Kt+="iso-8859-1"===R.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),Tt.length>0?Kt+Tt:""}},800:gt=>{"use strict";var yt=Object.prototype.hasOwnProperty,Te=Array.isArray,me=function(){for(var Ke=[],B=0;B<256;++B)Ke.push("%"+((B<16?"0":"")+B.toString(16)).toUpperCase());return Ke}(),_n=function(B,L){for(var b=L&&L.plainObjects?Object.create(null):{},O=0;O<B.length;++O)typeof B[O]<"u"&&(b[O]=B[O]);return b};gt.exports={arrayToObject:_n,assign:function(B,L){return Object.keys(L).reduce(function(b,O){return b[O]=L[O],b},B)},combine:function(B,L){return[].concat(B,L)},compact:function(B){for(var L=[{obj:{o:B},prop:"o"}],b=[],O=0;O<L.length;++O)for(var R=L[O],U=R.obj[R.prop],V=Object.keys(U),ce=0;ce<V.length;++ce){var _e=V[ce],ne=U[_e];"object"==typeof ne&&null!==ne&&-1===b.indexOf(ne)&&(L.push({obj:U,prop:_e}),b.push(ne))}return function(B){for(;B.length>1;){var L=B.pop(),b=L.obj[L.prop];if(Te(b)){for(var O=[],R=0;R<b.length;++R)typeof b[R]<"u"&&O.push(b[R]);L.obj[L.prop]=O}}}(L),B},decode:function(Ke,B,L){var b=Ke.replace(/\+/g," ");if("iso-8859-1"===L)return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},encode:function(B,L,b){if(0===B.length)return B;var O=B;if("symbol"==typeof B?O=Symbol.prototype.toString.call(B):"string"!=typeof B&&(O=String(B)),"iso-8859-1"===b)return escape(O).replace(/%u[0-9a-f]{4}/gi,function(ce){return"%26%23"+parseInt(ce.slice(2),16)+"%3B"});for(var R="",U=0;U<O.length;++U){var V=O.charCodeAt(U);45===V||46===V||95===V||126===V||V>=48&&V<=57||V>=65&&V<=90||V>=97&&V<=122?R+=O.charAt(U):V<128?R+=me[V]:V<2048?R+=me[192|V>>6]+me[128|63&V]:V<55296||V>=57344?R+=me[224|V>>12]+me[128|V>>6&63]+me[128|63&V]:(V=65536+((1023&V)<<10|1023&O.charCodeAt(U+=1)),R+=me[240|V>>18]+me[128|V>>12&63]+me[128|V>>6&63]+me[128|63&V])}return R},isBuffer:function(B){return!(!B||"object"!=typeof B||!(B.constructor&&B.constructor.isBuffer&&B.constructor.isBuffer(B)))},isRegExp:function(B){return"[object RegExp]"===Object.prototype.toString.call(B)},merge:function Ke(B,L,b){if(!L)return B;if("object"!=typeof L){if(Te(B))B.push(L);else{if(!B||"object"!=typeof B)return[B,L];(b&&(b.plainObjects||b.allowPrototypes)||!yt.call(Object.prototype,L))&&(B[L]=!0)}return B}if(!B||"object"!=typeof B)return[B].concat(L);var O=B;return Te(B)&&!Te(L)&&(O=_n(B,b)),Te(B)&&Te(L)?(L.forEach(function(R,U){if(yt.call(B,U)){var V=B[U];V&&"object"==typeof V&&R&&"object"==typeof R?B[U]=Ke(V,R,b):B.push(R)}else B[U]=R}),B):Object.keys(L).reduce(function(R,U){var V=L[U];return R[U]=yt.call(R,U)?Ke(R[U],V,b):V,R},O)}}},296:(gt,yt,Te)=>{"use strict";var me={};Te.r(me),Te.d(me,{AwayNotify:()=>y9,Batch:()=>S9,CapNotify:()=>T9,ChgHost:()=>M9,InviteNotify:()=>N9,LabeledResponse:()=>I9,MessageTags:()=>A9,MultiPrefix:()=>O9});var mt={};Te.r(mt),Te.d(mt,{Away:()=>z9,CapabilityNegotiation:()=>Jo,ChannelInvite:()=>V9,ChannelJoin:()=>th,ChannelKick:()=>B9,ChannelList:()=>L9,ChannelPart:()=>nh,ClientQuit:()=>IA,ErrorMessage:()=>G9,IsOnQuery:()=>Z9,Kill:()=>U9,Mode:()=>P9,Names:()=>hy,NickChange:()=>eh,Notice:()=>py,OperLogin:()=>x9,Password:()=>MA,Ping:()=>my,Pong:()=>_y,PrivateMessage:()=>ih,Rehash:()=>W9,Restart:()=>q9,ServerQuit:()=>k9,TagMessage:()=>K9,Time:()=>j9,Topic:()=>F9,UserHostQuery:()=>Q9,UserRegistration:()=>NA,Wallops:()=>Y9,WhoIsQuery:()=>$9,WhoQuery:()=>gy,WhoWasQuery:()=>H9});var _n={};function xe(e,n,t,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,i)}function H(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(l){xe(o,r,i,s,a,"next",l)}function a(l){xe(o,r,i,s,a,"throw",l)}s(void 0)})}}Te.r(_n),Te.d(_n,{Error401NoSuchNick:()=>M7,Error402NoSuchServer:()=>N7,Error403NoSuchChannel:()=>I7,Error404CanNotSendToChan:()=>A7,Error405TooManyChannels:()=>O7,Error410InvalidCapCmd:()=>R7,Error421UnknownCommand:()=>x7,Error422NoMotd:()=>kA,Error431NoNickNameGiven:()=>k7,Error432ErroneusNickname:()=>P7,Error433NickNameInUse:()=>F7,Error436NickCollision:()=>L7,Error441UserNotInChannel:()=>V7,Error442NotOnChannel:()=>B7,Error443UserOnChannel:()=>j7,Error451NotRegistered:()=>$7,Error461NeedMoreParams:()=>H7,Error462AlreadyRegistered:()=>PA,Error471ChannelIsFull:()=>U7,Error472UnknownMode:()=>G7,Error473InviteOnlyChan:()=>z7,Error474BannedFromChan:()=>W7,Error475BadChannelKey:()=>q7,Error479BadChanName:()=>Y7,Error481NoPrivileges:()=>Q7,Error482ChanOpPrivsNeeded:()=>Z7,Error491NoOperHost:()=>K7,Error501UmodeUnknownFlag:()=>J7,Error502UsersDontMatch:()=>X7,Reply001Welcome:()=>AA,Reply002YourHost:()=>J9,Reply003Created:()=>X9,Reply004ServerInfo:()=>OA,Reply005Isupport:()=>RA,Reply221UmodeIs:()=>e7,Reply301Away:()=>t7,Reply302UserHost:()=>n7,Reply305UnAway:()=>r7,Reply306NowAway:()=>i7,Reply311WhoisUser:()=>o7,Reply315EndOfWho:()=>s7,Reply318EndOfWhois:()=>a7,Reply319WhoisChannels:()=>l7,Reply322List:()=>c7,Reply323ListEnd:()=>u7,Reply324ChannelModeIs:()=>d7,Reply331NoTopic:()=>f7,Reply332Topic:()=>h7,Reply333TopicWhoTime:()=>p7,Reply341Inviting:()=>g7,Reply348ExceptList:()=>m7,Reply349EndOfExceptList:()=>_7,Reply352WhoReply:()=>v7,Reply353NamesReply:()=>y7,Reply366EndOfNames:()=>b7,Reply367BanList:()=>D7,Reply368EndOfBanList:()=>C7,Reply372Motd:()=>w7,Reply375MotdStart:()=>E7,Reply376EndOfMotd:()=>xA,Reply381YoureOper:()=>S7,Reply391Time:()=>T7});let je=null,Fn=1;const ke=Symbol("SIGNAL");function Pe(e){const n=je;return je=e,n}function U(e){if((!ue(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Fn)){if(!e.producerMustRecompute(e)&&!st(e))return e.dirty=!1,void(e.lastCleanEpoch=Fn);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Fn}}function st(e){Zn(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(U(t),r!==t.version))return!0}return!1}function Rt(e,n){if(function Nr(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Zn(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Rt(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Zn(i),i.producerIndexOfThis[r]=n}}function ue(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Zn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Fa=null;function z(e){return"function"==typeof e}function xt(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ar=xt(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Or(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Mt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(z(r))try{r()}catch(o){n=o instanceof Ar?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{lo(o)}catch(s){n=n??[],s instanceof Ar?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ar(n)}}add(n){var t;if(n&&n!==this)if(this.closed)lo(n);else{if(n instanceof Mt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Or(t,n)}remove(n){const{_finalizers:t}=this;t&&Or(t,n),n instanceof Mt&&n._removeParent(this)}}Mt.EMPTY=(()=>{const e=new Mt;return e.closed=!0,e})();const os=Mt.EMPTY;function Sn(e){return e instanceof Mt||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function lo(e){z(e)?e():e.unsubscribe()}const Je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rr={setTimeout(e,n,...t){const{delegate:r}=Rr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Rr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Hc(e){Rr.setTimeout(()=>{const{onUnhandledError:n}=Je;if(!n)throw e;n(e)})}function co(){}const _h=vh("C",void 0,void 0);function vh(e,n,t){return{kind:e,value:n,error:t}}let uo=null;function Uc(e){if(Je.useDeprecatedSynchronousErrorHandling){const n=!uo;if(n&&(uo={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=uo;if(uo=null,t)throw r}}else e()}class yh extends Mt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Sn(n)&&n.add(this)):this.destination=cO}static create(n,t,r){return new Dh(n,t,r)}next(n){this.isStopped?Ch(function iO(e){return vh("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ch(function rO(e){return vh("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ch(_h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sO=Function.prototype.bind;function bh(e,n){return sO.call(e,n)}class aO{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Gc(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Gc(r)}else Gc(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Gc(t)}}}class Dh extends yh{constructor(n,t,r){let i;if(super(),z(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Je.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&bh(n.next,o),error:n.error&&bh(n.error,o),complete:n.complete&&bh(n.complete,o)}):i=n}this.destination=new aO(i)}}function Gc(e){Je.useDeprecatedSynchronousErrorHandling?function oO(e){Je.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=e)}(e):Hc(e)}function Ch(e,n){const{onStoppedNotification:t}=Je;t&&Rr.setTimeout(()=>t(e,n))}const cO={closed:!0,next:co,error:function lO(e){throw e},complete:co},wh="function"==typeof Symbol&&Symbol.observable||"@@observable";function si(e){return e}function Ny(e){return 0===e.length?si:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ft=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function fO(e){return e&&e instanceof yh||function dO(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}(e)&&Sn(e)}(t)?t:new Dh(t,r,i);return Uc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Iy(r))((i,o)=>{const s=new Dh({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[wh](){return this}pipe(...t){return Ny(t)(this)}toPromise(t){return new(t=Iy(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Iy(e){var n;return null!==(n=e??Je.Promise)&&void 0!==n?n:Promise}const hO=xt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class e extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ay(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hO}next(t){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?os:(this.currentObservers=null,o.push(t),new Mt(()=>{this.currentObservers=null,Or(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ft;return t.source=this,t}}return e.create=(n,t)=>new Ay(n,t),e})();class Ay extends lt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:os}}class Kn extends lt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Oy(e){return z(e?.lift)}function Nt(e){return n=>{if(Oy(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(e,n,t,r,i){return new pO(e,n,t,r,i)}class pO extends yh{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function De(e,n){return Nt((t,r)=>{let i=0;t.subscribe(ct(r,o=>{r.next(e.call(n,o,i++))}))})}const Ry="https://g.co/ng/security#xss";class E extends Error{constructor(n,t){super(function ss(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Eh(e){return n=>{setTimeout(e,void 0,n)}}const Q=class gO extends lt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Eh(o),i&&(i=Eh(i)),s&&(s=Eh(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof Mt&&n.add(a),a}};var ve=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ve||{});function kt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(kt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Sh(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}var Wc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wc||{}),lr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(lr||{});function ai(e){return{toString:e}.toString()}const Le=globalThis,xr={},Ce=[];function $e(e){for(let n in e)if(e[n]===$e)return n;throw Error("Could not find renamed property on target object.")}const Va=$e({\u0275cmp:$e}),Th=$e({\u0275dir:$e}),Mh=$e({\u0275pipe:$e}),Py=$e({\u0275mod:$e}),li=$e({\u0275fac:$e}),Ba=$e({__NG_ELEMENT_ID__:$e}),Fy=$e({__NG_ENV_ID__:$e});var Ve=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ve||{});function Ly(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Nh(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];By(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Vy(e){return 3===e||4===e||6===e}function By(e){return 64===e.charCodeAt(0)}function ja(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||jy(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function jy(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const $y="ng-template";function bO(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==Ly(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Hy(e){return 4===e.type&&e.value!==$y}function DO(e,n,t){return n===(4!==e.type||t?e.value:$y)}function CO(e,n,t){let r=4;const i=e.attrs||[],o=function SO(e){for(let n=0;n<e.length;n++)if(Vy(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!DO(e,l,t)||""===l&&1===n.length){if(cr(r))return!1;s=!0}}else{const c=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!bO(e.attrs,c,t)){if(cr(r))return!1;s=!0}continue}const d=wO(8&r?"class":l,i,Hy(e),t);if(-1===d){if(cr(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Ly(h,c,0)||2&r&&c!==f){if(cr(r))return!1;s=!0}}}}else{if(!s&&!cr(r)&&!cr(l))return!1;if(s&&cr(l))continue;s=!1,r=l|1&r}}return cr(r)||s}function cr(e){return 0==(1&e)}function wO(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function TO(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Uy(e,n,t=!1){for(let r=0;r<n.length;r++)if(CO(e,n[r],t))return!0;return!1}function MO(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Gy(e,n){return e?":not("+n.trim()+")":n}function NO(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!cr(s)&&(n+=Gy(o,i),i=""),r=s,o=o||!cr(r);t++}return""!==i&&(n+=Gy(o,i)),n}function Tn(e){return ai(()=>{const n=Wy(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||lr.Emulated,styles:e.styles||Ce,_:null,schemas:e.schemas||null,tView:null,id:""};qy(t);const r=e.dependencies;return t.directiveDefs=qc(r,!1),t.pipeDefs=qc(r,!0),t.id=function kO(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function OO(e){return he(e)||Pt(e)}function RO(e){return null!==e}function Xe(e){return ai(()=>({type:e.type,bootstrap:e.bootstrap||Ce,declarations:e.declarations||Ce,imports:e.imports||Ce,exports:e.exports||Ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zy(e,n){if(null==e)return xr;const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=Ve.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==Ve.None?[r,a]:r,n[o]=s):t[o]=r}return t}function F(e){return ai(()=>{const n=Wy(e);return qy(n),n})}function he(e){return e[Va]||null}function Pt(e){return e[Th]||null}function Jt(e){return e[Mh]||null}function ln(e,n){const t=e[Py]||null;if(!t&&!0===n)throw new Error(`Type ${kt(e)} does not have '\u0275mod' property.`);return t}function Wy(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||xr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ce,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zy(e.inputs,n),outputs:zy(e.outputs),debugInfo:null}}function qy(e){e.features?.forEach(n=>n(e))}function qc(e,n){if(!e)return null;const t=n?Jt:OO;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(RO)}const ht=0,x=1,W=2,bt=3,ur=4,cn=5,dr=6,as=7,et=8,Xt=9,ci=10,re=11,$a=12,Yy=13,ls=14,_t=15,Ha=16,cs=17,ui=18,Ua=19,Qy=20,xi=21,Yc=22,fo=23,ie=25,Ih=1,kr=7,us=9,Dt=10;var Ah=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ah||{});function un(e){return Array.isArray(e)&&"object"==typeof e[Ih]}function dn(e){return Array.isArray(e)&&!0===e[Ih]}function Oh(e){return 0!=(4&e.flags)}function ho(e){return e.componentOffset>-1}function Zc(e){return 1==(1&e.flags)}function fr(e){return!!e.template}function Rh(e){return 0!=(512&e[W])}let t0=!1;function ze(e){for(;Array.isArray(e);)e=e[ht];return e}function za(e,n){return ze(n[e])}function vn(e,n){return ze(n[e.index])}function Wa(e,n){return e.data[n]}function Bn(e,n){const t=n[e];return un(t)?t:t[ht]}function Fh(e){return 128==(128&e[W])}function Pr(e,n){return null==n?null:e[n]}function n0(e){e[cs]=0}function HO(e){1024&e[W]||(e[W]|=1024,Fh(e)&&qa(e))}function Lh(e){return!!(9216&e[W]||e[fo]?.dirty)}function Vh(e){Lh(e)?qa(e):64&e[W]&&(function VO(){return t0}()?(e[W]|=1024,qa(e)):e[ci].changeDetectionScheduler?.notify())}function qa(e){e[ci].changeDetectionScheduler?.notify();let n=po(e);for(;null!==n&&!(8192&n[W])&&(n[W]|=8192,Fh(n));)n=po(n)}function Kc(e,n){if(256==(256&e[W]))throw new E(911,!1);null===e[xi]&&(e[xi]=[]),e[xi].push(n)}function po(e){const n=e[bt];return dn(n)?n[bt]:n}const ee={lFrame:h0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function s0(){return ee.bindingsEnabled}function fs(){return null!==ee.skipHydrationRootTNode}function w(){return ee.lFrame.lView}function ye(){return ee.lFrame.tView}function He(){let e=a0();for(;null!==e&&64===e.type;)e=e.parent;return e}function a0(){return ee.lFrame.currentTNode}function Vr(e,n){const t=ee.lFrame;t.currentTNode=e,t.isParent=n}function jh(){return ee.lFrame.isParent}function $h(){ee.lFrame.isParent=!1}function hr(){return ee.lFrame.bindingIndex++}function fi(e){const n=ee.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function XO(e,n){const t=ee.lFrame;t.bindingIndex=t.bindingRootIndex=e,Hh(n)}function Hh(e){ee.lFrame.currentDirectiveIndex=e}function Gh(){return ee.lFrame.currentQueryIndex}function Jc(e){ee.lFrame.currentQueryIndex=e}function tR(e){const n=e[x];return 2===n.type?n.declTNode:1===n.type?e[cn]:null}function d0(e,n,t){if(t&ve.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&ve.Host||(i=tR(o),null===i||(o=o[ls],10&i.type))););if(null===i)return!1;n=i,e=o}const r=ee.lFrame=f0();return r.currentTNode=n,r.lView=e,!0}function zh(e){const n=f0(),t=e[x];ee.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function f0(){const e=ee.lFrame,n=null===e?null:e.child;return null===n?h0(e):n}function h0(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function p0(){const e=ee.lFrame;return ee.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const g0=p0;function Wh(){const e=p0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return ee.lFrame.selectedIndex}function go(e){ee.lFrame.selectedIndex=e}function tt(){const e=ee.lFrame;return Wa(e.tView,e.selectedIndex)}let _0=!0;function Xc(){return _0}function ki(e){_0=e}function aR(){return hs(He(),w())}function hs(e,n){return new Ue(vn(e,n))}let Zh,Ue=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=aR}return e})();function v0(e){return e instanceof Ue?e.nativeElement:e}function ps(e,n){e.forEach(t=>Array.isArray(t)?ps(t,n):n(t))}function y0(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function eu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function jn(e,n,t){let r=gs(e,n);return r>=0?e[1|r]=t:(r=~r,function b0(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Yh(e,n){const t=gs(e,n);if(t>=0)return e[1|t]}function gs(e,n){return function D0(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}function cR(){return this._results[Symbol.iterator]()}class Qh{static#e=Symbol.iterator;get changes(){return this._changes??=new Q}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Qh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=cR)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function Nn(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function lR(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function nu(e){return 128==(128&e.flags)}function Pi(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new E(210,!1)}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function qe(e){return{providers:e.providers||[],imports:e.imports||[]}}function iu(e){return E0(e,su)||E0(e,S0)}function E0(e,n){return e.hasOwnProperty(n)?e[n]:null}function ou(e){return e&&(e.hasOwnProperty(Kh)||e.hasOwnProperty(pR))?e[Kh]:null}const su=$e({\u0275prov:$e}),Kh=$e({\u0275inj:$e}),S0=$e({ngInjectableDef:$e}),pR=$e({ngInjectorDef:$e});class j{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const au=new j("",{providedIn:"root",factory:()=>gR}),gR="ng",T0=new j(""),mo=new j("",{providedIn:"platform",factory:()=>"unknown"}),M0=new j("",{providedIn:"root",factory:()=>Pi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),vR=$e({__forward_ref__:$e});function Be(e){return e.__forward_ref__=Be,e.toString=function(){return kt(this())},e}function J(e){return lu(e)?e():e}function lu(e){return"function"==typeof e&&e.hasOwnProperty(vR)&&e.__forward_ref__===Be}function np(e){return e&&!!e.\u0275providers}function oe(e){return"string"==typeof e?e:null==e?"":String(e)}function rp(e,n){throw new E(-201,!1)}let ip;function I0(){return ip}function In(e){const n=ip;return ip=e,n}function A0(e,n,t){const r=iu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ve.Optional?null:void 0!==n?n:void rp()}const Za={},op="__NG_DI_FLAG__",cu="ngTempTokenPath",ER=/\n/gm,O0="__source";let ms;function Fi(e){const n=ms;return ms=e,n}function MR(e,n=ve.Default){if(void 0===ms)throw new E(-203,!1);return null===ms?A0(e,void 0,n):ms.get(e,n&ve.Optional?null:void 0,n)}function te(e,n=ve.Default){return(I0()||MR)(J(e),n)}function y(e,n=ve.Default){return te(e,uu(n))}function uu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function sp(e){const n=[];for(let t=0;t<e.length;t++){const r=J(e[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){const a=r[s],l=NR(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(te(i,o))}else n.push(te(r))}return n}function Ka(e,n){return e[op]=n,e.prototype[op]=n,e}function NR(e){return e[op]}let x0=()=>null;function pp(e,n,t=!1){return x0(e,n,t)}const Ds="__parameters__";function ws(e,n,t){return ai(()=>{const r=function vp(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ds)?l[Ds]:Object.defineProperty(l,Ds,{value:[]})[Ds];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const mu=Ka(ws("Optional"),8),_u=Ka(ws("SkipSelf"),4);function _o(e,n){return e.hasOwnProperty(li)?e[li]:null}const vo=new j(""),B0=new j("",-1),yp=new j("");class vu{get(n,t=Za){if(t===Za){const r=new Error(`NullInjectorError: No provider for ${kt(n)}!`);throw r.name="NullInjectorError",r}return t}}function HR(...e){return{\u0275providers:Dp(0,e),\u0275fromNgModule:!0}}function Dp(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return ps(n,s=>{const a=s;yu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&j0(i,o),t}function j0(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Cp(i,o=>{n(o,r)})}}function yu(e,n,t,r){if(!(e=J(e)))return!1;let i=null,o=ou(e);const s=!o&&he(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=ou(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)yu(c,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{ps(o.imports,u=>{yu(u,n,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&j0(c,n)}if(!a){const c=_o(i)||(()=>new i);n({provide:i,useFactory:c,deps:Ce},i),n({provide:yp,useValue:i,multi:!0},i),n({provide:vo,useValue:()=>te(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;Cp(l,u=>{n(u,c)})}}}return i!==e&&void 0!==e.providers}function Cp(e,n){for(let t of e)np(t)&&(t=t.\u0275providers),Array.isArray(t)?Cp(t,n):n(t)}const UR=$e({provide:String,useValue:$e});function wp(e){return null!==e&&"object"==typeof e&&UR in e}function yo(e){return"function"==typeof e}const Ep=new j(""),bu={},zR={};let Sp;function Du(){return void 0===Sp&&(Sp=new vu),Sp}class bn{}class Es extends bn{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(n,s=>this.processProvider(s)),this.records.set(B0,Ss(void 0,this)),i.has("environment")&&this.records.set(bn,Ss(void 0,this));const o=this.records.get(Ep);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yp,Ce,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Fi(this),r=In(void 0);try{return n()}finally{Fi(t),In(r)}}get(n,t=Za,r=ve.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Fy))return n[Fy](this);r=uu(r);const o=Fi(this),s=In(void 0);try{if(!(r&ve.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function ZR(e){return"function"==typeof e||"object"==typeof e&&e instanceof j}(n)&&iu(n);l=c&&this.injectableDefInScope(c)?Ss(Tp(n),bu):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&ve.Self?Du():this.parent).get(n,t=r&ve.Optional&&t===Za?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[cu]=a[cu]||[]).unshift(kt(n)),o)throw a;return function IR(e,n,t,r){const i=e[cu];throw n[O0]&&i.unshift(n[O0]),e.message=function AR(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=kt(n);if(Array.isArray(n))i=n.map(kt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(ER,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[cu]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{In(s),Fi(o)}}resolveInjectorInitializers(){const n=Fi(this),t=In(void 0);try{const i=this.get(vo,Ce,ve.Self);for(const o of i)o()}finally{Fi(n),In(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(kt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(n){let t=yo(n=J(n))?n:J(n&&n.provide);const r=function qR(e){return wp(e)?Ss(void 0,e.useValue):Ss(function U0(e,n,t){let r;if(yo(e)){const i=J(e);return _o(i)||Tp(i)}if(wp(e))r=()=>J(e.useValue);else if(function H0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...sp(e.deps||[]));else if(function $0(e){return!(!e||!e.useExisting)}(e))r=()=>te(J(e.useExisting));else{const i=J(e&&(e.useClass||e.provide));if(!function YR(e){return!!e.deps}(e))return _o(i)||Tp(i);r=()=>new i(...sp(e.deps))}return r}(e),bu)}(n);if(!yo(n)&&!0===n.multi){let i=this.records.get(t);i||(i=Ss(void 0,bu,!0),i.factory=()=>sp(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===bu&&(t.value=zR,t.value=t.factory()),"object"==typeof t.value&&t.value&&function QR(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=J(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Tp(e){const n=iu(e),t=null!==n?n.factory:_o(e);if(null!==t)return t;if(e instanceof j)throw new E(204,!1);if(e instanceof Function)return function WR(e){if(e.length>0)throw new E(204,!1);const t=function hR(e){return e&&(e[su]||e[S0])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new E(204,!1)}function Ss(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Mp(e,n){for(const t of e)Array.isArray(t)?Mp(t,n):t&&np(t)?Mp(t.\u0275providers,n):n(t)}function bo(e,n){e instanceof Es&&e.assertNotDestroyed();const r=Fi(e),i=In(void 0);try{return n()}finally{Fi(r),In(i)}}class sx{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function z0(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function en(){return W0}function W0(e){return e.type.prototype.ngOnChanges&&(e.setInput=lx),ax}function ax(){const e=Y0(this),n=e?.current;if(n){const t=e.previous;if(t===xr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function lx(e,n,t,r,i){const o=this.declaredInputs[r],s=Y0(e)||function cx(e,n){return e[q0]=n}(e,{previous:xr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new sx(c&&c.currentValue,t,l===xr),z0(e,n,i,t)}en.ngInherit=!0;const q0="__ngSimpleChanges__";function Y0(e){return e[q0]||null}const Br=function(e,n,t){};function wu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function Eu(e,n,t){Q0(e,n,3,t)}function Su(e,n,t,r){(3&e[W])===t&&Q0(e,n,t,r)}function Ap(e,n){let t=e[W];(3&t)===n&&(t&=16383,t+=1,e[W]=t)}function Q0(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[cs]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[cs]+=65536),(a<o||-1==o)&&(fx(e,t,n,l),e[cs]=(4294901760&e[cs])+l+2),l++}function Z0(e,n){Br(4,e,n);const t=Pe(null);try{n.call(e)}finally{Pe(t),Br(5,e,n)}}function fx(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[W]>>14<e[cs]>>16&&(3&e[W])===n&&(e[W]+=16384,Z0(a,o)):Z0(a,o)}const Ms=-1;class rl{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Rp(e){return e!==Ms}function il(e){return 32767&e}function ol(e,n){let t=function _x(e){return e>>16}(e),r=n;for(;t>0;)r=r[ls],t--;return r}let xp=!0;function Tu(e){const n=xp;return xp=e,n}const K0=255,J0=5;let vx=0;const jr={};function Mu(e,n){const t=X0(e,n);if(-1!==t)return t;const r=n[x];r.firstCreatePass&&(e.injectorIndex=n.length,kp(r.data,e),kp(n,null),kp(r.blueprint,null));const i=Nu(e,n),o=e.injectorIndex;if(Rp(i)){const s=il(i),a=ol(i,n),l=a[x].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function kp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function X0(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Nu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=sb(i),null===r)return Ms;if(t++,i=i[ls],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ms}function Pp(e,n,t){!function yx(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(r=t[Ba]),null==r&&(r=t[Ba]=vx++);const i=r&K0;n.data[e+(i>>J0)]|=1<<i}(e,n,t)}function eb(e,n,t){if(t&ve.Optional||void 0!==e)return e;rp()}function tb(e,n,t,r){if(t&ve.Optional&&void 0===r&&(r=null),!(t&(ve.Self|ve.Host))){const i=e[Xt],o=In(void 0);try{return i?i.get(n,r,t&ve.Optional):A0(n,r,t&ve.Optional)}finally{In(o)}}return eb(r,0,t)}function nb(e,n,t,r=ve.Default,i){if(null!==e){if(2048&n[W]&&!(r&ve.Self)){const s=function Ex(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[W]&&!(512&s[W]);){const a=rb(o,s,t,r|ve.Self,jr);if(a!==jr)return a;let l=o.parent;if(!l){const c=s[Qy];if(c){const u=c.get(t,jr,r);if(u!==jr)return u}l=sb(s),s=s[ls]}o=l}return i}(e,n,t,r,jr);if(s!==jr)return s}const o=rb(e,n,t,r,jr);if(o!==jr)return o}return tb(n,t,r,i)}function rb(e,n,t,r,i){const o=function Cx(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ba)?e[Ba]:void 0;return"number"==typeof n?n>=0?n&K0:wx:n}(t);if("function"==typeof o){if(!d0(n,e,r))return r&ve.Host?eb(i,0,r):tb(n,t,r,i);try{let s;if(s=o(r),null!=s||r&ve.Optional)return s;rp()}finally{g0()}}else if("number"==typeof o){let s=null,a=X0(e,n),l=Ms,c=r&ve.Host?n[_t][cn]:null;for((-1===a||r&ve.SkipSelf)&&(l=-1===a?Nu(e,n):n[a+8],l!==Ms&&ob(r,!1)?(s=n[x],a=il(l),n=ol(l,n)):a=-1);-1!==a;){const u=n[x];if(ib(o,a,u.data)){const d=Dx(a,n,t,s,r,c);if(d!==jr)return d}l=n[a+8],l!==Ms&&ob(r,n[x].data[a+8]===c)&&ib(o,a,n)?(s=u,a=il(l),n=ol(l,n)):a=-1}}return i}function Dx(e,n,t,r,i,o){const s=n[x],a=s.data[e+8],u=Iu(a,s,t,null==r?ho(a)&&xp:r!=s&&0!=(3&a.type),i&ve.Host&&o===a);return null!==u?Do(n,s,u,a):jr}function Iu(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){const h=s[l];if(h&&fr(h)&&h.type===t)return l}return null}function Do(e,n,t,r){let i=e[t];const o=n.data;if(function hx(e){return e instanceof rl}(i)){const s=i;s.resolving&&function DR(e,n){throw n&&n.join(" > "),new E(-200,e)}(function Ae(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():oe(e)}(o[t]));const a=Tu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?In(s.injectImpl):null;d0(e,r,ve.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function dx(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=W0(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==c&&In(c),Tu(a),s.resolving=!1,g0()}}return i}function ib(e,n,t){return!!(t[n+(e>>J0)]&1<<e)}function ob(e,n){return!(e&ve.Self||e&ve.Host&&n)}class Lt{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return nb(this._tNode,this._lView,n,uu(r),t)}}function wx(){return new Lt(He(),w())}function nt(e){return ai(()=>{const n=e.prototype.constructor,t=n[li]||Fp(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[li]||Fp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fp(e){return lu(e)?()=>{const n=Fp(J(e));return n&&n()}:_o(e)}function sb(e){const n=e[x],t=n.type;return 2===t?n.declTNode:1===t?e[cn]:null}function db(e,n=null,t=null,r){const i=fb(e,n,t,r);return i.resolveInjectorInitializers(),i}function fb(e,n=null,t=null,r,i=new Set){const o=[t||Ce,HR(e)];return r=r||("object"==typeof e?void 0:kt(e)),new Es(o,n||Du(),r||null,i)}let Vt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Za;static#t=this.NULL=new vu;static create(t,r){if(Array.isArray(t))return db({name:""},r,t,"");{const i=t.name??"";return db({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=P({token:e,providedIn:"any",factory:()=>te(B0)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Vp(e){return e.ngOriginalError}class hi{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Vp(n);for(;t&&Vp(t);)t=Vp(t);return t||null}}const pb=new j("",{providedIn:"root",factory:()=>y(hi).handleError.bind(void 0)}),mb=new j("",{providedIn:"root",factory:()=>!1});let Ru,xu;function As(e){return function Bp(){if(void 0===Ru&&(Ru=null,Le.trustedTypes))try{Ru=Le.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ru}()?.createHTML(e)||e}function _b(e){return function jp(){if(void 0===xu&&(xu=null,Le.trustedTypes))try{xu=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return xu}()?.createHTML(e)||e}class bb{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ry})`}}function Li(e){return e instanceof bb?e.changingThisBreaksApplicationSecurity:e}class jx{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(As(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class $x{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=As(n),t}}const Ux=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pi(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function al(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Cb=pi("area,br,col,hr,img,wbr"),wb=pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Eb=pi("rp,rt"),Hp=al(Cb,al(wb,pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),al(Eb,pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),al(Eb,wb)),Up=pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sb=al(Up,pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gx=pi("script,style,template");class zx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!Hp.hasOwnProperty(t))return this.sanitizedSomething=!0,!Gx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!Sb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Up[a]&&(e=l,l=(e=String(e)).match(Ux)?e:"unsafe:"+e),this.buf.push(" ",s,'="',Tb(l),'"')}var e;return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();Hp.hasOwnProperty(t)&&!Cb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Tb(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const Wx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qx=/([^\#-~ |!])/g;function Tb(e){return e.replace(/&/g,"&amp;").replace(Wx,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qx,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ku;function Gp(e){return"content"in e&&function Qx(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Os=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Os||{});function Mb(e){const n=function ll(){const e=w();return e&&e[ci].sanitizer}();return n?_b(n.sanitize(Os.HTML,e)||""):function sl(e,n){const t=function Bx(e){return e instanceof bb&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Ry})`)}return t===n}(e,"HTML")?_b(Li(e)):function Yx(e,n){let t=null;try{ku=ku||function Db(e){const n=new $x(e);return function Hx(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch{return!1}}()?new jx(n):n}(e);let r=n?String(n):"";t=ku.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=ku.getInertBodyElement(r)}while(r!==o);return As((new zx).sanitizeChildren(Gp(t)||t))}finally{if(t){const r=Gp(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Pi(),oe(e))}const tk=/^>|^->|<!--|-->|--!>|<!-$/g,nk=/(<|>)/g,rk="\u200b$1\u200b";const zp=new Map;let lk=0;const qp="__ngContext__";function hn(e,n){un(n)?(e[qp]=n[Ua],function uk(e){zp.set(e[Ua],e)}(n)):e[qp]=n}function $n(e){return e instanceof Function?e():e}var Bi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bi||{});let Kp;function Jp(e,n){return Kp(e,n)}function xs(e,n,t,r,i){if(null!=r){let o,s=!1;dn(r)?o=r:un(r)&&(s=!0,r=r[ht]);const a=ze(r);0===e&&null!==t?null==i?Qb(n,t,a):wo(n,t,a,i||null,!0):1===e&&null!==t?wo(n,t,a,i||null,!0):2===e?function Hu(e,n,t){const r=ju(e,n);r&&function Rk(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function Pk(e,n,t,r,i){const o=t[kr];o!==ze(t)&&xs(n,e,r,o,i);for(let a=Dt;a<t.length;a++){const l=t[a];Uu(l[x],l,e,n,r,o)}}(n,e,o,t,i)}}function Xp(e,n){return e.createComment(function Ob(e){return e.replace(tk,n=>n.replace(nk,rk))}(n))}function Vu(e,n,t){return e.createElement(n,t)}function Wb(e,n){Uu(e,n,n[re],2,null,null)}function qb(e,n){const t=e[us],r=t.indexOf(n);t.splice(r,1)}function ul(e,n){if(e.length<=Dt)return;const t=Dt+n,r=e[t];if(r){const i=r[Ha];null!==i&&i!==e&&qb(i,r),n>0&&(e[t-1][ur]=r[ur]);const o=eu(e,Dt+n);!function Sk(e,n){Wb(e,n),n[ht]=null,n[cn]=null}(r[x],r);const s=o[ui];null!==s&&s.detachView(o[x]),r[bt]=null,r[ur]=null,r[W]&=-129}return r}function Bu(e,n){if(!(256&n[W])){const t=n[re];t.destroyNode&&Uu(e,n,t,3,null,null),function Mk(e){let n=e[$a];if(!n)return eg(e[x],e);for(;n;){let t=null;if(un(n))t=n[$a];else{const r=n[Dt];r&&(t=r)}if(!t){for(;n&&!n[ur]&&n!==e;)un(n)&&eg(n[x],n),n=n[bt];null===n&&(n=e),un(n)&&eg(n[x],n),t=n&&n[ur]}n=t}}(n)}}function eg(e,n){if(!(256&n[W])){n[W]&=-129,n[W]|=256,n[fo]&&function Tt(e){if(Zn(e),ue(e))for(let n=0;n<e.producerNode.length;n++)Rt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[fo]),function Ok(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof rl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Br(4,a,l);try{l.call(a)}finally{Br(5,a,l)}}else{Br(4,i,o);try{o.call(i)}finally{Br(5,i,o)}}}}}(e,n),function Ak(e,n){const t=e.cleanup,r=n[as];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[as]=null);const i=n[xi];if(null!==i){n[xi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[x].type&&n[re].destroy();const t=n[Ha];if(null!==t&&dn(n[bt])){t!==n[bt]&&qb(t,n);const r=n[ui];null!==r&&r.detachView(e)}!function dk(e){zp.delete(e[Ua])}(n)}}function tg(e,n,t){return function Yb(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[ht];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===lr.None||o===lr.Emulated)return null}return vn(r,t)}}(e,n.parent,t)}function wo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Qb(e,n,t){e.appendChild(n,t)}function Zb(e,n,t,r,i){null!==r?wo(e,n,t,r,i):Qb(e,n,t)}function ju(e,n){return e.parentNode(n)}function Kb(e,n,t){return Xb(e,n,t)}let ng,Xb=function Jb(e,n,t){return 40&e.type?vn(e,t):null};function $u(e,n,t,r){const i=tg(e,r,n),o=n[re],a=Kb(r.parent||n[cn],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Zb(o,i,t[l],a,!1);else Zb(o,i,t,a,!1);void 0!==ng&&ng(o,r,n,t,i)}function dl(e,n){if(null!==n){const t=n.type;if(3&t)return vn(n,e);if(4&t)return rg(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return dl(e,r);{const i=e[n.index];return dn(i)?rg(-1,i):ze(i)}}if(32&t)return Jp(n,e)()||ze(e[n.index]);{const r=tD(e,n);return null!==r?Array.isArray(r)?r[0]:dl(po(e[_t]),r):dl(e,n.next)}}return null}function tD(e,n){return null!==n?e[_t][cn].projection[n.projection]:null}function rg(e,n){const t=Dt+e+1;if(t<n.length){const r=n[t],i=r[x].firstChild;if(null!==i)return dl(r,i)}return n[kr]}function ig(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&hn(ze(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)ig(e,n,t.child,r,i,o,!1),xs(n,e,i,a,o);else if(32&l){const c=Jp(t,r);let u;for(;u=c();)xs(n,e,i,u,o);xs(n,e,i,a,o)}else 16&l?rD(e,n,r,t,i,o):xs(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Uu(e,n,t,r,i,o){ig(t,r,e.firstChild,n,i,o,!1)}function rD(e,n,t,r,i,o){const s=t[_t],l=s[cn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)xs(n,e,i,l[c],o);else{let c=l;const u=s[bt];nu(r)&&(c.flags|=128),ig(e,n,c,u,i,o,!0)}}function iD(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function oD(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Nh(e,n,r),null!==i&&iD(e,n,i),null!==o&&function Lk(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}const ae={};function Y(e=1){sD(ye(),w(),fn()+e,!1)}function sD(e,n,t,r){if(!r)if(3==(3&n[W])){const o=e.preOrderCheckHooks;null!==o&&Eu(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Su(n,o,0,t)}go(t)}function I(e,n=ve.Default){const t=w();return null===t?te(e,n):nb(He(),t,J(e),n)}function lD(e,n,t,r,i,o){const s=Pe(null);try{let a=null;i&Ve.SignalBased&&(a=n[r][ke]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Ve.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),null!==e.setInput?e.setInput(n,a,o,t,r):z0(n,a,r,o)}finally{Pe(s)}}function Gu(e,n,t,r,i,o,s,a,l,c,u){const d=n.blueprint.slice();return d[ht]=i,d[W]=204|r,(null!==c||e&&2048&e[W])&&(d[W]|=2048),n0(d),d[bt]=d[ls]=e,d[et]=t,d[ci]=s||e&&e[ci],d[re]=a||e&&e[re],d[Xt]=l||e&&e[Xt]||null,d[cn]=o,d[Ua]=function ck(){return lk++}(),d[dr]=u,d[Qy]=c,d[_t]=2==n.type?e[_t]:d,d}function ks(e,n,t,r,i){let o=e.data[n];if(null===o)o=function og(e,n,t,r,i){const o=a0(),s=jh(),l=e.data[n]=function zk(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return fs()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function JO(){return ee.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ya(){const e=ee.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Vr(o,!0),o}function fl(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function cD(e,n,t,r,i){const o=fn(),s=2&r;try{go(-1),s&&n.length>ie&&sD(e,n,ie,!1),Br(s?2:0,i),t(r,i)}finally{go(o),Br(s?3:1,i)}}function sg(e,n,t){if(Oh(n)){const r=Pe(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Pe(r)}}}function ag(e,n,t){s0()&&(function Jk(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;ho(t)&&function oP(e,n,t){const r=vn(n,e),i=uD(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=zu(e,Gu(e,i,null,s,r,n,null,e[ci].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Mu(t,n),hn(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=Do(n,e,a,t);hn(c,n),null!==s&&sP(0,a-i,c,l,0,s),fr(l)&&(Bn(t.index,n)[et]=Do(n,e,a,t))}}(e,n,t,vn(t,n)),64==(64&t.flags)&&gD(e,n,t))}function lg(e,n,t=vn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function uD(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=cg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function cg(e,n,t,r,i,o,s,a,l,c,u){const d=ie+r,f=d+i,h=function Bk(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ae);return t}(d,f),p="function"==typeof c?c():c;return h[x]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let dD=()=>null;function fD(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;r??={};let a,l=Ve.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===e?hD(r,t,c,a,l):hD(r,t,c,a)}return r}function hD(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],void 0!==i&&o.push(i)}function ug(e,n,t,r){if(s0()){const i=null===r?null:{"":-1},o=function eP(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Uy(n,s.selectors,!1))if(r||(r=[]),fr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),dg(e,n,a.length)}else r.unshift(s),dg(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&pD(e,n,t,s,i,a),i&&function tP(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new E(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=ja(t.mergedAttrs,t.attrs)}function pD(e,n,t,r,i,o){for(let c=0;c<r.length;c++)Pp(Mu(t,n),e,r[c].type);!function rP(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=fl(e,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=ja(t.mergedAttrs,u.hostAttrs),iP(e,t,n,l,u),nP(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function Wk(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<i;u++){const d=o[u],f=t?t.get(d):null,p=f?f.outputs:null;l=fD(0,d.inputs,u,l,f?f.inputs:null),c=fD(1,d.outputs,u,c,p);const g=null===l||null===s||Hy(n)?null:aP(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(e,t,o)}function gD(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function eR(){return ee.lFrame.currentDirectiveIndex}();try{go(o);for(let a=r;a<i;a++){const l=e.data[a],c=n[a];Hh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Xk(l,c)}}finally{go(-1),Hh(s)}}function Xk(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function dg(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function nP(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;fr(n)&&(t[""]=e)}}function iP(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=_o(i.type)),s=new rl(o,fr(i),I);e.blueprint[r]=s,t[r]=s,function Zk(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function Kk(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,fl(e,t,i.hostVars,ae),i)}function $r(e,n,t,r,i,o){const s=vn(e,n);!function fg(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?oe(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[re],s,o,e.value,t,r,i)}function sP(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)lD(r,t,s[a++],s[a++],s[a++],s[a++])}function aP(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function mD(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function _D(e,n){const t=e.contentQueries;if(null!==t){const r=Pe(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=e.data[s];Jc(t[i]),a.contentQueries(2,n[s],s)}}}finally{Pe(r)}}}function zu(e,n){return e[$a]?e[Yy][ur]=n:e[$a]=n,e[Yy]=n,n}function hg(e,n,t){Jc(0);const r=Pe(null);try{n(e,t)}finally{Pe(r)}}function pg(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=t[o++];lD(e.data[s],n[s],r,a,l,i)}}function lP(e,n){const t=Bn(n,e),r=t[x];!function cP(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[ht];null!==i&&null===t[dr]&&(t[dr]=pp(i,t[Xt])),gg(r,t,t[et])}function gg(e,n,t){zh(n);try{const r=e.viewQuery;null!==r&&hg(1,r,t);const i=e.template;null!==i&&cD(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ui]?.finishViewCreation(e),e.staticContentQueries&&_D(e,n),e.staticViewQueries&&hg(2,e.viewQuery,t);const o=e.components;null!==o&&function uP(e,n){for(let t=0;t<n.length;t++)lP(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[W]&=-5,Wh()}}function Ps(e,n){return!n||null===n.firstChild||nu(e)}function pl(e,n,t,r=!0){const i=n[x];if(function Nk(e,n,t,r){const i=Dt+r,o=t.length;r>0&&(t[i-1][ur]=n),r<o-Dt?(n[ur]=t[i],y0(t,Dt+r,n)):(t.push(n),n[ur]=null),n[bt]=t;const s=n[Ha];null!==s&&t!==s&&function Ik(e,n){const t=e[us];n[_t]!==n[bt][bt][_t]&&(e[W]|=Ah.HasTransplantedViews),null===t?e[us]=[n]:t.push(n)}(s,n);const a=n[ui];null!==a&&a.insertView(e),Vh(n),n[W]|=128}(i,n,e,t),r){const s=rg(t,e),a=n[re],l=ju(a,e[kr]);null!==l&&function Tk(e,n,t,r,i,o){r[ht]=i,r[cn]=n,Uu(e,r,t,1,i,o)}(i,e[cn],a,n,l,s)}const o=n[dr];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function gl(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(ze(o)),dn(o)&&CD(o,r);const s=t.type;if(8&s)gl(e,n,t.child,r);else if(32&s){const a=Jp(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=tD(n,t);if(Array.isArray(a))r.push(...a);else{const l=po(n[_t]);gl(l[x],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function CD(e,n){for(let t=Dt;t<e.length;t++){const r=e[t],i=r[x].firstChild;null!==i&&gl(r[x],r,i,n)}e[kr]!==e[ht]&&n.push(e[kr])}let wD=[];const pP={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qa(e.lView)},consumerOnSignalRead(){this.lView[fo]=this}};function ED(e){return TD(e[$a])}function SD(e){return TD(e[ur])}function TD(e){for(;null!==e&&!dn(e);)e=e[ur];return e}function qu(e,n=!0,t=0){const r=e[ci],i=r.rendererFactory;i.begin?.();try{!function _P(e,n){_g(e,n);let t=0;for(;Lh(e);){if(100===t)throw new E(103,!1);t++,_g(e,1)}}(e,t)}catch(s){throw n&&function Wu(e,n){const t=e[Xt],r=t?t.get(hi,null):null;r&&r.handleError(n)}(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function vP(e,n,t,r){const i=n[W];if(256==(256&i))return;n[ci].inlineEffectRunner?.flush(),zh(n);let s=null,a=null;(function yP(e){return 2!==e.type})(e)&&(a=function dP(e){return e[fo]??function fP(e){const n=wD.pop()??Object.create(pP);return n.lView=e,n}(e)}(n),s=function ne(e){return e&&(e.nextProducerIndex=0),Pe(e)}(a));try{n0(n),function c0(e){return ee.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&cD(e,n,t,2,r);const l=3==(3&i);if(l){const d=e.preOrderCheckHooks;null!==d&&Eu(n,d,null)}else{const d=e.preOrderHooks;null!==d&&Su(n,d,0,null),Ap(n,0)}if(function bP(e){for(let n=ED(e);null!==n;n=SD(n)){if(!(n[W]&Ah.HasTransplantedViews))continue;const t=n[us];for(let r=0;r<t.length;r++){HO(t[r])}}}(n),ND(n,0),null!==e.contentQueries&&_D(e,n),l){const d=e.contentCheckHooks;null!==d&&Eu(n,d)}else{const d=e.contentHooks;null!==d&&Su(n,d,1),Ap(n,1)}!function Vk(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)go(~i);else{const o=i,s=t[++r],a=t[++r];XO(s,o),a(2,n[o])}}}finally{go(-1)}}(e,n);const c=e.components;null!==c&&AD(n,c,0);const u=e.viewQuery;if(null!==u&&hg(2,u,r),l){const d=e.viewCheckHooks;null!==d&&Eu(n,d)}else{const d=e.viewHooks;null!==d&&Su(n,d,2),Ap(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Yc]){for(const d of n[Yc])d();n[Yc]=null}n[W]&=-73}catch(l){throw qa(n),l}finally{null!==a&&(function Fe(e,n){if(Pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ue(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Rt(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function hP(e){e.lView[fo]!==e&&(e.lView=null,wD.push(e))}(a)),Wh()}}function ND(e,n){for(let t=ED(e);null!==t;t=SD(t))for(let r=Dt;r<t.length;r++)ID(t[r],n)}function DP(e,n,t){ID(Bn(n,e),t)}function ID(e,n){Fh(e)&&_g(e,n)}function _g(e,n){const r=e[x],i=e[W],o=e[fo];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!o?.dirty||!st(o)),o&&(o.dirty=!1),e[W]&=-9217,s)vP(r,e,r.template,e[et]);else if(8192&i){ND(e,1);const a=r.components;null!==a&&AD(e,a,1)}}function AD(e,n,t){for(let r=0;r<n.length;r++)DP(e,n[r],t)}function ml(e){for(e[ci].changeDetectionScheduler?.notify();e;){e[W]|=64;const n=po(e);if(Rh(e)&&!n)return e;e=n}return null}class _l{get rootNodes(){const n=this._lView,t=n[x];return gl(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(n){this._lView[et]=n}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[bt];if(dn(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(ul(n,r),eu(t,r))}this._attachedToViewContainer=!1}Bu(this._lView[x],this._lView)}onDestroy(n){Kc(this._lView,n)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){Vh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,qu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Wb(this._lView[x],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n,Vh(this._lView)}}let It=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=EP}return e})();const CP=It,wP=class extends CP{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function hl(e,n,t,r){const i=n.tView,a=Gu(e,i,t,4096&e[W]?4096:16,null,n,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Ha]=e[n.index];const c=e[ui];return null!==c&&(a[ui]=c.createEmbeddedView(i)),gg(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,dehydratedView:r});return new _l(i)}};function EP(){return Yu(He(),w())}function Yu(e,n){return 4&e.type?new wP(n,e,hs(e,n)):null}class LD{}class WP{}class VD{}class YP{resolveComponentFactory(n){throw function qP(e){const n=Error(`No component factory found for ${kt(e)}.`);return n.ngComponent=e,n}(n)}}let Xu=(()=>{class e{static#e=this.NULL=new YP}return e})();class jD{}let mi=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function QP(){const e=w(),t=Bn(He().index,e);return(un(t)?t:e)[re]}()}return e})(),ZP=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>null})}return e})();const wg={},HD=new Set;function Hr(e){HD.has(e)||(HD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function ed(e){return!!function Eg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class zD{constructor(){}supports(n){return ed(n)}create(n){return new nF(n)}}const tF=(e,n)=>n;class nF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||tF}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<qD(r,i,o)?t:r,a=qD(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ed(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function eF(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new rF(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new WD),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rF{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class WD{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new iF,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qD(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function QD(){return new Sg([new zD])}let Sg=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:QD});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||QD()),deps:[[e,new _u,new mu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return e})(),pr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=lF}return e})();function lF(e){return function cF(e,n,t){if(ho(e)&&!t){const r=Bn(e.index,n);return new _l(r,r)}return 47&e.type?new _l(n[_t],n):null}(He(),w(),16==(16&e))}let ji=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=hF;static#t=this.__NG_ENV_ID__=t=>t}return e})();class fF extends ji{constructor(n){super(),this._lView=n}onDestroy(n){return Kc(this._lView,n),()=>function Bh(e,n){if(null===e[xi])return;const t=e[xi].indexOf(n);-1!==t&&e[xi].splice(t,1)}(this._lView,n)}}function hF(){return new fF(w())}function KD(...e){}class ge{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yF(){const e="function"==typeof Le.requestAnimationFrame;let n=Le[e?"requestAnimationFrame":"setTimeout"],t=Le[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function CF(e){const n=()=>{!function DF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Le,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Mg(e),e.isCheckStableRunning=!0,Tg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Mg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function wF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return JD(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),XD(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return JD(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),XD(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Mg(e),Tg(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,bF,KD,KD);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const bF={};function Tg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Mg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function JD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XD(e){e._nesting--,Tg(e)}class eC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}var Eo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Eo||{});const tC={destroy(){}};function nC(e,n){!n&&function tl(e){if(!I0()&&!function TR(){return ms}())throw new E(-203,!1)}();const t=n?.injector??y(Vt);if(!function Vi(e){return"browser"===(e??y(Vt)).get(mo)}(t))return tC;Hr("NgAfterNextRender");const r=t.get(Cl),i=r.handler??=new iC,o=n?.phase??Eo.MixedReadWrite,s=()=>{i.unregister(l),a()},a=t.get(ji).onDestroy(s),l=new rC(t,o,()=>{s(),e()});return i.register(l),{destroy:s}}class rC{constructor(n,t,r){this.phase=t,this.callbackFn=r,this.zone=n.get(ge),this.errorHandler=n.get(hi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class iC{constructor(){this.executingCallbacks=!1,this.buckets={[Eo.EarlyRead]:new Set,[Eo.Write]:new Set,[Eo.MixedReadWrite]:new Set,[Eo.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const t of n)t.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Cl=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();function rd(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Sh(i,a):2==o&&(r=Sh(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}class aC extends Xu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=he(n);return new Sl(t,this.ngModule)}}function lC(e){const n=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];void 0!==r&&n.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return n}class IF{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=uu(r);const i=this.injector.get(n,wg,r);return i!==wg||t===wg?i:this.parentInjector.get(n,t,r)}}class Sl extends VD{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=lC(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return lC(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function IO(e){return e.map(NO).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof bn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new IF(n,o):n,a=s.get(jD,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(ZP,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Cl,null),changeDetectionScheduler:s.get(LD,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function jk(e,n,t,r){const o=r.get(mb,!1)||t===lr.ShadowDom,s=e.selectRootElement(n,o);return function $k(e){dD(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Vu(f,h,function NF(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h));let g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let m=null;null!==p&&(m=pp(p,s,!0));const v=cg(0,null,null,1,0,null,null,null,null,null,null),_=Gu(null,v,null,g,null,null,d,f,s,null,m);let T,M;zh(_);try{const A=this.componentDef;let $,le=null;A.findHostDirectiveDefs?($=[],le=new Map,A.findHostDirectiveDefs(A,$,le),$.push(A)):$=[A];const Se=function OF(e,n){const t=e[x],r=ie;return e[r]=n,ks(t,r,2,"#host",null)}(_,p),vt=function RF(e,n,t,r,i,o,s){const a=i[x];!function xF(e,n,t,r){for(const i of e)n.mergedAttrs=ja(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(rd(n,n.mergedAttrs,!0),null!==t&&oD(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=pp(n,i[Xt]));const c=o.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Gu(i,uD(t),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&dg(a,e,r.length-1),zu(i,d),i[e.index]=d}(Se,p,A,$,_,d,f);M=Wa(v,ie),p&&function PF(e,n,t,r){if(r)Nh(e,t,["ng-version","17.2.3"]);else{const{attrs:i,classes:o}=function AO(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!cr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Nh(e,t,i),o&&o.length>0&&iD(e,t,o.join(" "))}}(f,A,p,r),void 0!==t&&function FF(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(M,this.ngContentSelectors,t),T=function kF(e,n,t,r,i,o){const s=He(),a=i[x],l=vn(s,i);pD(a,i,s,t,null,r);for(let u=0;u<t.length;u++)hn(Do(i,a,s.directiveStart+u,s),i);gD(a,i,s),l&&hn(l,i);const c=Do(i,a,s.directiveStart+s.componentOffset,s);if(e[et]=i[et]=c,null!==o)for(const u of o)u(c,n);return sg(a,s,i),c}(vt,A,$,le,_,[LF]),gg(v,_,null)}finally{Wh()}return new AF(this.componentType,T,hs(M,_),_,M)}}class AF extends WP{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _l(i,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;pg(o[x],o,i,n,t),this.previousInputValues.set(n,t),ml(Bn(this._tNode.index,o))}}get injector(){return new Lt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function LF(){const e=He();wu(w()[x],e)}let Hn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=VF}return e})();function VF(){return dC(He(),w())}const BF=Hn,cC=class extends BF{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new Lt(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nu(this._hostTNode,this._hostLView);if(Rp(n)){const t=ol(n,this._hostLView),r=il(n);return new Lt(t[x].data[r+8],t)}return new Lt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=uC(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,Ps(this._hostTNode,null)),a}createComponent(n,t,r,i,o){const s=n&&!function nl(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?n:new Sl(he(n)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(bn,null);g&&(o=g)}he(l.componentType??{});const h=l.create(c,i,null,o);return this.insertImpl(h.hostView,a,Ps(this._hostTNode,null)),h}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const i=n._lView;if(function $O(e){return dn(e[bt])}(i)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=i[bt],c=new cC(l,l[cn],l[bt]);c.detach(c.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return pl(s,i,o,r),n.attachToViewContainerRef(),y0(Og(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=uC(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ul(this._lContainer,t);r&&(eu(Og(this._lContainer),t),Bu(r[x],r))}detach(n){const t=this._adjustIndex(n,-1),r=ul(this._lContainer,t);return r&&null!=eu(Og(this._lContainer),t)?new _l(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function uC(e){return e[8]}function Og(e){return e[8]||(e[8]=[])}function dC(e,n){let t;const r=n[e.index];return dn(r)?t=r:(t=mD(r,n,null,e),n[e.index]=t,zu(n,t)),fC(t,n,e,r),new cC(t,e,n)}let fC=function pC(e,n,t,r){if(e[kr])return;let i;i=8&t.type?ze(r):function jF(e,n){const t=e[re],r=t.createComment(""),i=vn(n,e);return wo(t,ju(t,i),r,function xk(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[kr]=i},Rg=()=>!1;class xg{constructor(n){this.queryList=n,this.matches=null}clone(){return new xg(this.queryList)}setDirty(){this.queryList.setDirty()}}class kg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new kg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Bg(n,t).matches&&this.queries[t].setDirty()}}class gC{constructor(n,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof n?function YF(e){return e.split(",").map(n=>n.trim())}(n):n}}class Pg{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Pg(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fg{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Fg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,GF(t,o)),this.matchTNodeWithReadOption(n,t,Iu(t,n,o,!1,!1))}else r===It?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Iu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ue||i===Hn||i===It&&4&t.type)this.addMatch(t.index,-2);else{const o=Iu(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function GF(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function WF(e,n,t,r){return-1===t?function zF(e,n){return 11&e.type?hs(e,n):4&e.type?Yu(e,n):null}(n,e):-2===t?function qF(e,n,t){return t===Ue?hs(n,e):t===It?Yu(n,e):t===Hn?dC(n,e):void 0}(e,n,r):Do(e,e[x],t,n)}function mC(e,n,t,r){const i=n[ui].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:WF(n,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function Lg(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=mC(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=n[-l];for(let d=Dt;d<u.length;d++){const f=u[d];f[Ha]===f[bt]&&Lg(f[x],f,c,r)}if(null!==u[us]){const d=u[us];for(let f=0;f<d.length;f++){const h=d[f];Lg(h[x],h,c,r)}}}}}return r}function _C(e,n,t){const r=new Qh(4==(4&t));return function Gk(e,n,t,r){const i=function vD(e){return e[as]||(e[as]=[])}(n);i.push(t),e.firstCreatePass&&function yD(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)}(e,n,r,r.destroy),(n[ui]??=new kg).queries.push(new xg(r))-1}function vC(e,n,t){const r=ye();return r.firstCreatePass&&(function bC(e,n,t){null===e.queries&&(e.queries=new Pg),e.queries.track(new Fg(n,t))}(r,new gC(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),_C(r,w(),n)}function Bg(e,n){return e.queries.getByIndex(n)}function DC(e,n){const t=e[x],r=Bg(t,n);return r.crossesNgTemplate?Lg(t,e,n,[]):mC(t,e,r,n)}class So{}class LC{}class Hg extends So{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aC(this);const i=ln(n);this._bootstrapComponents=$n(i.bootstrap),this._r3Injector=fb(n,t,[{provide:So,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver},...r],kt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ug extends LC{constructor(n){super(),this.moduleType=n}create(n){return new Hg(this.moduleType,n,[])}}class VC extends So{constructor(n){super(),this.componentFactoryResolver=new aC(this),this.instance=null;const t=new Es([...n.providers,{provide:So,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],n.parent||Du(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function sd(e,n,t=null){return new VC({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let Ml=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ct(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ne(e,n,t,r,i,o,s,a){const l=w(),c=ye(),u=e+ie,d=c.firstCreatePass?function v2(e,n,t,r,i,o,s,a,l){const c=n.consts,u=ks(n,e,4,s||null,Pr(c,a));ug(n,t,u,Pr(c,l)),wu(n,u);const d=u.tView=cg(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,r,i,o,s):c.data[u];Vr(d,!1);const f=BC(c,l,d,e);Xc()&&$u(c,l,f,d),hn(f,l);const h=mD(f,l,f,d);return l[u]=h,zu(l,h),function hC(e,n,t){return Rg(e,n,t)}(h,d,l),Zc(d)&&ag(c,l,d),null!=s&&lg(l,d,a),Ne}let BC=function jC(e,n,t,r){return ki(!0),n[re].createComment("")};function Ye(e,n,t,r){const i=w();return Ct(i,hr(),n)&&(ye(),$r(tt(),i,e,n,t,r)),Ye}function zs(e,n,t,r){return Ct(e,hr(),t)?n+oe(t)+r:ae}function pd(e,n){return e<<17|n<<2}function Gi(e){return e>>17&32767}function Xg(e){return 2|e}function No(e){return(131068&e)>>2}function em(e,n){return-131069&e|n<<2}function tm(e){return 1|e}function _w(e,n,t,r){const i=e[t+1],o=null===n;let s=r?Gi(i):No(i),a=!1;for(;0!==s&&(!1===a||o);){const c=e[s+1];nL(e[s],n)&&(a=!0,e[s+1]=r?tm(c):Xg(c)),s=r?Gi(c):No(c)}a&&(e[t+1]=r?Xg(i):tm(i))}function nL(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&gs(e,n)>=0}const Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vw(e){return e.substring(Bt.key,Bt.keyEnd)}function rL(e){return e.substring(Bt.value,Bt.valueEnd)}function yw(e,n){const t=Bt.textEnd;return t===n?-1:(n=Bt.keyEnd=function sL(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Bt.key=n,t),Xs(e,n,t))}function bw(e,n){const t=Bt.textEnd;let r=Bt.key=Xs(e,n,t);return t===r?-1:(r=Bt.keyEnd=function aL(e,n,t){let r;for(;n<t&&(45===(r=e.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(e,r,t),r=Cw(e,r,t),r=Bt.value=Xs(e,r,t),r=Bt.valueEnd=function lL(e,n,t){let r=-1,i=-1,o=-1,s=n,a=s;for(;s<t;){const l=e.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=ww(e,l,s,t):n===s-4&&85===o&&82===i&&76===r&&40===l?a=s=ww(e,41,s,t):l>32&&(a=s),o=i,i=r,r=-33&l}return a}(e,r,t),Cw(e,r,t))}function Dw(e){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=e.length}function Xs(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Cw(e,n,t,r){return(n=Xs(e,n,t))<t&&n++,n}function ww(e,n,t,r){let i=-1,o=t;for(;o<r;){const s=e.charCodeAt(o++);if(s==n&&92!==i)return o;i=92==s&&92===i?0:s}throw new Error}function Ge(e,n,t){const r=w();return Ct(r,hr(),n)&&function On(e,n,t,r,i,o,s,a){const l=vn(n,t);let u,c=n.inputs;!a&&null!=c&&(u=c[r])?(pg(e,t,u,r,i),ho(n)&&function Yk(e,n){const t=Bn(n,e);16&t[W]||(t[W]|=64)}(t,n.index)):3&n.type&&(r=function qk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}(ye(),tt(),r,e,n,r[re],t,!1),Ge}function nm(e,n,t,r,i){const s=i?"class":"style";pg(e,t,n.inputs[s],s,r)}function we(e,n){return function gr(e,n,t,r){const i=w(),o=ye(),s=fi(2);o.firstUpdatePass&&Tw(o,e,s,r),n!==ae&&Ct(i,s,n)&&Nw(o,o.data[fn()],i,i[re],e,i[s+1]=function _L(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=kt(Li(e)))),e}(n,t),r,s)}(e,n,null,!0),we}function cL(e,n){for(let t=function oL(e){return Dw(e),bw(e,Xs(e,0,Bt.textEnd))}(n);t>=0;t=bw(n,t))Mw(e,vw(n),rL(n))}function Rl(e){mr(gL,zr,e,!0)}function zr(e,n){for(let t=function iL(e){return Dw(e),yw(e,Xs(e,0,Bt.textEnd))}(n);t>=0;t=yw(n,t))jn(e,vw(n),!0)}function mr(e,n,t,r){const i=ye(),o=fi(2);i.firstUpdatePass&&Tw(i,null,o,r);const s=w();if(t!==ae&&Ct(s,o,t)){const a=i.data[fn()];if(Aw(a,r)&&!Sw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Sh(l,t||"")),nm(i,a,s,t,r)}else!function mL(e,n,t,r,i,o,s,a){i===ae&&(i=Ce);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&Nw(e,n,t,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[re],s[o+1],s[o+1]=function pL(e,n,t){if(null==t||""===t)return Ce;const r=[],i=Li(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}function Sw(e,n){return n>=e.expandoStartIndex}function Tw(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[fn()],s=Sw(e,t);Aw(o,r)&&null===n&&!s&&(n=!1),n=function uL(e,n,t,r){const i=function Uh(e){const n=ee.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=xl(t=rm(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=rm(i,e,n,t,r),null===o){let l=function dL(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==No(r))return e[Gi(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=rm(null,e,n,l[1],r),l=xl(l,n.attrs,r),function fL(e,n,t,r){e[Gi(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function hL(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=xl(r,e[o].hostAttrs,t);return xl(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function eL(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Gi(s),l=No(s);e[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||gs(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const f=Gi(e[a+1]);e[r+1]=pd(f,a),0!==f&&(e[f+1]=em(e[f+1],r)),e[a+1]=function J2(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=pd(a,0),0!==a&&(e[a+1]=em(e[a+1],r)),a=r;else e[r+1]=pd(l,0),0===a?a=r:e[l+1]=em(e[l+1],r),l=r;c&&(e[r+1]=Xg(e[r+1])),_w(e,u,r,!0),_w(e,u,r,!1),function tL(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&gs(o,n)>=0&&(t[r+1]=tm(t[r+1]))}(n,u,e,r,o),s=pd(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function rm(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=xl(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function xl(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),jn(e,s,!!t||n[++o]))}return void 0===e?null:e}function Mw(e,n,t){jn(e,n,Li(t))}function gL(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&jn(e,r,t)}function Nw(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,c=l[a+1],u=function X2(e){return 1==(1&e)}(c)?Iw(l,n,t,i,No(c),s):void 0;gd(u)||(gd(o)||function K2(e){return 2==(2&e)}(c)&&(o=Iw(l,null,t,i,a,s)),function Fk(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Bi.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bi.Important),e.setStyle(t,r,i,o))}}(r,s,za(fn(),t),i,o))}function Iw(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=t[i+1];f===ae&&(f=d?Ce:void 0);let h=d?Yh(f,r):u===r?f:void 0;if(c&&!gd(h)&&(h=Yh(l,r)),gd(h)&&(a=h,s))return a;const p=e[i+1];i=s?Gi(p):No(p)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Yh(l,r))}return a}function gd(e){return void 0!==e}function Aw(e,n){return 0!=(e.flags&(n?8:16))}function md(e,n,t){mr(jn,zr,zs(w(),e,n,t),!0)}function pe(e,n,t,r){const i=w(),o=ye(),s=ie+e,a=i[re],l=o.firstCreatePass?function PL(e,n,t,r,i,o){const s=n.consts,l=ks(n,e,2,r,Pr(s,i));return ug(n,t,l,Pr(s,o)),null!==l.attrs&&rd(l,l.attrs,!1),null!==l.mergedAttrs&&rd(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],c=kw(o,i,l,a,n,e);i[s]=c;const u=Zc(l);return Vr(l,!0),oD(a,c,l),32!=(32&l.flags)&&Xc()&&$u(o,i,c,l),0===function UO(){return ee.lFrame.elementDepthCount}()&&hn(c,i),function GO(){ee.lFrame.elementDepthCount++}(),u&&(ag(o,i,l),sg(o,l,i)),null!==r&&lg(i,l),pe}function fe(){let e=He();jh()?$h():(e=e.parent,Vr(e,!1));const n=e;(function WO(e){return ee.skipHydrationRootTNode===e})(n)&&function ZO(){ee.skipHydrationRootTNode=null}(),function zO(){ee.lFrame.elementDepthCount--}();const t=ye();return t.firstCreatePass&&(wu(t,e),Oh(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function gx(e){return 0!=(8&e.flags)}(n)&&nm(t,n,w(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function mx(e){return 0!=(16&e.flags)}(n)&&nm(t,n,w(),n.stylesWithoutHost,!1),fe}function Xn(e,n,t,r){return pe(e,n,t,r),fe(),Xn}let kw=(e,n,t,r,i,o)=>(ki(!0),Vu(r,i,function m0(){return ee.lFrame.currentNamespace}()));function _d(e,n,t){const r=w(),i=ye(),o=e+ie,s=i.firstCreatePass?function VL(e,n,t,r,i){const o=n.consts,s=Pr(o,r),a=ks(n,e,8,"ng-container",s);return null!==s&&rd(a,s,!0),ug(n,t,a,Pr(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];Vr(s,!0);const a=Fw(i,r,s,e);return r[o]=a,Xc()&&$u(i,r,a,s),hn(a,r),Zc(s)&&(ag(i,r,s),sg(i,s,r)),null!=t&&lg(r,s),_d}function vd(){let e=He();const n=ye();return jh()?$h():(e=e.parent,Vr(e,!1)),n.firstCreatePass&&(wu(n,e),Oh(e)&&n.queries.elementEnd(e)),vd}let Fw=(e,n,t,r)=>(ki(!0),Xp(n[re],""));const ta="en-US";let jw=ta;function se(e=1){return function nR(e){return(ee.lFrame.contextLView=function r0(e,n){for(;e>0;)n=n[ls],e--;return n}(e,ee.lFrame.contextLView))[et]}(e)}function LV(e,n){let t=null;const r=function EO(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?Uy(e,o,!0):MO(r,o))return i}else t=i}return t}function dt(){return function Vg(e,n){return e[ui].queries[n].queryList}(w(),Gh())}function S1(e,n,t){!function Gr(e){mr(Mw,cL,e,!1)}(zs(w(),e,n,t))}function Gn(e,n=""){const t=w(),r=ye(),i=e+ie,o=r.firstCreatePass?ks(r,i,1,n,null):r.data[i],s=P1(r,t,o,n,e);t[i]=s,Xc()&&$u(r,t,s,o),Vr(o,!1)}let P1=(e,n,t,r,i)=>(ki(!0),function Lu(e,n){return e.createText(n)}(n[re],r));function Qr(e){return na("",e,""),Qr}function na(e,n,t){const r=w(),i=zs(r,e,n,t);return i!==ae&&function gi(e,n,t){const r=za(n,e);!function zb(e,n,t){e.setValue(n,t)}(e[re],r,t)}(r,fn(),i),na}let rB=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Dp(0,t.type),i=r.length>0?sd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(te(bn))})}return e})();function _r(e){Hr("NgStandalone"),e.getStandaloneInjector=n=>n.get(rB).getOrCreateStandaloneInjector(e)}function ra(e,n,t,r){return function tE(e,n,t,r,i,o){const s=n+t;return Ct(e,s,i)?function Ur(e,n,t){return e[n]=t}(e,s+1,o?r.call(o,i):r(i)):function jl(e,n){const t=e[n];return t===ae?void 0:t}(e,s+1)}(w(),function yn(){const e=ee.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,t,r)}let DE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const TE=new j(""),Md=new j("");let Sm,wm=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Sm||(function yj(e){Sm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(te(ge),te(Em),te(Md))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Em=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Sm?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function zl(e){return!!e&&"function"==typeof e.then}function ME(e){return!!e&&"function"==typeof e.subscribe}const Tm=new j("");let Mm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(Tm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(zl(o))t.push(o);else if(ME(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Nm=new j("");function AE(e,n){return Array.isArray(n)?n.reduce(AE,e):{...e,...n}}let yi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(pb),this.afterRenderEffectManager=y(Cl),this.componentTypes=[],this.components=[],this.isStable=y(Ml).hasPendingTasks.pipe(De(t=>!t)),this._injector=y(bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof VD;if(!this._injector.get(Mm).done)throw!i&&function Ri(e){const n=he(e)||Pt(e)||Jt(e);return null!==n&&n.standalone}(t),new E(405,!1);let s;s=i?t:this._injector.get(Xu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function bj(e){return e.isBoundToModule}(s)?void 0:this._injector.get(So),c=s.create(Vt.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(TE,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Nd(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const r=this.afterRenderEffectManager;for(;;){if(100===t)throw new E(103,!1);const i=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!Im(o)||this.detectChangesInView(o,s,i);if(t++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Im(o))&&(r.execute(),!this._views.some(({_lView:o})=>Im(o))))break}}detectChangesInView(t,r,i){let o;i?(o=0,t[W]|=1024):o=64&t[W]?0:1,qu(t,r,o)}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Nd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Nm,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Nd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function Im(e){return Lh(e)}class Cj{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let OE=(()=>{class e{compileModuleSync(t){return new Ug(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=$n(ln(t).declarations).reduce((s,a)=>{const l=he(a);return l&&s.push(new Sl(l)),s},[]);return new Cj(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sj=(()=>{class e{constructor(){this.zone=y(ge),this.applicationRef=y(yi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tj(){const e=y(ge),n=y(hi);return t=>e.runOutsideAngular(()=>n.handleError(t))}let Nj=(()=>{class e{constructor(){this.subscription=new Mt,this.initialized=!1,this.zone=y(ge),this.pendingTasks=y(Ml)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Kr=new j("",{providedIn:"root",factory:()=>y(Kr,ve.Optional|ve.SkipSelf)||function Ij(){return typeof $localize<"u"&&$localize.locale||ta}()}),Am=new j("");let PE=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function EF(e="zone.js",n){return"noop"===e?new eC:"zone.js"===e?new ge(n):e}(r?.ngZone,function kE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function g2(e,n,t){return new Hg(e,n,t)}(t.moduleType,this.injector,function xE(e){return[{provide:ge,useFactory:e},{provide:vo,multi:!0,useFactory:()=>{const n=y(Sj,{optional:!0});return()=>n.initialize()}},{provide:vo,multi:!0,useFactory:()=>{const n=y(Nj);return()=>{n.initialize()}}},{provide:pb,useFactory:Tj}]}(()=>i)),s=o.injector.get(hi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Nd(this._modules,o),a.unsubscribe()})}),function IE(e,n,t){try{const r=t();return zl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Mm);return a.runInitializers(),a.donePromise.then(()=>(function $w(e){"string"==typeof e&&(jw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Kr,ta)||ta),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=AE({},r);return function Ej(e,n,t){const r=new Ug(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(yi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Am,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(te(Vt))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),zi=null;const FE=new j("");function LE(e,n,t=[]){const r=`Platform: ${n}`,i=new j(r);return(o=[])=>{let s=Om();if(!s||s.injector.get(FE,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function Rj(e){if(zi&&!zi.get(FE,!1))throw new E(400,!1);(function NE(){!function Ty(e){Fa=e}(()=>{throw new E(600,!1)})})(),zi=e;const n=e.get(PE);(function BE(e){e.get(T0,null)?.forEach(t=>t())})(e)}(function VE(e=[],n){return Vt.create({name:n,providers:[{provide:Ep,useValue:"platform"},{provide:Am,useValue:new Set([()=>zi=null])},...e]})}(a,r))}return function xj(e){const n=Om();if(!n)throw new E(401,!1);return n}()}}function Om(){return zi?.get(PE)??null}const Vj=LE(null,"core",[]);let Bj=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(te(yi))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();function Vm(e,n){const t=he(e),r=n.elementInjector||Du();return new Sl(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}let uS=null;function Wi(){return uS}class m${}const Ht=new j("");let Bm=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(v$),providedIn:"platform"})}return e})();const _$=new j("");let v$=(()=>{class e extends Bm{constructor(){super(),this._doc=y(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wi().getBaseHref(this._doc)}onPopState(t){const r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function jm(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function dS(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function bi(e){return e&&"?"!==e[0]?"?"+e:e}let Ro=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(hS),providedIn:"root"})}return e})();const fS=new j("");let hS=(()=>{class e extends Ro{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+bi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+bi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+bi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(te(Bm),te(fS,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y$=(()=>{class e extends Ro{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+bi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+bi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(te(Bm),te(fS,8))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Yl=(()=>{class e{constructor(t){this._subject=new Q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function C$(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(dS(pS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bi(r))}normalize(t){return e.stripTrailingSlash(function D$(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,pS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=bi;static#t=this.joinWithSlash=jm;static#n=this.stripTrailingSlash=dS;static#r=this.\u0275fac=function(r){return new(r||e)(te(Ro))};static#i=this.\u0275prov=P({token:e,factory:()=>function b$(){return new Yl(te(Ro))}(),providedIn:"root"})}return e})();function pS(e){return e.replace(/\/index.html$/,"")}const Km=/\s+/,SS=[];let TS=(()=>{class e{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=SS,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Km):SS}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Km):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Km).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ue),I(mi))};static#t=this.\u0275dir=F({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ve.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class oH{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let NS=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new oH(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),IS(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{IS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(Hn),I(It),I(Sg))};static#t=this.\u0275dir=F({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function IS(e,n){e.context.$implicit=n.item}let AS=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new sH,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(Hn),I(It))};static#t=this.\u0275dir=F({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class sH{constructor(){this.$implicit=null,this.ngIf=null}}function OS(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${kt(n)}'.`)}let kH=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();const kS="browser";function PS(e){return"server"===e}let BH=(()=>{class e{static#e=this.\u0275prov=P({token:e,providedIn:"root",factory:()=>function VH(e){return e===kS}(y(mo))?new jH(y(Ht),window):new HH})}return e})();class jH{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function $H(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class HH{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class _U extends m${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class r_ extends _U{static makeCurrent(){!function g$(e){uS??=e}(new r_)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function vU(){return Xl=Xl||document.querySelector("base"),Xl?Xl.getAttribute("href"):null}();return null==t?null:function yU(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function rH(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Xl=null,DU=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const i_=new j("");let GS=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(te(i_),te(ge))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class zS{constructor(n){this._doc=n}}const o_="ng-app-id";let WS=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=PS(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${o_}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(o_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(o_,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(te(Ht),te(au),te(M0,8),te(mo))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const s_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},a_=/%COMP%/g,SU=new j("",{providedIn:"root",factory:()=>!0});function YS(e,n){return n.map(t=>t.replace(a_,e))}let QS=(()=>{class e{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=PS(a),this.defaultRenderer=new l_(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===lr.ShadowDom&&(r={...r,encapsulation:lr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof KS?i.applyToHost(t):i instanceof c_&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case lr.Emulated:o=new KS(l,c,r,this.appId,u,s,a,d);break;case lr.ShadowDom:return new IU(l,c,t,r,s,a,this.nonce,d);default:o=new c_(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(te(GS),te(WS),te(au),te(SU),te(Ht),te(mo),te(ge),te(M0))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();class l_{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(s_[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ZS(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ZS(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=s_[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=s_[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Bi.DashCase|Bi.Important)?n.style.setProperty(t,r,i&Bi.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Bi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Wi().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function ZS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class IU extends l_{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=YS(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class c_ extends l_{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?YS(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KS extends c_{constructor(n,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(n,t,r,o,s,a,l,c),this.contentAttr=function TU(e){return"_ngcontent-%COMP%".replace(a_,e)}(c),this.hostAttr=function MU(e){return"_nghost-%COMP%".replace(a_,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let AU=(()=>{class e extends zS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(te(Ht))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const JS=["alt","control","meta","shift"],OU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let xU=(()=>{class e extends zS{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JS.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=OU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),JS.forEach(s=>{s!==i&&(0,RU[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(te(Ht))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();const LU=LE(Vj,"browser",[{provide:mo,useValue:kS},{provide:T0,useValue:function kU(){r_.makeCurrent()},multi:!0},{provide:Ht,useFactory:function FU(){return function dR(e){Zh=e}(document),document},deps:[]}]),VU=new j(""),tT=[{provide:Md,useClass:class bU{addToWindow(n){Le.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},Le.getAllAngularTestabilities=()=>n.getAllTestabilities(),Le.getAllAngularRootElements=()=>n.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Wi().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:TE,useClass:wm,deps:[ge,Em,Md]},{provide:wm,useClass:wm,deps:[ge,Em,Md]}],nT=[{provide:Ep,useValue:"root"},{provide:hi,useFactory:function PU(){return new hi},deps:[]},{provide:i_,useClass:AU,multi:!0,deps:[Ht,ge,mo]},{provide:i_,useClass:xU,multi:!0,deps:[Ht]},QS,WS,GS,{provide:jD,useExisting:QS},{provide:class UH{},useClass:DU,deps:[]},[]];let BU=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:au,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(te(VU,12))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({providers:[...nT,...tT],imports:[kH,Bj]})}return e})(),jU=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(te(Ht))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u_=function(e,n){return(u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function ca(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}u_(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var xo=function(){return xo=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},xo.apply(this,arguments)};function pn(e,n,t,r){var s,i=arguments.length,o=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(n,t,o):s(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function wi(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function Ei(e,n){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){t=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(6===c[0]&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(u){c=[6,u],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function Zd(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,s,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function ko(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function qi(e){return this instanceof qi?(this.v=e,this):new qi(e)}"function"==typeof SuppressedError&&SuppressedError;const f_=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function lT(e){return z(e?.then)}function cT(e){return z(e[wh])}function uT(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function dT(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fT=function l3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hT(e){return z(e?.[fT])}function pT(e){return function sT(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof qi?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield qi(t.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{t.releaseLock()}})}function gT(e){return z(e?.getReader)}function tn(e){if(e instanceof ft)return e;if(null!=e){if(cT(e))return function c3(e){return new ft(n=>{const t=e[wh]();if(z(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(f_(e))return function u3(e){return new ft(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(lT(e))return function d3(e){return new ft(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Hc)})}(e);if(uT(e))return mT(e);if(hT(e))return function f3(e){return new ft(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(gT(e))return function h3(e){return mT(pT(e))}(e)}throw dT(e)}function mT(e){return new ft(n=>{(function p3(e,n){var t,r,i,o;return wi(this,void 0,void 0,function*(){try{for(t=function aT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Zd(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Ti(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function _T(e,n=0){return Nt((t,r)=>{t.subscribe(ct(r,i=>Ti(r,e,()=>r.next(i),n),()=>Ti(r,e,()=>r.complete(),n),i=>Ti(r,e,()=>r.error(i),n)))})}function vT(e,n=0){return Nt((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function yT(e,n){if(!e)throw new Error("Iterable cannot be null");return new ft(t=>{Ti(t,n,()=>{const r=e[Symbol.asyncIterator]();Ti(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ut(e,n){return n?function b3(e,n){if(null!=e){if(cT(e))return function g3(e,n){return tn(e).pipe(vT(n),_T(n))}(e,n);if(f_(e))return function _3(e,n){return new ft(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(lT(e))return function m3(e,n){return tn(e).pipe(vT(n),_T(n))}(e,n);if(uT(e))return yT(e,n);if(hT(e))return function v3(e,n){return new ft(t=>{let r;return Ti(t,n,()=>{r=e[fT](),Ti(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}(e,n);if(gT(e))return function y3(e,n){return yT(pT(e),n)}(e,n)}throw dT(e)}(e,n):tn(e)}function bT(e){return e&&z(e.schedule)}function h_(e){return e[e.length-1]}function Kd(e){return z(h_(e))?e.pop():void 0}function tc(e){return bT(h_(e))?e.pop():void 0}function X(...e){return Ut(e,tc(e))}const{isArray:C3}=Array,{getPrototypeOf:w3,prototype:E3,keys:S3}=Object;const{isArray:M3}=Array;function p_(e){return De(n=>function N3(e,n){return M3(n)?e(...n):e(n)}(e,n))}function g_(...e){const n=tc(e),t=Kd(e),{args:r,keys:i}=function DT(e){if(1===e.length){const n=e[0];if(C3(n))return{args:n,keys:null};if(function T3(e){return e&&"object"==typeof e&&w3(e)===E3}(n)){const t=S3(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return Ut([],n);const o=new ft(function I3(e,n,t=si){return r=>{wT(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)wT(n,()=>{const c=Ut(e[l],n);let u=!1;c.subscribe(ct(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function CT(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):si));return t?o.pipe(p_(t)):o}function wT(e,n,t){e?Ti(t,e,n):n()}const Jd=xt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Yt(e,n,t=1/0){return z(n)?Yt((r,i)=>De((o,s)=>n(r,o,i,s))(tn(e(r,i))),t):("number"==typeof n&&(t=n),Nt((r,i)=>function A3(e,n,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&n.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&n.next(g),c++;let m=!1;tn(t(g,u++)).subscribe(ct(n,v=>{i?.(v),o?h(v):n.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();s?Ti(n,s,()=>p(v)):p(v)}f()}catch(v){n.error(v)}}))};return e.subscribe(ct(n,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,t)))}function ua(e=1/0){return Yt(si,e)}function nc(...e){return function O3(){return ua(1)}()(Ut(e,tc(e)))}function ET(e){return new ft(n=>{tn(e()).subscribe(n)})}function Xd(e,n){const t=z(e)?e:()=>e,r=i=>i.error(t());return new ft(n?i=>n.schedule(r,0,i):r)}const rr=new ft(e=>e.complete());function m_(){return Nt((e,n)=>{let t=null;e._refCount++;const r=ct(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class ST extends ft{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Oy(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Mt;const t=this.getSubject();n.add(this.source.subscribe(ct(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Mt.EMPTY)}return n}refCount(){return m_()(this)}}function br(e,n){return Nt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(ct(r,l=>{i?.unsubscribe();let c=0;const u=o++;tn(e(l,u)).subscribe(i=ct(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gn(e){return e<=0?()=>rr:Nt((n,t)=>{let r=0;n.subscribe(ct(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Qt(e,n){return Nt((t,r)=>{let i=0;t.subscribe(ct(r,o=>e.call(n,o,i++)&&r.next(o)))})}function ef(e){return Nt((n,t)=>{let r=!1;n.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function MT(e=x3){return Nt((n,t)=>{let r=!1;n.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function x3(){return new Jd}function Po(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Qt((i,o)=>e(i,o,r)):si,gn(1),t?ef(n):MT(()=>new Jd))}function rc(e,n){return z(n)?Yt(e,n,1):Yt(e,1)}function Zt(e,n,t){const r=z(e)||n||t?{next:e,error:n,complete:t}:e;return r?Nt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ct(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):si}function Fo(e){return Nt((n,t)=>{let o,r=null,i=!1;r=n.subscribe(ct(t,void 0,void 0,s=>{o=tn(e(s,Fo(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function __(e){return e<=0?()=>rr:Nt((n,t)=>{let r=[];n.subscribe(ct(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function v_(e){return Nt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function nn(e){return Nt((n,t)=>{tn(e).subscribe(ct(t,()=>t.complete(),co)),!t.closed&&n.subscribe(t)})}const de="primary",ic=Symbol("RouteTitle");class L3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(e){return new L3(e)}function V3(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Jr(e,n){const t=e?y_(e):void 0,r=n?y_(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!IT(e[i],n[i]))return!1;return!0}function y_(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function IT(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function AT(e){return e.length>0?e[e.length-1]:null}function Yi(e){return function GU(e){return!!e&&(e instanceof ft||z(e.lift)&&z(e.subscribe))}(e)?e:zl(e)?Ut(Promise.resolve(e)):X(e)}const j3={exact:function xT(e,n,t){if(!Lo(e.segments,n.segments)||!tf(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!xT(e.children[r],n.children[r],t))return!1;return!0},subset:kT},OT={exact:function $3(e,n){return Jr(e,n)},subset:function H3(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>IT(e[t],n[t]))},ignored:()=>!0};function RT(e,n,t){return j3[t.paths](e.root,n.root,t.matrixParams)&&OT[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function kT(e,n,t){return PT(e,n,n.segments,t)}function PT(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Lo(i,t)||n.hasChildren()||!tf(i,t,r))}if(e.segments.length===t.length){if(!Lo(e.segments,t)||!tf(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!kT(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(Lo(e.segments,i)&&tf(e.segments,i,r)&&e.children[de])&&PT(e.children[de],n,o,r)}}function tf(e,n,t){return n.every((r,i)=>OT[t](e[i].parameters,r.parameters))}class fa{constructor(n=new We([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return z3.serialize(this)}}class We{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nf(this)}}class oc{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=da(this.parameters),this._parameterMap}toString(){return VT(this)}}function Lo(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let ha=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>new b_,providedIn:"root"})}return e})();class b_{parse(n){const t=new nG(n);return new fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${sc(n.root,!0)}`,r=function Y3(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rf(t)}=${rf(i)}`).join("&"):`${rf(t)}=${rf(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function W3(e){return encodeURI(e)}(n.fragment)}`:""}`}}const z3=new b_;function nf(e){return e.segments.map(n=>VT(n)).join("/")}function sc(e,n){if(!e.hasChildren())return nf(e);if(n){const t=e.children[de]?sc(e.children[de],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function G3(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===de&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==de&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===de?[sc(e.children[de],!1)]:[`${i}:${sc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[de]?`${nf(e)}/${t[0]}`:`${nf(e)}/(${t.join("//")})`}}function FT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rf(e){return FT(e).replace(/%3B/gi,";")}function D_(e){return FT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sf(e){return decodeURIComponent(e)}function LT(e){return sf(e.replace(/\+/g,"%20"))}function VT(e){return`${D_(e.path)}${function q3(e){return Object.entries(e).map(([n,t])=>`;${D_(n)}=${D_(t)}`).join("")}(e.parameters)}`}const Q3=/^[^\/()?;#]+/;function C_(e){const n=e.match(Q3);return n?n[0]:""}const Z3=/^[^\/()?;=#]+/,J3=/^[^=?&#]+/,eG=/^[^&#]+/;class nG{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[de]=new We(n,t)),r}parseSegment(){const n=C_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new oc(sf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function K3(e){const n=e.match(Z3);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=C_(this.remaining);i&&(r=i,this.capture(r))}n[sf(t)]=sf(r)}parseQueryParam(n){const t=function X3(e){const n=e.match(J3);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function tG(e){const n=e.match(eG);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=LT(t),o=LT(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=C_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=de);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[de]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}}function BT(e){return e.segments.length>0?new We([],{[de]:e}):e}function jT(e){const n={};for(const[r,i]of Object.entries(e.children)){const o=jT(i);if(r===de&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function rG(e){if(1===e.numberOfChildren&&e.children[de]){const n=e.children[de];return new We(e.segments.concat(n.segments),n.children)}return e}(new We(e.segments,n))}function pa(e){return e instanceof fa}function $T(e){let n;const i=BT(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new We(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function HT(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return w_(i,i,i,t,r);const o=function oG(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GT(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new GT(t,n,r)}(n);if(o.toRoot())return w_(i,i,new We([],{}),t,r);const s=function sG(e,n,t){if(e.isAbsolute)return new lf(n,!0,0);if(!t)return new lf(n,!1,NaN);if(null===t.parent)return new lf(t,!0,0);const r=af(e.commands[0])?0:1;return function aG(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new lf(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?lc(s.segmentGroup,s.index,o.commands):zT(s.segmentGroup,s.index,o.commands);return w_(i,s.segmentGroup,a,t,r)}function af(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ac(e){return"object"==typeof e&&null!=e&&e.outlets}function w_(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===n?t:UT(e,n,t);const a=BT(jT(s));return new fa(a,o,i)}function UT(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:UT(o,n,t)}),new We(e.segments,r)}class GT{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&af(r[0]))throw new E(4003,!1);const i=r.find(ac);if(i&&i!==AT(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lf{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function zT(e,n,t){if(e??=new We([],{}),0===e.segments.length&&e.hasChildren())return lc(e,n,t);const r=function cG(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(ac(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!qT(l,c,s))return o;r+=2}else{if(!qT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new We(e.segments.slice(0,r.pathIndex),{});return o.children[de]=new We(e.segments.slice(r.pathIndex),e.children),lc(o,0,i)}return r.match&&0===i.length?new We(e.segments,{}):r.match&&!e.hasChildren()?E_(e,n,t):r.match?lc(e,0,i):E_(e,n,t)}function lc(e,n,t){if(0===t.length)return new We(e.segments,{});{const r=function lG(e){return ac(e[0])?e[0].outlets:{[de]:e}}(t),i={};if(Object.keys(r).some(o=>o!==de)&&e.children[de]&&1===e.numberOfChildren&&0===e.children[de].segments.length){const o=lc(e.children[de],n,t);return new We(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=zT(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new We(e.segments,i)}}function E_(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(ac(o)){const l=uG(o.outlets);return new We(r,l)}if(0===i&&af(t[0])){r.push(new oc(e.segments[n].path,WT(t[0]))),i++;continue}const s=ac(o)?o.outlets[de]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&af(a)?(r.push(new oc(s,WT(a))),i+=2):(r.push(new oc(s,{})),i++)}return new We(r,{})}function uG(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=E_(new We([],{}),0,r))}),n}function WT(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function qT(e,n,t){return e==t.path&&Jr(n,t.parameters)}const cc="imperative";var be=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(be||{});class Xr{constructor(n,t){this.id=n,this.url=t}}class cf extends Xr{constructor(n,t,r="imperative",i=null){super(n,t),this.type=be.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends Xr{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ir=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ir||{}),uf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(uf||{});class ga extends Xr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ma extends Xr{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=be.NavigationSkipped}}class df extends Xr{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YT extends Xr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dG extends Xr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fG extends Xr{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hG extends Xr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pG extends Xr{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gG{constructor(n){this.route=n,this.type=be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mG{constructor(n){this.route=n,this.type=be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _G{constructor(n){this.snapshot=n,this.type=be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vG{constructor(n){this.snapshot=n,this.type=be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yG{constructor(n){this.snapshot=n,this.type=be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bG{constructor(n){this.snapshot=n,this.type=be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QT{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=be.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class S_{}class T_{constructor(n){this.url=n}}class DG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uc,this.attachRef=null}}let uc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new DG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class ZT{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=M_(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=M_(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=N_(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return N_(n,this._root).map(t=>t.value)}}function M_(e,n){if(e===n.value)return n;for(const t of n.children){const r=M_(e,t);if(r)return r}return null}function N_(e,n){if(e===n.value)return[n];for(const t of n.children){const r=N_(e,t);if(r.length)return r.unshift(n),r}return[]}class Dr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function _a(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class KT extends ZT{constructor(n,t){super(n),this.snapshot=t,O_(this,n)}toString(){return this.snapshot.toString()}}function JT(e){const n=function CG(e){const o=new A_([],{},{},"",{},de,e,null,{});return new XT("",new Dr(o,[]))}(e),t=new Kn([new oc("",{})]),r=new Kn({}),i=new Kn({}),o=new Kn({}),s=new Kn(""),a=new Vo(t,r,o,s,i,de,e,n.root);return a.snapshot=n.root,new KT(new Dr(a,[]),n)}class Vo{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(c=>c[ic]))??X(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(n=>da(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(n=>da(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function I_(e,n,t="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===n||"always"!==t&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...i?.data,...e._resolvedData}},i&&tM(i)&&(r.resolve[ic]=i.title),r}class A_{get title(){return this.data?.[ic]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XT extends ZT{constructor(n,t){super(t),this.url=n,O_(this,t)}toString(){return eM(this._root)}}function O_(e,n){n.value._routerState=e,n.children.forEach(t=>O_(e,t))}function eM(e){const n=e.children.length>0?` { ${e.children.map(eM).join(", ")} } `:"";return`${e.value}${n}`}function R_(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Jr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Jr(n.params,t.params)||e.paramsSubject.next(t.params),function B3(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Jr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Jr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function x_(e,n){const t=Jr(e.params,n.params)&&function U3(e,n){return Lo(e,n)&&e.every((t,r)=>Jr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||x_(e.parent,n.parent))}function tM(e){return"string"==typeof e.title||null===e.title}let k_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=y(uc),this.location=y(Hn),this.changeDetector=y(pr),this.environmentInjector=y(bn),this.inputBinder=y(ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new wG(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=F({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]})}return e})();class wG{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Vo?this.route:n===uc?this.childContexts:this.parent.get(n,t)}}const ff=new j("");let nM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=g_([r.queryParams,r.params,r.data]).pipe(br(([o,s,a],l)=>(a={...o,...s,...a},0===l?X(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function p$(e){const n=he(e);if(!n)return null;const t=new Sl(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function dc(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function SG(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return dc(e,r,i);return dc(e,r)})}(e,n,t);return new Dr(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>dc(e,a)),s}}const r=function TG(e){return new Vo(new Kn(e.url),new Kn(e.params),new Kn(e.queryParams),new Kn(e.fragment),new Kn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>dc(e,o));return new Dr(r,i)}}const rM="ngNavigationCancelingError";function iM(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=pa(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=oM(!1,ir.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function oM(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[rM]=!0,t.cancellationCode=n,t}function sM(e){return!!e&&e[rM]}let aM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Tn({type:e,selectors:[["ng-component"]],standalone:!0,features:[_r],decls:1,vars:0,template:function(r,i){1&r&&Xn(0,"router-outlet")},dependencies:[k_],encapsulation:2})}return e})();function P_(e){const n=e.children&&e.children.map(P_),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=aM),t}function ei(e){return e.outlet||de}function fc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kG{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),R_(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=_a(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_a(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=_a(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=_a(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bG(o.value.snapshot))}),n.children.length&&this.forwardEvent(new vG(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(R_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),R_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=fc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class lM{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class hf{constructor(n,t){this.component=n,this.route=t}}function PG(e,n,t){const r=e._root;return hc(r,n?n._root:null,t,[r.value])}function va(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function fR(e){return null!==iu(e)}(e)?n.get(e):e:r}function hc(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_a(n);return e.children.forEach(s=>{(function LG(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function VG(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Lo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Lo(e.url,n.url)||!Jr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!x_(e,n)||!Jr(e.queryParams,n.queryParams);default:return!x_(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hc(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hf(a.outlet.component,s))}else s&&pc(n,a,i),i.canActivateChecks.push(new lM(r)),hc(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pc(a,t.getContext(s),i)),i}function pc(e,n,t){const r=_a(e),i=e.value;Object.entries(r).forEach(([o,s])=>{pc(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new hf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function gc(e){return"function"==typeof e}function cM(e){return e instanceof Jd||"EmptyError"===e?.name}const pf=Symbol("INITIAL_VALUE");function ya(){return br(e=>g_(e.map(n=>n.pipe(gn(1),function TT(...e){const n=tc(e);return Nt((t,r)=>{(n?nc(e,t,n):nc(e,t)).subscribe(r)})}(pf)))).pipe(De(n=>{for(const t of n)if(!0!==t){if(t===pf)return pf;if(!1===t||t instanceof fa)return t}return!0}),Qt(n=>n!==pf),gn(1)))}function uM(e){return function uO(...e){return Ny(e)}(Zt(n=>{if(pa(n))throw iM(0,n)}),De(n=>!0===n))}class F_{constructor(n){this.segmentGroup=n||null}}class L_ extends Error{constructor(n){super(),this.urlTree=n}}function ba(e){return Xd(new F_(e))}class r8{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[de])return Xd(new E(4e3,!1));i=i.children[de]}}applyRedirectCommands(n,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t.startsWith("/"))throw new L_(i);return i}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new fa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new We(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const V_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function i8(e,n,t,r,i){const o=B_(e,n,t);return o.matched?(r=function NG(e,n){return e.providers&&!e._injector&&(e._injector=sd(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function e8(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?X(i.map(s=>{const a=va(s,e);return Yi(function GG(e){return e&&gc(e.canMatch)}(a)?a.canMatch(n,t):bo(e,()=>a(n,t)))})).pipe(ya(),uM()):X(!0)}(r,n,t).pipe(De(s=>!0===s?o:{...V_}))):X(o)}function B_(e,n,t){if("**"===n.path)return function o8(e){return{matched:!0,parameters:e.length>0?AT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...V_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||V3)(t,e,n);if(!i)return{...V_};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dM(e,n,t,r){return t.length>0&&function l8(e,n,t){return t.some(r=>gf(e,n,r)&&ei(r)!==de)}(e,t,r)?{segmentGroup:new We(n,a8(r,new We(t,e.children))),slicedSegments:[]}:0===t.length&&function c8(e,n,t){return t.some(r=>gf(e,n,r))}(e,t,r)?{segmentGroup:new We(e.segments,s8(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new We(e.segments,e.children),slicedSegments:t}}function s8(e,n,t,r){const i={};for(const o of t)if(gf(e,n,o)&&!r[ei(o)]){const s=new We([],{});i[ei(o)]=s}return{...r,...i}}function a8(e,n){const t={};t[de]=n;for(const r of e)if(""===r.path&&ei(r)!==de){const i=new We([],{});t[ei(r)]=i}return t}function gf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class f8{}class g8{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new r8(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){const n=dM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(De(t=>{const r=new A_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Dr(r,t),o=new XT("",i),s=function iG(e,n,t=null,r=null){return HT($T(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,de).pipe(Fo(r=>{if(r instanceof L_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof F_?this.noMatchError(r):r}))}inheritParamsAndData(n,t){const r=n.value,i=I_(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0).pipe(De(o=>o instanceof Dr?[o]:[]))}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ut(i).pipe(rc(o=>{const s=r.children[o],a=function RG(e,n){const t=e.filter(r=>ei(r)===n);return t.push(...e.filter(r=>ei(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function P3(e,n){return Nt(function k3(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(ct(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),ef(null),function F3(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Qt((i,o)=>e(i,o,r)):si,__(1),t?ef(n):MT(()=>new Jd))}(),Yt(o=>{if(null===o)return ba(r);const s=fM(o);return function m8(e){e.sort((n,t)=>n.value.outlet===de?-1:t.value.outlet===de?1:n.value.outlet.localeCompare(t.value.outlet))}(s),X(s)}))}processSegment(n,t,r,i,o,s){return Ut(t).pipe(rc(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Fo(l=>{if(l instanceof F_)return X(null);throw l}))),Po(a=>!!a),Fo(a=>{if(cM(a))return function d8(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?X(new f8):ba(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function u8(e,n,t,r){return!!(ei(e)===r||r!==de&&gf(n,t,e))&&B_(n,e,t).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):ba(i):ba(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=B_(t,i,o);if(!a)return ba(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Yt(f=>this.processSegment(n,r,t,f.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o){const s=i8(t,r,i,n);return"**"===r.path&&(t.children={}),s.pipe(br(a=>a.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(br(({routes:l})=>{const c=r._loadedInjector??n,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new A_(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function v8(e){return e.data||{}}(r),ei(r),r.component??r._loadedComponent??null,r,function y8(e){return e.resolve||{}}(r)),{segmentGroup:p,slicedSegments:g}=dM(t,u,d,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(De(v=>null===v?null:new Dr(h,v)));if(0===l.length&&0===g.length)return X(new Dr(h,[]));const m=ei(r)===o;return this.processSegment(c,l,p,g,m?de:o,!0).pipe(De(v=>new Dr(h,v instanceof Dr?[v]:[])))})):ba(t)))}getChildConfig(n,t,r){return t.children?X({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?X({routes:t._loadedRoutes,injector:t._loadedInjector}):function XG(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?X(!0):X(i.map(s=>{const a=va(s,e);return Yi(function jG(e){return e&&gc(e.canLoad)}(a)?a.canLoad(n,t):bo(e,()=>a(n,t)))})).pipe(ya(),uM())}(n,t,r).pipe(Yt(i=>i?this.configLoader.loadChildren(n,t).pipe(Zt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function n8(e){return Xd(oM(!1,ir.GuardRejected))}())):X({routes:[],injector:n})}}function _8(e){const n=e.value.routeConfig;return n&&""===n.path}function fM(e){const n=[],t=new Set;for(const r of e){if(!_8(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=fM(r.children);n.push(new Dr(r.value,i))}return n.filter(r=>!t.has(r))}function D8(e,n){return Yt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of hM(l))s.add(c);let a=0;return Ut(s).pipe(rc(l=>o.has(l)?function C8(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!tM(i)&&(o[ic]=i.title),function w8(e,n,t,r){const i=y_(e);if(0===i.length)return X({});const o={};return Ut(i).pipe(Yt(s=>function E8(e,n,t,r){const i=fc(n)??r,o=va(e,i);return Yi(o.resolve?o.resolve(n,t):bo(i,()=>o(n,t)))}(e[s],n,t,r).pipe(Po(),Zt(a=>{o[s]=a}))),__(1),function NT(e){return De(()=>e)}(o),Fo(s=>cM(s)?rr:Xd(s)))}(o,e,n,r).pipe(De(s=>(e._resolvedData=s,e.data=I_(e,e.parent,t).resolve,null)))}(l,r,e,n):(l.data=I_(l,l.parent,e).resolve,X(void 0))),Zt(()=>a++),__(1),Yt(l=>a===s.size?X(t):rr))})}function hM(e){const n=e.children.map(t=>hM(t)).flat();return[e,...n]}function j_(e){return br(n=>{const t=e(n);return t?Ut(t).pipe(De(()=>n)):X(n)})}let pM=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[ic]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(S8),providedIn:"root"})}return e})(),S8=(()=>{class e extends pM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(te(jU))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Da=new j("",{providedIn:"root",factory:()=>({})}),Ca=new j("");let $_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(OE)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Yi(t.loadComponent()).pipe(De(gM),Zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),v_(()=>{this.componentLoaders.delete(t)})),i=new ST(r,()=>new lt).pipe(m_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function T8(e,n,t,r){return Yi(e.loadChildren()).pipe(De(gM),Yt(i=>i instanceof LC||Array.isArray(i)?X(i):Ut(n.compileModuleAsync(i))),De(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Ca,[],{optional:!0,self:!0}).flat()),{routes:s.map(P_),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(v_(()=>{this.childrenLoaders.delete(r)})),s=new ST(o,()=>new lt).pipe(m_());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gM(e){return function M8(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let H_=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(N8),providedIn:"root"})}return e})(),N8=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mM=new j(""),_M=new j("");function I8(e,n,t){const r=e.get(_M),i=e.get(Ht);return e.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function A8(e){return new Promise(n=>{nC(n,{injector:e})})}(e))),{onViewTransitionCreated:l}=r;return l&&bo(e,()=>l({transition:a,from:n,to:t})),s})}let mf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=y($_),this.environmentInjector=y(bn),this.urlSerializer=y(ha),this.rootContexts=y(uc),this.location=y(Yl),this.inputBindingEnabled=null!==y(ff,{optional:!0}),this.titleStrategy=y(pM),this.options=y(Da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(H_),this.createViewTransition=y(mM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Kn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(o=>0!==o.id),De(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),br(o=>{this.currentTransition=o;let s=!1,a=!1;return X(o).pipe(Zt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),br(l=>{const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new ma(l.id,this.urlSerializer.serialize(l.rawUrl),d,uf.IgnoredSameUrlNavigation)),l.resolve(null),rr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(br(d=>{const f=this.transitions?.getValue();return this.events.next(new cf(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?rr:Promise.resolve(d)}),function b8(e,n,t,r,i,o){return Yt(s=>function h8(e,n,t,r,i,o,s="emptyOnly"){return new g8(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(De(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new YT(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:p,extras:g}=l,m=new cf(d,this.urlSerializer.serialize(f),h,p);this.events.next(m);const v=JT(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:v,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,X(o)}{const d="";return this.events.next(new ma(l.id,this.urlSerializer.serialize(l.extractedUrl),d,uf.IgnoredByUrlHandlingStrategy)),l.resolve(null),rr}}),Zt(l=>{const c=new dG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),De(l=>(this.currentTransition=o={...l,guards:PG(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function zG(e,n){return Yt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?X({...t,guardsResult:!0}):function WG(e,n,t,r){return Ut(e).pipe(Yt(i=>function JG(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?X(o.map(a=>{const l=fc(n)??i,c=va(a,l);return Yi(function UG(e){return e&&gc(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):bo(l,()=>c(e,n,t,r))).pipe(Po())})).pipe(ya()):X(!0)}(i.component,i.route,t,n,r)),Po(i=>!0!==i,!0))}(s,r,i,e).pipe(Yt(a=>a&&function BG(e){return"boolean"==typeof e}(a)?function qG(e,n,t,r){return Ut(n).pipe(rc(i=>nc(function QG(e,n){return null!==e&&n&&n(new _G(e)),X(!0)}(i.route.parent,r),function YG(e,n){return null!==e&&n&&n(new yG(e)),X(!0)}(i.route,r),function KG(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function FG(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>ET(()=>X(s.guards.map(l=>{const c=fc(s.node)??t,u=va(l,c);return Yi(function HG(e){return e&&gc(e.canActivateChild)}(u)?u.canActivateChild(r,e):bo(c,()=>u(r,e))).pipe(Po())})).pipe(ya())));return X(o).pipe(ya())}(e,i.path,t),function ZG(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(o=>ET(()=>{const s=fc(n)??t,a=va(o,s);return Yi(function $G(e){return e&&gc(e.canActivate)}(a)?a.canActivate(n,e):bo(s,()=>a(n,e))).pipe(Po())}));return X(i).pipe(ya())}(e,i.route,t))),Po(i=>!0!==i,!0))}(r,o,e,n):X(a)),De(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Zt(l=>{if(o.guardsResult=l.guardsResult,pa(l.guardsResult))throw iM(0,l.guardsResult);const c=new fG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Qt(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",ir.GuardRejected),!1)),j_(l=>{if(l.guards.canActivateChecks.length)return X(l).pipe(Zt(c=>{const u=new hG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),br(c=>{let u=!1;return X(c).pipe(D8(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ir.NoDataFromResolver)}}))}),Zt(c=>{const u=new pG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),j_(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Zt(f=>{u.component=f}),De(()=>{})));for(const f of u.children)d.push(...c(f));return d};return g_(c(l.targetSnapshot.root)).pipe(ef(null),gn(1))}),j_(()=>this.afterPreactivation()),br(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Ut(u).pipe(De(()=>o)):X(o)}),De(l=>{const c=function EG(e,n,t){const r=dc(e,n._root,t?t._root:void 0);return new KT(r,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),Zt(()=>{this.events.next(new S_)}),((e,n,t,r)=>De(i=>(new kG(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gn(1),Zt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),nn(this.transitionAbortSubject.pipe(Zt(l=>{throw l}))),v_(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ir.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fo(l=>{if(a=!0,sM(l))this.events.next(new ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function MG(e){return sM(e)&&pa(e.url)}(l)?this.events.next(new T_(l.url)):o.resolve(!1);else{this.events.next(new df(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return rr}))}))}cancelNavigationTransition(t,r,i){const o=new ga(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function O8(e){return e!==cc}let R8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(k8),providedIn:"root"})}return e})();class x8{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let k8=(()=>{class e extends x8{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=nt(e)))(i||e)}})();static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vM=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:()=>y(P8),providedIn:"root"})}return e})(),P8=(()=>{class e extends vM{constructor(){super(...arguments),this.location=y(Yl),this.urlSerializer=y(ha),this.options=y(Da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(H_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof cf)this.stateMemento=this.createStateMemento();else if(t instanceof ma)this.rawUrlTree=r.initialUrl;else if(t instanceof YT){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof S_?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof ga&&(t.code===ir.GuardRejected||t.code===ir.NoDataFromResolver)?this.restoreHistory(r):t instanceof df?this.restoreHistory(r,!0):t instanceof Mi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=nt(e)))(i||e)}})();static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(mc||{});function yM(e,n){e.events.pipe(Qt(t=>t instanceof Mi||t instanceof ga||t instanceof df||t instanceof ma),De(t=>t instanceof Mi||t instanceof ma?mc.COMPLETE:t instanceof ga&&(t.code===ir.Redirect||t.code===ir.SupersededByNewNavigation)?mc.REDIRECTING:mc.FAILED),Qt(t=>t!==mc.REDIRECTING),gn(1)).subscribe(()=>{n()})}function F8(e){throw e}const L8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y(DE),this.stateManager=y(vM),this.options=y(Da,{optional:!0})||{},this.pendingTasks=y(Ml),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(mf),this.urlSerializer=y(ha),this.location=y(Yl),this.urlHandlingStrategy=y(H_),this._events=new lt,this.errorHandler=this.options.errorHandler||F8,this.navigated=!1,this.routeReuseStrategy=y(R8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Ca,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(ff,{optional:!0}),this.eventsSubscription=new Mt,this.isNgZoneEnabled=y(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof ga&&r.code!==ir.Redirect&&r.code!==ir.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mi)this.navigated=!0;else if(r instanceof T_){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||O8(i.source)};this.scheduleNavigation(s,cc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function j8(e){return!(e instanceof S_||e instanceof T_)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(P_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=$T(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return HT(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,cc,null,r)}navigate(t,r={skipLocationChange:!1}){return function B8(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...L8}:!1===r?{...V8}:r,pa(t))return RT(this.currentUrlTree,t,i);const o=this.parseUrl(t);return RT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return yM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class bM{}let U8=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof Mi),rc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=sd(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ut(i).pipe(ua())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):X(null);const o=i.pipe(Yt(s=>null===s?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ut([o,this.loader.loadComponent(r)]).pipe(ua()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(te(Cr),te(OE),te(bn),te(bM),te($_))};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const G_=new j("");let DM=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ma&&t.code===uf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function aD(){throw new Error("invalid")}()};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function ti(e,n){return{\u0275kind:e,\u0275providers:n}}function wM(){const e=y(Vt);return n=>{const t=e.get(yi);if(n!==t.components[0])return;const r=e.get(Cr),i=e.get(EM);1===e.get(z_)&&r.initialNavigation(),e.get(SM,null,ve.Optional)?.setUpPreloading(),e.get(G_,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const EM=new j("",{factory:()=>new lt}),z_=new j("",{providedIn:"root",factory:()=>1}),SM=new j("");function q8(e){return ti(0,[{provide:SM,useExisting:U8},{provide:bM,useExisting:e}])}function Q8(e){return ti(9,[{provide:mM,useValue:I8},{provide:_M,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const TM=new j("ROUTER_FORROOT_GUARD"),Z8=[Yl,{provide:ha,useClass:b_},Cr,uc,{provide:Vo,useFactory:function CM(e){return e.routerState.root},deps:[Cr]},$_,[]];let MM=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[Z8,[],{provide:Ca,multi:!0,useValue:t},{provide:TM,useFactory:e4,deps:[[Cr,new mu,new _u]]},{provide:Da,useValue:r||{}},r?.useHash?{provide:Ro,useClass:y$}:{provide:Ro,useClass:hS},{provide:G_,useFactory:()=>{const e=y(BH),n=y(ge),t=y(Da),r=y(mf),i=y(ha);return t.scrollOffset&&e.setOffset(t.scrollOffset),new DM(i,r,e,n,t)}},r?.preloadingStrategy?q8(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?t4(r):[],r?.bindToComponentInputs?ti(8,[nM,{provide:ff,useExisting:nM}]).\u0275providers:[],r?.enableViewTransitions?Q8().\u0275providers:[],[{provide:NM,useFactory:wM},{provide:Nm,multi:!0,useExisting:NM}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ca,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(te(TM,8))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();function e4(e){return"guarded"}function t4(e){return["disabled"===e.initialNavigation?ti(3,[{provide:Tm,multi:!0,useFactory:()=>{const n=y(Cr);return()=>{n.setUpLocationChangeListener()}}},{provide:z_,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ti(2,[{provide:z_,useValue:0},{provide:Tm,multi:!0,deps:[Vt],useFactory:n=>{const t=n.get(_$,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Cr),o=n.get(EM);yM(i,()=>{r(!0)}),n.get(mf).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const NM=new j("");function r4(e,n){if(1&e&&(pe(0,"div",3),Gn(1),fe()),2&e){const t=se();Y(),na("#",t.chatMessage.channel,"")}}const i4=e=>({action:e});let o4=(()=>{class e{constructor(){this.theme=W_.Sideways,this.showChannelName=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Tn({type:e,selectors:[["app-chat-message"]],inputs:{chatMessage:"chatMessage",channelNumber:"channelNumber",theme:"theme",showChannelName:"showChannelName"},decls:6,vars:15,consts:[[1,"username"],[1,"message",3,"ngClass","innerHTML"],["class","channel",4,"ngIf"],[1,"channel"]],template:function(r,i){1&r&&(pe(0,"div")(1,"div")(2,"div",0),Gn(3),fe(),Xn(4,"div",1),Ne(5,r4,2,1,"div",2),fe()()),2&r&&(md("theme-",i.theme,""),Y(),md("chat-message-container channel",i.channelNumber,""),Y(),S1("color: ",i.chatMessage.color,""),Y(),Qr(i.chatMessage.username),Y(),Ge("ngClass",ra(13,i4,i.chatMessage.isAction))("innerHTML",i.chatMessage.renderedMessage,Mb),Y(),Ge("ngIf",i.showChannelName))},dependencies:[TS,AS],styles:[".theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]{animation:backInRight;animation-duration:.5s;background-color:#000;border-radius:10px;padding:15px;color:#fff;width:-moz-fit-content;width:fit-content;max-width:400px}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:700}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{font-style:italic}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{font-size:12px}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container.channel0[_ngcontent-%COMP%]{background-color:#000}.theme-sideways[_ngcontent-%COMP%]   .chat-message-container.channel1[_ngcontent-%COMP%]{background-color:#2f4f4f}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]{animation:slideInUp;animation-duration:.5s;padding-left:15px;padding-right:15px;background-color:#000c;width:100%;border-radius:10px}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-weight:700;text-shadow:1px 1px 1px black}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;text-shadow:2px 2px 4px black}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{font-size:12px}.theme-vertical[_ngcontent-%COMP%]   .chat-message-container.channel1[_ngcontent-%COMP%]{background-color:#2f4f4f}"]})}return e})();var W_=function(e){return e.Sideways="sideways",e.Vertical="vertical",e}(W_||{});const IM="ChatReader";function a4(e,n){if(1&e&&(_d(0),Xn(1,"app-chat-message",2),vd()),2&e){const t=n.$implicit,r=se();Y(),Ge("chatMessage",t)("channelNumber",r.getChannelNumber(t))("theme",r.theme)("showChannelName",r.showChannelName)}}const l4=[{path:"",component:(()=>{class e{constructor(t,r){this.chatReader=t,this.route=r,this.theme="sideways",this.showChannelName=!1,this.ttl=3e4,this.maxMessages=15,this.channels=[],this.messages=[],this.route.queryParamMap.subscribe(i=>{const o=i.get("channels");if(null!=o?(this.channels=o.split(","),this.channels.length>1&&(this.showChannelName=!0),this.chatReader.connect(o.split(",")),this.chatReader.messages$.subscribe(s=>{this.messages.length>this.maxMessages&&this.messages.pop(),this.messages.unshift(s)})):console.log("No channels found in query string.  Specify a comma-delimited list of channel names to join"),i.has("theme")){const s=i.get("theme");console.log("Theme: "+s),null!=s&&function s4(e){return Object.values(W_).filter(t=>e==t).length>0}(s)&&(console.log("setting theme"),this.theme=s)}i.has("message_ttl")&&(this.ttl=parseInt(i.get("message_ttl")??"30000")),this.ttl>0&&setInterval(()=>{const s=Date.now();for(const[a,l]of this.messages.entries())s-l.timestamp>this.ttl&&this.messages.splice(a,1)},1e3)})}getChannelNumber(t){for(let r=0;r<this.channels.length;r++)if(this.channels[r]==t.channel)return r;return 0}static#e=this.\u0275fac=function(r){return new(r||e)(I(IM),I(Vo))};static#t=this.\u0275cmp=Tn({type:e,selectors:[["app-home"]],decls:3,vars:4,consts:[[1,"chat-messages"],[4,"ngFor","ngForOf"],[3,"chatMessage","channelNumber","theme","showChannelName"]],template:function(r,i){1&r&&(pe(0,"div")(1,"div",0),Ne(2,a4,2,4,"ng-container",1),fe()()),2&r&&(md("theme-",i.theme,""),Y(2),Ge("ngForOf",i.messages))},dependencies:[NS,o4],styles:[".theme-sideways[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;gap:10px;left:-100px}.theme-vertical[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;overflow:hidden;height:100vh}"]})}return e})()}];let c4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({imports:[MM.forRoot(l4),MM]})}return e})(),u4=(()=>{class e{constructor(){this.title="stegchat"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Tn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Xn(0,"router-outlet")},dependencies:[k_]})}return e})();const h4=["addListener","removeListener"],p4=["addEventListener","removeEventListener"],g4=["on","off"];function rn(e,n,t,r){if(z(t)&&(r=t,t=void 0),r)return rn(e,n,t).pipe(p_(r));const[i,o]=function v4(e){return z(e.addEventListener)&&z(e.removeEventListener)}(e)?p4.map(s=>a=>e[s](n,a,t)):function m4(e){return z(e.addListener)&&z(e.removeListener)}(e)?h4.map(AM(e,n)):function _4(e){return z(e.on)&&z(e.off)}(e)?g4.map(AM(e,n)):[];if(!i&&f_(e))return Yt(s=>rn(s,n,t))(tn(e));if(!i)throw new TypeError("Invalid event target");return new ft(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function AM(e,n){return t=>r=>e[t](n,r)}class y4 extends Mt{constructor(n,t){super()}schedule(n,t=0){return this}}const _f={setInterval(e,n,...t){const{delegate:r}=_f;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=_f;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},OM={now:()=>(OM.delegate||Date).now(),delegate:void 0};class _c{constructor(n,t=_c.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}_c.now=OM.now;const C4=new class D4 extends _c{constructor(n,t=_c.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class b4 extends y4{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return _f.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&_f.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Or(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:E4}=Array;function kM(e){return 1===e.length&&E4(e[0])?e[0]:e}function q_(...e){const n=Kd(e),t=kM(e);return t.length?new ft(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<t.length;s++)tn(t[s]).subscribe(ct(r,a=>{if(i[s].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(n?n(...l):l),i.some((c,u)=>!c.length&&o[u])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):rr}function Y_(...e){const n=Kd(e);return Nt((t,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)tn(e[l]).subscribe(ct(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(si))&&(s=null))},co));t.subscribe(ct(r,l=>{if(a){const c=[l,...o];r.next(n?n(...c):c)}}))})}Promise.resolve(),Promise.resolve(),Math,Math,Math;const k5=["*"],uW=["dialog"],nI={animation:!0,transitionTimerDelayMs:5};let Of=(()=>{class e{constructor(){this.animation=nI.animation}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Na(e){return"string"==typeof e}function Uo(e){return null!=e}function Ia(e){return(e||document.body).getBoundingClientRect()}const r6=()=>{},{transitionTimerDelayMs:i6}=nI,Ic=new Map,ar=(e,n,t,r)=>{let i=r.context||{};const o=Ic.get(n);if(o)switch(r.runningTransition){case"continue":return rr;case"stop":e.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Ic.delete(n)}const s=t(n,r.animation,i)||r6;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>s()),X(void 0).pipe(function n6(e){return n=>new ft(t=>n.subscribe({next:s=>e.run(()=>t.next(s)),error:s=>e.run(()=>t.error(s)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new lt,l=new lt,c=a.pipe(function M4(...e){return n=>nc(n,X(...e))}(!0));Ic.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function XW(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const d=rn(n,"transitionend").pipe(nn(c),Qt(({target:h})=>h===n));(function PM(...e){return 1===(e=kM(e)).length?tn(e[0]):new ft(function S4(e){return n=>{let t=[];for(let r=0;t&&!n.closed&&r<e.length;r++)t.push(tn(e[r]).subscribe(ct(n,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}n.next(i)})))}}(e))})(function xM(e=0,n,t=C4){let r=-1;return null!=n&&(bT(n)?t=n:r=n),new ft(i=>{let o=function w4(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(u+i6).pipe(nn(c)),d,l).pipe(nn(c)).subscribe(()=>{Ic.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let cI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),uI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),hI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),pI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();var Ze=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Ze||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const DI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function CI(e){const n=Array.from(e.querySelectorAll(DI)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let VI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),jI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),aq=(()=>{class e{constructor(){this._ngbConfig=y(Of),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Yo{constructor(n,t,r){this.nodes=n,this.viewRef=t,this.componentRef=r}}let lq=(()=>{class e{constructor(){this._document=y(Ht)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:s}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=s),i.overflow=o}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cq=(()=>{class e{constructor(){this._nativeElement=y(Ue).nativeElement,this._zone=y(ge)}ngOnInit(){this._zone.onStable.asObservable().pipe(gn(1)).subscribe(()=>{ar(this._zone,this._nativeElement,(t,r)=>{r&&Ia(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ar(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Tn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Rl("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),we("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[_r],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return e})();class $I{update(n){}close(n){}dismiss(n){}}const uq=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],dq=["animation","backdropClass"];class fq{_applyWindowOptions(n,t){uq.forEach(r=>{Uo(t[r])&&(n[r]=t[r])})}_applyBackdropOptions(n,t){dq.forEach(r=>{Uo(t[r])&&(n[r]=t[r])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(nn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(nn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,r,i){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new lt,this._dismissed=new lt,this._hidden=new lt,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function rI(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():X(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),q_(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jv=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(jv||{});let hq=(()=>{class e{constructor(){this._document=y(Ht),this._elRef=y(Ue),this._zone=y(ge),this._closed$=new lt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Q,this.shown=new lt,this.hidden=new lt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Na(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(gn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=q_(ar(this._zone,t,()=>t.classList.remove("show"),r),ar(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};q_(ar(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Ia(o),o.classList.add("show")},t),ar(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{rn(t,"keydown").pipe(nn(this._closed$),Qt(i=>i.which===Ze.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(jv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;rn(this._dialogEl.nativeElement,"mousedown").pipe(nn(this._closed$),Zt(()=>r=!1),br(()=>rn(t,"mouseup").pipe(nn(this._closed$),gn(1))),Qt(({target:i})=>t===i)).subscribe(()=>{r=!0}),rn(t,"click").pipe(nn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(jv.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=CI(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ar(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Tn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&function Ao(e,n,t){vC(e,n,t)}(uW,7),2&r){let o;(function ut(e){const n=w(),t=ye(),r=Gh();Jc(r+1);const i=Bg(t,r);if(e.dirty&&function jO(e){return 4==(4&e[W])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=DC(n,r);e.reset(o,v0),e.notifyOnChanges()}return!0}return!1})(o=dt())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ye("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Rl("modal d-block"+(i.windowClass?" "+i.windowClass:"")),we("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[_r],ngContentSelectors:k5,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function p1(e){const n=w()[_t][cn];if(!n.projection){const r=n.projection=function tu(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const s=e?LV(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),pe(0,"div",0,1)(2,"div",2),function g1(e,n=0,t){const r=w(),i=ye(),o=ks(i,ie+e,16,null,t||null);null===o.projection&&(o.projection=n),$h(),(!r[dr]||fs())&&32!=(32&o.flags)&&function kk(e,n,t){rD(n[re],0,n,t,tg(e,t,n),Kb(t.parent||n[cn],t,n))}(i,r,o)}(3),fe()()),2&r&&Rl("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),pq=(()=>{class e{constructor(){this._applicationRef=y(yi),this._injector=y(Vt),this._environmentInjector=y(bn),this._document=y(Ht),this._scrollBar=y(lq),this._activeWindowCmptHasChanged=new lt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Q;const t=y(ge);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const r=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,r=!1)=>{e.runOutsideAngular(()=>{const i=rn(n,"focusin").pipe(nn(t),De(o=>o.target));rn(n,"keydown").pipe(nn(t),Qt(o=>o.which===Ze.Tab),Y_(i)).subscribe(([o,s])=>{const[a,l]=CI(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&rn(n,"click").pipe(nn(t),Y_(i),De(o=>o[1])).subscribe(o=>o.focus())})})(t,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Uo(i.container)?this._document.querySelector(i.container):this._document.body;if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new $I,a=(t=i.injector||t).get(bn,null)||this._environmentInjector,l=this._getContentRef(t,a,r,s,i);let c=!1!==i.backdrop?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new fq(u,l,c,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(gn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{d.close(f)},s.dismiss=f=>{d.dismiss(f)},s.update=f=>{d.update(f)},d.update(i),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=Vm(cq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=Vm(hq,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,o,s){return i?i instanceof It?this._createFromTemplateRef(i,o):Na(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,s):new Yo([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new Yo([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Yo([[r]])}_createFromComponent(t,r,i,o,s){const l=Vm(i,{environmentInjector:r,elementInjector:Vt.create({providers:[{provide:$I,useValue:o}],parent:t})}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Yo([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gq=(()=>{class e{constructor(){this._injector=y(Vt),this._modalStack=y(pq),this._config=y(aq)}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),HI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({providers:[gq]})}return e})(),zI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),XI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),eA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),tA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),nA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),rA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),iA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),oA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),sA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();new j("live announcer delay",{providedIn:"root",factory:()=>100});let aA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})(),lA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({})}return e})();const Aq=[cI,uI,hI,pI,VI,jI,HI,zI,lA,XI,eA,tA,nA,rA,iA,oA,sA,aA];let Oq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=qe({imports:[Aq,cI,uI,hI,pI,VI,jI,HI,zI,lA,XI,eA,tA,nA,rA,iA,oA,sA,aA]})}return e})();var eo,Uv=Te(704),Z=function(e){return e[e.CRITICAL=0]="CRITICAL",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e[e.TRACE=7]="TRACE",e}(Z||{});function Gv(e){if("number"==typeof e){if(Object.prototype.hasOwnProperty.call(Z,e))return e;var n=Object.keys(Z).map(function(r){return parseInt(r,10)}).filter(function(r){return!isNaN(r)&&r<e});return n.length?Math.max.apply(Math,n):Z.WARNING}var t=e.replace(/\d+$/,"").toUpperCase();if(!Object.prototype.hasOwnProperty.call(Z,t))throw new Error("Unknown log level string: ".concat(e));return Z[t]}var Rq=Uv.y?console.log.bind(console):console.debug.bind(console),cA=((eo={})[Z.CRITICAL]=console.error.bind(console),eo[Z.ERROR]=console.error.bind(console),eo[Z.WARNING]=console.warn.bind(console),eo[Z.INFO]=console.info.bind(console),eo[Z.DEBUG]=Rq.bind(console),eo[Z.TRACE]=console.trace.bind(console),eo);function uA(e){return null==e}function xc(e,n){return uA(e)?null:n(e)}function dA(e,n){return uA(e)?void 0:n(e)}var zv,Wv,Gf=typeof process>"u"?[]:null!==(Wv=null===(zv=process.env.LOGGING)||void 0===zv?void 0:zv.split(";").map(function(e){var n=e.split("=",2),t=n[0],r=n[1];return r?["default"===t?void 0:t.split(":"),Gv(r)]:null}).filter(function(e){return!!e}).sort(function(e,n){var t,r,i=e[0],o=n[0];return(null!==(t=o?.length)&&void 0!==t?t:0)-(null!==(r=i?.length)&&void 0!==r?r:0)}))&&void 0!==Wv?Wv:[],qv=Gf.findIndex(function(e){return!e[0]}),fA=void 0;function xq(e,n){return n.length<=e.length&&n.every(function(t,r){return t===e[r]})}function hA(e){for(var n=e.split(":"),t=0,r=Gf;t<r.length;t++){var i=r[t],s=i[1];if(xq(n,i[0]))return s}return fA}-1!==qv&&(fA=Gf[qv][1],Gf.splice(qv));var to,no,ro,pA=function(){function e(n){var c,u,t=n.name,r=n.minLevel,i=n.emoji,o=void 0!==i&&i,s=n.colors,a=n.timestamps,l=void 0===a?Uv.y:a;this._name=t,this._minLevel=null!==(u=null!==(c=dA(r,function(d){return Gv(d)}))&&void 0!==c?c:hA(t))&&void 0!==u?u:Z.WARNING,this._emoji=o,this._colors=s,this._timestamps=l}return e.prototype.crit=function(n){this.log(Z.CRITICAL,n)},e.prototype.error=function(n){this.log(Z.ERROR,n)},e.prototype.warn=function(n){this.log(Z.WARNING,n)},e.prototype.info=function(n){this.log(Z.INFO,n)},e.prototype.debug=function(n){this.log(Z.DEBUG,n)},e.prototype.trace=function(n){this.log(Z.TRACE,n)},e}(),kq=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ca(n,e),n.prototype.log=function(t,r){if(!(t>this._minLevel)){var i=cA[t],o="[".concat(this._name,"] ").concat(r);this._timestamps&&(o="[".concat((new Date).toISOString(),"] ").concat(r)),i(o)}},n}(pA),Pq=function(){function e(n){var o,t=n.name,i=n.custom;this._minLevel=null!==(o=dA(n.minLevel,function(s){return Gv(s)}))&&void 0!==o?o:hA(t),this._override="function"==typeof i?{log:i}:i}return e.prototype.log=function(n,t){this._shouldLog(n)&&this._override.log(n,t)},e.prototype.crit=function(n){this._override.crit?this._shouldLog(Z.CRITICAL)&&this._override.crit(n):this.log(Z.CRITICAL,n)},e.prototype.error=function(n){this._override.error?this._shouldLog(Z.ERROR)&&this._override.error(n):this.log(Z.ERROR,n)},e.prototype.warn=function(n){this._override.warn?this._shouldLog(Z.WARNING)&&this._override.warn(n):this.log(Z.WARNING,n)},e.prototype.info=function(n){this._override.info?this._shouldLog(Z.INFO)&&this._override.info(n):this.log(Z.INFO,n)},e.prototype.debug=function(n){this._override.debug?this._shouldLog(Z.DEBUG)&&this._override.debug(n):this.log(Z.DEBUG,n)},e.prototype.trace=function(n){this._override.trace?this._shouldLog(Z.TRACE)&&this._override.trace(n):this.log(Z.TRACE,n)},e.prototype._shouldLog=function(n){return void 0===this._minLevel||this._minLevel>=n},e}(),Fq=((to={})[Z.CRITICAL]="\u{1f6d1}",to[Z.ERROR]="\u274c",to[Z.WARNING]="\u26a0\ufe0f ",to[Z.INFO]="\u2139\ufe0f ",to[Z.DEBUG]="\u{1f41e}",to[Z.TRACE]="\u{1f43e}",to),Lq={black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,blackBright:90,redBright:91,greenBright:92,yellowBright:93,blueBright:94,magentaBright:95,cyanBright:96,whiteBright:97},Vq={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBlackBright:100,bgRedBright:101,bgGreenBright:102,bgYellowBright:103,bgBlueBright:104,bgMagentaBright:105,bgCyanBright:106,bgWhiteBright:107};function zf(e,n,t){return function(r){return"\x1b[".concat(e,"m").concat(t?t(r):r,"\x1b[").concat(n,"m")}}function ii(e){return zf(Lq[e],39)}function kc(e,n){return zf(Vq[e],49,n)}var Bq=((no={})[Z.CRITICAL]=ii("red"),no[Z.ERROR]=ii("redBright"),no[Z.WARNING]=ii("yellow"),no[Z.INFO]=ii("blue"),no[Z.DEBUG]=ii("magenta"),no[Z.TRACE]=zf(0,0),no),gA=((ro={})[Z.CRITICAL]=kc("bgRed",ii("white")),ro[Z.ERROR]=kc("bgRedBright",ii("white")),ro[Z.WARNING]=kc("bgYellow",ii("black")),ro[Z.INFO]=kc("bgBlue",ii("white")),ro[Z.DEBUG]=kc("bgMagenta",ii("black")),ro[Z.TRACE]=zf(7,27),ro),jq=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ca(n,e),n.prototype.log=function(t,r){var i,o,s;if(!(t>this._minLevel)){var a=cA[t],l="";this._timestamps&&(l+="[".concat((new Date).toISOString(),"] ")),this._emoji&&(l+="".concat(Fq[t]," ")),a(l+=null===(s=null!==(i=this._colors)&&void 0!==i?i:null===(o=process.stdout)||void 0===o?void 0:o.isTTY)||void 0===s||s?"".concat(gA[t](this._name)," ").concat(gA[t](Z[t])," ").concat(Bq[t](r)):"[".concat(this._name,":").concat(Z[t].toLowerCase(),"] ").concat(r))}},n}(pA);function Wf(e){return e.custom?new Pq(e):Uv.y?new jq(e):new kq(e)}var mA=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return ca(n,e),n}(function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,s,i=this.constructor;return o=e.apply(this,ko([],Si(t),!1))||this,Object.setPrototypeOf(o,i.prototype),null===(s=Error.captureStackTrace)||void 0===s||s.call(Error,o,i.constructor),o}return ca(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),n}(Error)),Yv=function(){function e(n){var t=n.logger,r=n.bucketSize,i=n.timeFrame,o=n.doRequest;this._queue=[],this._usedFromBucket=0,this._paused=!1,this._logger=Wf(xo({name:"rate-limiter",emoji:!0},t)),this._bucketSize=r,this._timeFrame=i,this._callback=o}return e.prototype.request=function(n,t){return wi(this,void 0,Promise,function(){var r=this;return Ei(this,function(i){switch(i.label){case 0:return[4,new Promise(function(o,s){var a,l={req:n,resolve:o,reject:s,limitReachedBehavior:null!==(a=t?.limitReachedBehavior)&&void 0!==a?a:"enqueue"};if(r._usedFromBucket>=r._bucketSize||r._paused)switch(l.limitReachedBehavior){case"enqueue":r._queue.push(l),r._usedFromBucket+r._queue.length>=r._bucketSize?r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, waiting for ").concat(r._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(r._queue.length)):r._logger.info("Enqueueing request because the rate limiter is paused; queue size is ".concat(r._queue.length));break;case"null":l.resolve(null),r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, dropping request and returning null")),r._paused?r._logger.info("Returning null for request because the rate limiter is paused"):r._logger.warn("Rate limit of ".concat(r._bucketSize," was reached, dropping request and returning null"));break;case"throw":l.reject(new mA("Request dropped because ".concat(r._paused?"the rate limiter is paused":"the rate limit was reached")));break;default:throw new Error("this should never happen")}else r._runRequest(l)})];case 1:return[2,i.sent()]}})})},e.prototype.clear=function(){this._queue=[]},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1,this._runNextRequest()},e.prototype._runRequest=function(n){return wi(this,void 0,void 0,function(){var t,r,i,o,s,a=this;return Ei(this,function(l){switch(l.label){case 0:this._logger.debug("doing a request, new queue length is ".concat(this._queue.length)),this._usedFromBucket+=1,t=n.req,r=n.resolve,i=n.reject,l.label=1;case 1:return l.trys.push([1,3,4,5]),o=r,[4,this._callback(t)];case 2:return o.apply(void 0,[l.sent()]),[3,5];case 3:return s=l.sent(),i(s),[3,5];case 4:return setTimeout(function(){a._usedFromBucket-=1,a._queue.length&&a._usedFromBucket<a._bucketSize&&a._runNextRequest()},this._timeFrame),[7];case 5:return[2]}})})},e.prototype._runNextRequest=function(){if(!this._paused){var n=this._queue.shift();n&&this._runRequest(n)}},e}(),Hq=function(e){function n(t,r){return e.call(this,xo(xo({},r),{doRequest:function(i,o){return wi(this,void 0,Promise,function(){return Ei(this,function(s){switch(s.label){case 0:return[4,t.request(i,o)];case 1:return[2,s.sent()]}})})}}))||this}return ca(n,e),n}(Yv),Uq=function(){function e(n){var t=n.logger,r=n.bucketSize,i=n.timeFrame,o=n.doRequest,s=n.getPartitionKey;this._partitionedQueue=new Map,this._usedFromBucket=new Map,this._paused=!1,this._logger=Wf(xo({name:"rate-limiter",emoji:!0},t)),this._bucketSize=r,this._timeFrame=i,this._callback=o,this._partitionKeyCallback=s}return e.prototype.request=function(n,t){return wi(this,void 0,Promise,function(){var r=this;return Ei(this,function(i){switch(i.label){case 0:return[4,new Promise(function(o,s){var a,l,c={req:n,resolve:o,reject:s,limitReachedBehavior:null!==(a=t?.limitReachedBehavior)&&void 0!==a?a:"enqueue"},u=r._partitionKeyCallback(n),d=null!==(l=r._usedFromBucket.get(u))&&void 0!==l?l:0;if(d>=r._bucketSize||r._paused)switch(c.limitReachedBehavior){case"enqueue":var f=r._getPartitionedQueue(u);f.push(c),d+f.length>=r._bucketSize?r._logger.warn("Rate limit of ".concat(r._bucketSize," for ").concat(u?"partition ".concat(u):"default partition"," was reached, waiting for ").concat(r._paused?"the limiter to be unpaused":"a free bucket entry","; queue size is ").concat(f.length)):r._logger.info("Enqueueing request for ".concat(u?"partition ".concat(u):"default partition"," because the rate limiter is paused; queue size is ").concat(f.length));break;case"null":c.resolve(null),r._paused?r._logger.info("Returning null for request for ".concat(u?"partition ".concat(u):"default partition"," because the rate limiter is paused")):r._logger.warn("Rate limit of ".concat(r._bucketSize," for ").concat(u?"partition ".concat(u):"default partition"," was reached, dropping request and returning null"));break;case"throw":c.reject(new mA("Request dropped because ".concat(r._paused?"the rate limiter is paused":"the rate limit for ".concat(u?"partition ".concat(u):"default partition"," was reached"))));break;default:throw new Error("this should never happen")}else r._runRequest(c,u)})];case 1:return[2,i.sent()]}})})},e.prototype.clear=function(){this._partitionedQueue.clear()},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){var n,t;this._paused=!1;try{for(var r=Zd(this._partitionedQueue.keys()),i=r.next();!i.done;i=r.next())this._runNextRequest(i.value)}catch(s){n={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}},e.prototype._getPartitionedQueue=function(n){if(this._partitionedQueue.has(n))return this._partitionedQueue.get(n);var t=[];return this._partitionedQueue.set(n,t),t},e.prototype._runRequest=function(n,t){var r;return wi(this,void 0,void 0,function(){var i,o,s,a,l,c,u=this;return Ei(this,function(d){switch(d.label){case 0:i=this._getPartitionedQueue(t),this._logger.debug("doing a request for ".concat(t?"partition ".concat(t):"default partition",", new queue length is ").concat(i.length)),this._usedFromBucket.set(t,(null!==(r=this._usedFromBucket.get(t))&&void 0!==r?r:0)+1),o=n.req,s=n.resolve,a=n.reject,d.label=1;case 1:return d.trys.push([1,3,4,5]),l=s,[4,this._callback(o)];case 2:return l.apply(void 0,[d.sent()]),[3,5];case 3:return c=d.sent(),a(c),[3,5];case 4:return setTimeout(function(){var f=u._usedFromBucket.get(t)-1;u._usedFromBucket.set(t,f),i.length&&f<u._bucketSize&&u._runNextRequest(t)},this._timeFrame),[7];case 5:return[2]}})})},e.prototype._runNextRequest=function(n){if(!this._paused){var r=this._getPartitionedQueue(n).shift();r&&this._runRequest(r,n)}},e}();function Qv(){var e,n;return{promise:new Promise(function(r,i){e=r,n=i}),resolve:e,reject:n}}function Zv(e){return wi(this,void 0,Promise,function(){return Ei(this,function(n){switch(n.label){case 0:return"function"!=typeof e?[3,2]:[4,e()];case 1:return[2,n.sent()];case 2:return[2,e]}})})}function _A(e){var n,t,r;return Ei(this,function(i){switch(i.label){case 0:n=0,t=1,i.label=1;case 1:return n<e?[4,n]:[3,3];case 2:return i.sent(),r=Si([t,n+t],2),n=r[0],t=r[1],[3,1];case 3:return[4,e];case 4:return i.sent(),[3,3];case 5:return[2]}})}function io(e){return void 0===e&&(e=!0),function(n,t){Object.defineProperty(n,t,{get:function(){},set:function(r){Object.defineProperty(this,t,{value:r,writable:!0,enumerable:e})},enumerable:e})}}class Wq{constructor(n,t,r,i=!1){this.owner=n,this.event=t,this.listener=r,this._internal=i}unbind(){this.owner.removeListener(this)}}class Pc{constructor(){this._eventListeners=new Map,this._internalEventListeners=new Map}on(n,t){return this._addListener(!1,n,t)}addListener(n,t){return this._addListener(!1,n,t)}removeListener(n,t){this._removeListener(!1,n,t)}registerEvent(){const n=t=>this.addListener(n,t);return n}emit(n,...t){if(this._eventListeners.has(n))for(const r of this._eventListeners.get(n))r(...t);if(this._internalEventListeners.has(n))for(const r of this._internalEventListeners.get(n))r(...t)}registerInternalEvent(){const n=t=>this.addInternalListener(n,t);return n}addInternalListener(n,t){return this._addListener(!0,n,t)}removeInternalListener(n,t){this._removeListener(!0,n,t)}_addListener(n,t,r){const i=n?this._eventListeners:this._internalEventListeners;return i.has(t)?i.get(t).push(r):i.set(t,[r]),new Wq(this,t,r,n)}_removeListener(n,t,r){const i=n?this._eventListeners:this._internalEventListeners;if(t)if("object"==typeof t)this._removeListener(t._internal,t.event,t.listener);else{const o=t;if(i.has(o))if(r){const s=i.get(o);let a=0;for(;-1!==(a=s.indexOf(r));)s.splice(a,1)}else i.delete(o)}else i.clear()}}class Qo extends Error{constructor(n,t){var r;super(n,t),Object.setPrototypeOf(this,new.target.prototype),null===(r=Error.captureStackTrace)||void 0===r||r.call(Error,this,new.target.constructor)}get name(){return this.constructor.name}}class qf extends Qo{}const qq=6e4;function Yf(e){var n;return null!==(n=xc(function vA(e){return xc(e.expiresIn,n=>e.obtainmentTimestamp+1e3*n-qq)}(e),t=>Date.now()>t))&&void 0!==n&&n}var Qf=Te(972);const Qq=function(e,n){return/^\/\//.test(e)&&(e="https:"+e),Qf.call(this,e,n)},Zq=Qf.Headers;var yA=Te(512);Te(28),Te(580);class bA extends Qo{constructor(n,t,r,i,o,s){super(`Encountered HTTP status code ${n}: ${t}\n\nURL: ${r}\nMethod: ${i}\nBody:\n${!s&&o.length>150?`${o.slice(0,147)}...`:o}`),this._statusCode=n,this._url=r,this._method=i,this._body=o}get statusCode(){return this._statusCode}get url(){return this._url}get method(){return this._method}get body(){return this._body}}function Kv(){return(Kv=H(function*(e,n){var t;if(!e.ok){const r="application/json"===e.headers.get("Content-Type"),i=r?JSON.stringify(yield e.json(),null,2):yield e.text(),o=yA(n.query,{arrayFormat:"repeat",addQueryPrefix:!0});throw new bA(e.status,e.statusText,`${n.url}${o}`,null!==(t=n.method)&&void 0!==t?t:"GET",i,r)}})).apply(this,arguments)}function Jv(){return(Jv=H(function*(e){if(204===e.status)return;const n=yield e.text();return n?JSON.parse(n):void 0})).apply(this,arguments)}function Xv(){return(Xv=H(function*(e,n,t,r,i={}){var o,s;const a=null!==(o=e.type)&&void 0!==o?o:"helix",l=function Xq(e,n){switch(n){case"helix":return`https://api.twitch.tv/helix/${e.replace(/^\//,"")}`;case"auth":return`https://id.twitch.tv/oauth2/${e.replace(/^\//,"")}`;default:return e}}(e.url,a),c=yA(e.query,{arrayFormat:"repeat",addQueryPrefix:!0}),u=new Zq({Accept:"application/json"});let d;e.jsonBody&&(d=JSON.stringify(e.jsonBody),u.append("Content-Type","application/json")),n&&"auth"!==a&&u.append("Client-ID",n),t&&u.append("Authorization",`${"helix"===a?r??"Bearer":"OAuth"} ${t}`);const f={...i,method:null!==(s=e.method)&&void 0!==s?s:"GET",headers:u,body:d};return yield Qq(`${l}${c}`,f)})).apply(this,arguments)}function Zf(e,n,t,r){return ey.apply(this,arguments)}function ey(){return ey=H(function*(e,n,t,r,i={}){const o=yield function e9(e,n,t,r){return Xv.apply(this,arguments)}(e,n,t,r,i);return yield function Kq(e,n){return Kv.apply(this,arguments)}(o,e),yield function Jq(e){return Jv.apply(this,arguments)}(o)}),ey.apply(this,arguments)}class Ra extends Qo{constructor(n){super("Invalid token supplied",n)}}function t9(e,n,t,r){return{grant_type:"authorization_code",client_id:e,client_secret:n,code:t,redirect_uri:r}}function n9(e,n){return{grant_type:"client_credentials",client_id:e,client_secret:n}}function r9(e,n,t){return{grant_type:"refresh_token",client_id:e,client_secret:n,refresh_token:t}}const Zo=Symbol("twurpleRawData");class i9{constructor(n){this[Zo]=n}}function Fc(e,n,t){return r=>{const i=t?function(){return`[${n}#${this[t]} - please check https://twurple.js.org/reference/${e}/classes/${n}.html for available properties]`}:function(){return`[${n} - please check https://twurple.js.org/reference/${e}/classes/${n}.html for available properties]`};Object.defineProperty(r.prototype,Symbol.for("nodejs.util.inspect.custom"),{value:i,enumerable:!1})}}let o9=(()=>{let e=class extends i9{constructor(t){super(t),this._obtainmentDate=new Date}get clientId(){return this[Zo].client_id}get userId(){var t;return null!==(t=this[Zo].user_id)&&void 0!==t?t:null}get userName(){var t;return null!==(t=this[Zo].login)&&void 0!==t?t:null}get scopes(){return this[Zo].scopes}get expiryDate(){return xc(this[Zo].expires_in,t=>new Date(this._obtainmentDate.getTime()+1e3*t))}};return e=pn([Fc("auth","TokenInfo","clientId")],e),e})();function ty(e){var n,t;return{accessToken:e.access_token,refreshToken:e.refresh_token||null,scope:null!==(n=e.scope)&&void 0!==n?n:[],expiresIn:null!==(t=e.expires_in)&&void 0!==t?t:null,obtainmentTimestamp:Date.now()}}function ny(){return(ny=H(function*(e,n,t,r){return ty(yield Zf({type:"auth",url:"token",method:"POST",query:t9(e,n,t,r)}))})).apply(this,arguments)}function ry(){return(ry=H(function*(e,n){return ty(yield Zf({type:"auth",url:"token",method:"POST",query:n9(e,n)}))})).apply(this,arguments)}function DA(e,n,t){return iy.apply(this,arguments)}function iy(){return(iy=H(function*(e,n,t){return ty(yield Zf({type:"auth",url:"token",method:"POST",query:r9(e,n,t)}))})).apply(this,arguments)}function Ii(e,n){return sy.apply(this,arguments)}function sy(){return(sy=H(function*(e,n){try{const t=yield Zf({type:"auth",url:"validate"},n,e);return new o9(t)}catch(t){throw t instanceof bA&&401===t.statusCode?new Ra({cause:t}):t}})).apply(this,arguments)}const l9=new Map([["channel_commercial",["channel:edit:commercial"]],["channel_editor",["channel:manage:broadcast"]],["channel_read",["channel:read:stream_key"]],["channel_subscriptions",["channel:read:subscriptions"]],["user_blocks_read",["user:read:blocked_users"]],["user_blocks_edit",["user:manage:blocked_users"]],["user_follows_edit",["user:edit:follows"]],["user_read",["user:read:email"]],["user_subscriptions",["user:read:subscriptions"]],["user:edit:broadcast",["channel:manage:broadcast","channel:manage:extensions"]]]);function c9(e,n){if(n?.length){const t=new Set(e.flatMap(r=>{var i;return[r,...null!==(i=l9.get(r))&&void 0!==i?i:[]]}));if(n.every(r=>!t.has(r))){const r=n.join(", ");throw new Error(`This token does not have any of the requested scopes (${r}) and can not be upgraded.\nIf you need dynamically upgrading scopes, please implement the AuthProvider interface accordingly:\n\n\thttps://twurple.js.org/reference/auth/interfaces/AuthProvider.html`)}}}function cy(e,n){for(const t of n)c9(e,t)}function uy(){return(uy=H(function*(e,n,t,r,i){if(i?.length||!t){const o=yield Ii(n,e);if(!o.userId)throw new Error("Trying to use an app access token as a user access token");const s=r??o.scopes;return i&&cy(s,i.filter(a=>!!a)),[s,o.userId]}return[r,t]})).apply(this,arguments)}function Ai(e){return"string"==typeof e?e:"number"==typeof e?e.toString(10):e.id}class CA extends Qo{constructor(n){super(`${n} - this should never happen, please file a bug in the GitHub issue tracker`)}}class wA extends Qo{constructor(n){super(`The user context for the user ${n} has been disabled.\nThis happened because the access token became invalid (e.g. by expiry) and refreshing it failed (e.g. because the account's password was changed).\n\nUse .addUser(), .addUserForToken() or .addUserForCode() for the same user context to re-enable the user with a new, valid token.`),this.userId=n}}class d9 extends Qo{constructor(n){super(`User ${n} was removed while trying to fetch a token.\n\nMake sure you're not executing any actions when you want to remove a user.`),this.userId=n}}class f9 extends Qo{constructor(n){super(`Unknown intent: ${n}`),this.intent=n}}class EA{constructor(n){this._newTokenScopeSets=[],this._newTokenPromise=null,this._queuedScopeSets=[],this._queueExecutor=null,this._queuePromise=null,this._executor=n}fetch(...n){var t=this;return H(function*(){var r;const i=n.filter(l=>!!l);if(t._newTokenPromise){if(!i.length)return yield t._newTokenPromise;if(t._queueExecutor?t._queuedScopeSets.push(...i):t._queuedScopeSets=[...i],!t._queuePromise){const{promise:l,resolve:c,reject:u}=Qv();t._queuePromise=l,t._queueExecutor=H(function*(){var d;if(t._queuePromise){t._newTokenScopeSets=t._queuedScopeSets,t._queuedScopeSets=[],t._newTokenPromise=t._queuePromise,t._queuePromise=null,t._queueExecutor=null;try{c(yield t._executor(t._newTokenScopeSets))}catch(f){u(f)}finally{t._newTokenPromise=null,t._newTokenScopeSets=[],null===(d=t._queueExecutor)||void 0===d||d.call(t)}}})}return yield t._queuePromise}t._newTokenScopeSets=[...i];const{promise:o,resolve:s,reject:a}=Qv();t._newTokenPromise=o;try{s(yield t._executor(t._newTokenScopeSets))}catch(l){a(l)}finally{t._newTokenPromise=null,t._newTokenScopeSets=[],null===(r=t._queueExecutor)||void 0===r||r.call(t)}return yield o})()}}let h9=(()=>{let e=class extends Pc{constructor(t){var r,i;super(),r=this,this._userAccessTokens=new Map,this._userTokenFetchers=new Map,this._intentToUserId=new Map,this._userIdToIntents=new Map,this._cachedRefreshFailures=new Set,this.onRefresh=this.registerEvent(),this.onRefreshFailure=this.registerEvent(),this._clientId=t.clientId,this._clientSecret=t.clientSecret,this._redirectUri=t.redirectUri,this._appImpliedScopes=null!==(i=t.appImpliedScopes)&&void 0!==i?i:[],this._appTokenFetcher=new EA(function(){var o=H(function*(s){return yield r._fetchAppToken(s)});return function(s){return o.apply(this,arguments)}}())}addUser(t,r,i){var o=this;const s=Ai(t);if(!r.refreshToken)throw new Error(`Trying to add user ${s} without refresh token`);this._cachedRefreshFailures.delete(s),this._userAccessTokens.set(s,{...r,userId:s}),this._userTokenFetchers.has(s)||this._userTokenFetchers.set(s,new EA(function(){var a=H(function*(l){return yield o._fetchUserToken(s,l)});return function(l){return a.apply(this,arguments)}}())),i&&this.addIntentsToUser(t,i)}addUserForToken(t,r){var i=this;return H(function*(){let o=null;if(t.accessToken&&!Yf(t))try{const c=yield Ii(t.accessToken);o=[t,c]}catch(c){if(!(c instanceof Ra))throw c}if(!o){if(!t.refreshToken)throw new Ra;const c=yield DA(i._clientId,i._clientSecret,t.refreshToken),u=yield Ii(c.accessToken);i.emit(i.onRefresh,u.userId,c),o=[c,u]}const[s,a]=o;if(!a.userId)throw new qf("Could not determine a user ID for your token; you might be trying to disguise an app token as a user token.");const l=s.scope?s:{...s,scope:a.scopes};return i.addUser(a.userId,l,r),a.userId})()}addUserForCode(t,r){var i=this;return H(function*(){if(!i._redirectUri)throw new Error("This method requires you to pass a `redirectUri` as a configuration property");const o=yield function s9(e,n,t,r){return ny.apply(this,arguments)}(i._clientId,i._clientSecret,t,i._redirectUri);return yield i.addUserForToken(o,r)})()}hasUser(t){return this._userTokenFetchers.has(Ai(t))}removeUser(t){const r=Ai(t);if(this._userIdToIntents.has(r)){const i=this._userIdToIntents.get(r);for(const o of i)this._intentToUserId.delete(o);this._userIdToIntents.delete(r)}this._userAccessTokens.delete(r),this._userTokenFetchers.delete(r),this._cachedRefreshFailures.delete(r)}addIntentsToUser(t,r){const i=Ai(t);if(!this._userAccessTokens.has(i))throw new Error("Trying to add intents to a user that was not added to this provider");for(const o of r)this._intentToUserId.has(o)&&this._userIdToIntents.get(this._intentToUserId.get(o)).delete(o),this._intentToUserId.set(o,i),this._userIdToIntents.has(i)?this._userIdToIntents.get(i).add(o):this._userIdToIntents.set(i,new Set([o]))}getIntentsForUser(t){const r=Ai(t);return this._userIdToIntents.has(r)?Array.from(this._userIdToIntents.get(r)):[]}removeIntents(t){var r;for(const i of t)if(this._intentToUserId.has(i)){const o=this._intentToUserId.get(i);null===(r=this._userIdToIntents.get(o))||void 0===r||r.delete(i),this._intentToUserId.delete(i)}}refreshAccessTokenForUser(t){var r=this;return H(function*(){const i=Ai(t);if(r._cachedRefreshFailures.has(i))throw new wA(i);const o=r._userAccessTokens.get(i);if(!o)throw new Error("Trying to refresh token for user that was not added to the provider");const s=yield r._refreshUserTokenWithCallback(i,o.refreshToken);return r._checkIntermediateUserRemoval(i),r._userAccessTokens.set(i,{...s,userId:i}),r.emit(r.onRefresh,i,s),{...s,userId:i}})()}refreshAccessTokenForIntent(t){var r=this;return H(function*(){if(!r._intentToUserId.has(t))throw new f9(t);const i=r._intentToUserId.get(t);return yield r.refreshAccessTokenForUser(i)})()}get clientId(){return this._clientId}getCurrentScopesForUser(t){var r;const i=this._userAccessTokens.get(Ai(t));if(!i)throw new Error("Trying to get scopes for user that was not added to the provider");return null!==(r=i.scope)&&void 0!==r?r:[]}getAccessTokenForUser(t,...r){var i=this;return H(function*(){const o=Ai(t),s=i._userTokenFetchers.get(o);if(!s)return null;if(i._cachedRefreshFailures.has(o))throw new wA(o);return yield s.fetch(...r)})()}getAccessTokenForIntent(t,...r){var i=this;return H(function*(){if(!i._intentToUserId.has(t))return null;const o=i._intentToUserId.get(t),s=yield i.getAccessTokenForUser(o,...r);if(!s)throw new CA(`Found intent ${t} corresponding to user ID ${o} but no token was found`);return{...s,userId:o}})()}getAnyAccessToken(t){var r=this;return H(function*(){if(t){const i=Ai(t);if(r._userAccessTokens.has(i)){const o=yield r.getAccessTokenForUser(i);if(!o)throw new CA(`Token for user ID ${i} exists but nothing was returned by getAccessTokenForUser`);return{...o,userId:i}}}return yield r.getAppAccessToken()})()}getAppAccessToken(t=!1){var r=this;return H(function*(){return t&&(r._appAccessToken=void 0),yield r._appTokenFetcher.fetch(...r._appImpliedScopes.map(i=>[i]))})()}_checkIntermediateUserRemoval(t){if(!this._userTokenFetchers.has(t))throw this._cachedRefreshFailures.delete(t),new d9(t)}_fetchUserToken(t,r){var i=this;return H(function*(){const o=i._userAccessTokens.get(t);if(!o)throw new Error("Trying to get token for user that was not added to the provider");if(o.accessToken&&!Yf(o))try{if(o.scope)return cy(o.scope,r),o;const[a=[]]=yield function u9(e,n,t,r,i){return uy.apply(this,arguments)}(i._clientId,o.accessToken,t,o.scope,r),l={...o,scope:a};return i._checkIntermediateUserRemoval(t),i._userAccessTokens.set(t,l),l}catch(a){if(!(a instanceof Ra))throw a}i._checkIntermediateUserRemoval(t);const s=yield i.refreshAccessTokenForUser(t);return cy(s.scope,r),s})()}_refreshUserTokenWithCallback(t,r){var i=this;return H(function*(){try{return yield DA(i.clientId,i._clientSecret,r)}catch(o){throw i._cachedRefreshFailures.add(t),i.emit(i.onRefreshFailure,t),o}})()}_fetchAppToken(t){var r=this;return H(function*(){if(t.length>0)for(const i of t){if(!r._appImpliedScopes.length)throw new Error(`One of the scopes ${i.join(", ")} requested but the client credentials flow does not support scopes`);if(i.every(o=>!r._appImpliedScopes.includes(o)))throw new Error(`One of the scopes ${i.join(", ")} requested but only the scope ${r._appImpliedScopes.join(", ")} is implied`)}return!r._appAccessToken||Yf(r._appAccessToken)?yield r._refreshAppToken():r._appAccessToken})()}_refreshAppToken(){var t=this;return H(function*(){return t._appAccessToken=yield function a9(e,n){return ry.apply(this,arguments)}(t._clientId,t._clientSecret)})()}};return pn([io(!1)],e.prototype,"_clientSecret",void 0),pn([io(!1)],e.prototype,"_userAccessTokens",void 0),pn([io(!1)],e.prototype,"_userTokenFetchers",void 0),pn([io(!1)],e.prototype,"_appAccessToken",void 0),pn([io(!1)],e.prototype,"_appTokenFetcher",void 0),e=pn([Fc("auth","RefreshingAuthProvider","clientId")],e),e})();var xa=null;typeof WebSocket<"u"?xa=WebSocket:typeof MozWebSocket<"u"?xa=MozWebSocket:typeof global<"u"?xa=global.WebSocket||global.MozWebSocket:typeof window<"u"?xa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(xa=self.WebSocket||self.MozWebSocket);class p9 extends Pc{constructor({lineBased:n,logger:t,additionalOptions:r}={}){super(),this._currentLine="",this._connecting=!1,this._connected=!1,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._lineBased=n??!1,this._logger=t,this._additionalOptions=r}get isConnecting(){return this._connecting}get isConnected(){return this._connected}sendLine(n){this._connected&&(n=n.replace(/[\0\r\n]/g,""),this.sendRaw(`${n}\r\n`))}assumeExternalDisconnect(){var n;null===(n=this._logger)||void 0===n||n.trace("AbstractConnection assumeExternalDisconnect"),this._connected=!1,this._connecting=!1,this.clearSocket(),this.emit(this.onDisconnect,!1)}receiveRaw(n){var t,r;if(!this._lineBased)return void this.emit(this.onReceive,n);const i=n.split("\r\n");if(this._currentLine+=null!==(t=i.shift())&&void 0!==t?t:"",i.length){this.emit(this.onReceive,this._currentLine),this._currentLine=null!==(r=i.pop())&&void 0!==r?r:"";for(const o of i)this.emit(this.onReceive,o)}}}class g9 extends p9{constructor(n,t){if(super(t),this._socket=null,this._closingOnDemand=!1,n.hostName&&n.port)this._url=`ws${n.secure?"s":""}://${n.hostName}:${n.port}`;else{if(!n.url)throw new Error("WebSocketConnection requires either hostName & port or url to be set");this._url=n.url}}get hasSocket(){return!!this._socket}sendRaw(n){var t;null===(t=this._socket)||void 0===t||t.send(n)}connect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("WebSocketConnection connect"),this._connecting=!0,this._socket=new xa(this._url,null===(t=this._additionalOptions)||void 0===t?void 0:t.wsOptions),this._socket.onopen=()=>{var r;null===(r=this._logger)||void 0===r||r.trace("WebSocketConnection onOpen"),this._connected=!0,this._connecting=!1,this.emit(this.onConnect)},this._socket.onmessage=({data:r})=>{this.receiveRaw(r.toString())},this._socket.onerror=r=>{var i;null===(i=this._logger)||void 0===i||i.trace(`WebSocketConnection onError message:${r.message}`)},this._socket.onclose=r=>{var i;const s=this._connecting;if(null===(i=this._logger)||void 0===i||i.trace(`WebSocketConnection onClose wasConnected:${this._connected.toString()} wasConnecting:${s.toString()} closingOnDemand:${this._closingOnDemand.toString()} wasClean:${r.wasClean.toString()}`),this._connected=!1,this._connecting=!1,r.wasClean||this._closingOnDemand)this._closingOnDemand=!1,this.emit(this.onDisconnect,!0),this.emit(this.onEnd,!0);else{const a=new Error(`[${r.code}] ${r.reason}`);this.emit(this.onDisconnect,!1,a),this.emit(this.onEnd,!1,a)}this.clearSocket()}}disconnect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("WebSocketConnection disconnect"),this._closingOnDemand=!0,null===(t=this._socket)||void 0===t||t.close()}clearSocket(){this._socket&&(this._socket.onopen=null,this._socket.onmessage=null,this._socket.onerror=null,this._socket.onclose=null,this._socket=null)}}class m9{constructor(){throw new Error("DirectConnection is not implemented in a browser environment")}}class _9 extends Pc{constructor(n,t,r={}){var i;super(),this._type=n,this._target=t,this._config=r,this._retryLimit=1/0,this._initialRetryLimit=3,this._connecting=!1,this._connectionRetryCount=0,this.onReceive=this.registerEvent(),this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onEnd=this.registerEvent(),this._retryLimit=null!==(i=r.retryLimit)&&void 0!==i?i:1/0,this._logger=r.logger}get isConnected(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.isConnected)&&void 0!==t&&t}get isConnecting(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.isConnecting)&&void 0!==t?t:this._connecting}get hasSocket(){var n,t;return null!==(t=null===(n=this._currentConnection)||void 0===n?void 0:n.hasSocket)&&void 0!==t&&t}sendLine(n){var t;null===(t=this._currentConnection)||void 0===t||t.sendLine(n)}connect(){if(this._currentConnection||this._connecting)throw new Error("Connection already present");this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(!0)}disconnect(){var n;if(null===(n=this._logger)||void 0===n||n.trace(`PersistentConnection disconnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`),this._connecting=!1,this._currentConnection){const t=this._currentConnection;this._currentConnection=void 0,t.disconnect()}}assumeExternalDisconnect(){var n,t;null===(n=this._logger)||void 0===n||n.trace("PersistentConnection assumeExternalDisconnect"),null===(t=this._currentConnection)||void 0===t||t.assumeExternalDisconnect()}reconnect(){this._reconnect(!0)}acknowledgeSuccessfulReconnect(){this._previousConnection&&(this._previousConnection.disconnect(),this._previousConnection=void 0)}_startTryingToConnect(n=!1){this._connecting=!0,this._connectionRetryCount=0,this._tryConnect(n)}_tryConnect(n=!1){var t,r;null===(t=this._logger)||void 0===t||t.trace(`PersistentConnection tryConnect currentConnectionExists:${(!!this._currentConnection).toString()} connecting:${this._connecting.toString()}`);const i=n?this._initialRetryLimit:this._retryLimit;null!==(r=this._retryTimerGenerator)&&void 0!==r||(this._retryTimerGenerator=_A(120));const o=this._currentConnection=new this._type(function Gq(e){return"function"==typeof e?e():e}(this._target),this._config);o.onReceive(s=>this.emit(this.onReceive,s)),o.onConnect(()=>{this.emit(this.onConnect),this._connecting=!1,this._retryTimerGenerator=void 0}),o.onDisconnect((s,a)=>{var l,c,u;if(this.emit(this.onDisconnect,s,a),s)this.emit(this.onEnd,!0),this._connecting=!1,this._retryTimerGenerator=void 0,o.disconnect(),this._currentConnection===o&&(this._currentConnection=void 0),this._previousConnection===o&&(this._previousConnection=void 0);else if(this._connecting){if(null===(l=this._logger)||void 0===l||l.debug(`Connection error caught: ${null!==(c=a?.message)&&void 0!==c?c:"unknown error"}`),this._connectionRetryCount>=i)return;this._connectionRetryCount++;const d=this._retryTimerGenerator.next().value;0!==d&&(null===(u=this._logger)||void 0===u||u.info(`Retrying in ${d} seconds`)),setTimeout(()=>{var f;this._connecting&&(null===(f=this._logger)||void 0===f||f.info(n?"Retrying connection":"Trying to reconnect"),this._tryConnect())},1e3*d)}else this._reconnect()}),o.connect()}_reconnect(n=!1){n&&this._config.overlapManualReconnect?(this._previousConnection=this._currentConnection,this._currentConnection=void 0):this.disconnect(),this._startTryingToConnect(n)}}function Kf(e,n){return Object.assign.apply(Object,ko([{}],Si(e.map(n)),!1))}function Ko(e,n,t){var r=e.split(n);return r.length<=t?r:ko(ko([],Si(r.slice(0,t-1)),!1),[r.slice(t-1).join(n)],!1)}function v9(e,n,t){if("number"==typeof e&&(e=e.toString()),(n-=e.length)<=0)return e;void 0===t&&(t=" ");var r="";do{1==(1&n)&&(r+=t),(n>>=1)&&(t+=t)}while(n);return r+e}function dy(e,n){Object.entries(e).forEach(function(t){var r=Si(t,2);return n(r[1],r[0])})}function Lc(e){var n,t,r;if(Array.isArray(e)){for(t=Array(n=e.length);n--;)t[n]=(r=e[n])&&"object"==typeof r?Lc(r):r;return t}if("[object Object]"===Object.prototype.toString.call(e)){for(n in t={},e)"__proto__"===n?Object.defineProperty(t,n,{value:Lc(e[n]),configurable:!0,enumerable:!0,writable:!0}):t[n]=(r=e[n])&&"object"==typeof r?Lc(r):r;return t}return e}const y9={name:"away-notify"};class Jf extends Error{constructor(n,t,r){super(`command "${n}" expected ${t} or more parameters, got ${r}`),this._command=n,this._expectedParams=t,this._actualParams=r,Object.setPrototypeOf(this,Jf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jf)}get command(){return this._command}get expectedParams(){return this._expectedParams}get actualParams(){return this._actualParams}}class Xf extends Error{constructor(n,t,r,i){var o;super(`required parameter "${t}" did not validate against ${null!==(o=r.type)&&void 0!==o?o:"regex"} validation: "${i}"`),this._command=n,this._paramName=t,this._paramSpec=r,this._givenValue=i,Object.setPrototypeOf(this,Xf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf)}get command(){return this._command}get paramName(){return this._paramName}get paramSpec(){return this._paramSpec}get givenValue(){return this._givenValue}}const ka={channelTypes:"#&",supportedUserModes:"iwso",supportedChannelModes:{prefix:"ov",list:"b",alwaysWithParam:"ovk",paramWhenSet:"l",noParam:"imnpst"},prefixes:[{modeChar:"v",prefix:"+"},{modeChar:"o",prefix:"@"}]};var b9=Te(796);function fy(e,n="#&"){return new RegExp(`^[${b9(n)}][^ \b\0\n\r,]+$`).test(e)}const SA={0:"\0",n:"\n",r:"\r","\x10":"\x10"};function TA(e){if(!e.startsWith("\x01")||((e=e.substring(1)).endsWith("\x01")&&(e=e.slice(0,-1)),!e))return!1;e=e.replace(/\x10(.)/,(r,i)=>i in SA?SA[i]:"");let[n,t=""]=Ko(e," ",2);return n=n?n.toUpperCase():"",{command:n,params:t}}const D9={"\\":"\\",";":":","\n":"n","\r":"r"," ":"s"};let S=(()=>{class e{static checkParam(t,r,i=ka){return!("channel"===r.type&&!fy(t,i.channelTypes)||"channelList"===r.type&&!t.split(",").every(s=>fy(s,i.channelTypes))||r.match&&!r.match.test(t))}constructor(t,{params:r,tags:i,prefix:o,rawLine:s}={},{serverProperties:a=ka,isServer:l=!1,shouldParseParams:c=!0}={},u){this._params=[],this._serverProperties=ka,this._paramSpec=u,this._command=t,this._params=r,this._tags=i??new Map,this._prefix=o,this._serverProperties=a,this._raw=s,c&&this.parseParams(l)}getMinParamCount(t=!1){return this._paramSpec?Object.values(this._paramSpec).filter(r=>!(r.noServer&&t||r.noClient&&!t||r.optional)).length:0}get paramCount(){var t,r;return null!==(r=null===(t=this._params)||void 0===t?void 0:t.length)&&void 0!==r?r:0}prefixToString(){return this._prefix?function w9(e){let n=`${e.nick}`;return e.user&&(n+=`!${e.user}`),e.host&&(n+=`@${e.host}`),n}(this._prefix):""}tagsToString(){return[...this._tags.entries()].map(([t,r])=>r?`${t}=${function C9(e){return e.replace(/[\\;\n\r ]/g,n=>`\\${D9[n]}`)}(r)}`:t).join(";")}toString(t=!1,r=!1){const o=[r?this._buildCommandFromRawParams():this._buildCommandFromNamedParams()];if(t){const a=this.prefixToString();a&&o.unshift(`:${a}`)}const s=this.tagsToString();return s&&o.unshift(`@${s}`),o.join(" ")}_initPrefixAndTags(t,r){this._prefix=t,r&&(this._tags=r)}parseParams(t=!1){if(this._params){let r=this.getMinParamCount(t);if(r>this._params.length)throw new Jf(this._command,r,this._params.length);const i=this._paramSpec;if(!i)return;let o=0;const s={};for(const[a,l]of Object.entries(i)){if(l.noServer&&t||l.noClient&&!t)continue;if(this._params.length-o<=r){if(l.optional)continue;if(this._params.length-o!==r)throw new Error("not enough parameters left for required parameters parsing (this is a library bug)")}let c=this._params[o];if(!c){if(l.optional)break;throw new Error("unexpected parameter underflow")}if(l.rest){const u=[];for(;this._params[o]&&!this._params[o].trailing;)u.push(this._params[o].value),++o;if(!u.length){if(l.optional)continue;throw new Error(`no parameters left for required rest parameter "${a}"`)}c={value:u.join(" "),trailing:!1}}if(e.checkParam(c.value,l))s[a]={...c},l.optional||--r,l.rest||++o;else if(!l.optional)throw new Xf(this._command,a,l,c.value);if(l.trailing)break}if(this._parsedParams=s,this._paramSpec)for(const a of Object.keys(this._paramSpec))Object.defineProperty(this,a,{get(){var l,c;return null===(c=null===(l=this._parsedParams)||void 0===l?void 0:l[a])||void 0===c?void 0:c.value}})}}get rawParamValues(){var t,r;return null!==(r=null===(t=this._params)||void 0===t?void 0:t.map(i=>i.value))&&void 0!==r?r:[]}get prefix(){return this._prefix}get command(){return this._command}get tags(){return this._tags}get rawLine(){return this._raw}isResponseTo(t){return!1}endsResponseTo(t){return!1}_acceptsInReplyCollection(t){return t.isResponseTo(this)}_buildCommandFromNamedParams(){const t=this._paramSpec?Object.keys(this._paramSpec):[];return[this._command,...t.map(r=>{var i;const o=null===(i=this._parsedParams)||void 0===i?void 0:i[r];if(o)return(o.trailing?":":"")+o.value}).filter(r=>void 0!==r)].join(" ")}_buildCommandFromRawParams(){var t,r;return[this._command,...null!==(r=null===(t=this._params)||void 0===t?void 0:t.map(i=>`${i.trailing?":":""}${i.value}`))&&void 0!==r?r:[]].join(" ")}}return e.COMMAND="",e.SUPPORTS_CAPTURE=!1,e})();const S9={name:"batch",messageTypes:[(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{reference:{},type:{optional:!0},additionalParams:{optional:!0}})}}return e.COMMAND="BATCH",e})()],usesTags:!0},T9={name:"cap-notify"},M9={name:"chghost",messageTypes:[(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{newUser:{},newHost:{}})}}return e.COMMAND="CHGHOST",e})()]},N9={name:"invite-notify"},I9={name:"labeled-response",messageTypes:[(()=>{class e extends S{}return e.COMMAND="ACK",e})()],usesTags:!0},A9={name:"message-tags",usesTags:!0},O9={name:"multi-prefix"};class R9{constructor(n,t,...r){this._client=n,this._originalMessage=t,this._messages=[],this._endEventHandlers=new Map,this._types=new Set(r)}untilEvent(n){this._cleanEndEventHandler(n);const t=this._client.on(n,()=>this.end());this._endEventHandlers.set(n,t)}promise(){var n=this;return H(function*(){return n._promise||(n._promise=new Promise(t=>n._promiseResolve=t)),yield n._promise})()}collect(n){return!!this._originalMessage._acceptsInReplyCollection(n)&&(this._messages.push(n),n.endsResponseTo(this._originalMessage)&&this.end(),!0)}end(){this._client.stopCollect(this),this._cleanEndEventHandlers(),this._promiseResolve&&this._promiseResolve(this._messages)}_cleanEndEventHandlers(){this._endEventHandlers.forEach(n=>this._client.removeListener(n)),this._endEventHandlers.clear()}_cleanEndEventHandler(n){this._endEventHandlers.has(n)&&(this._client.removeListener(this._endEventHandlers.get(n)),this._endEventHandlers.delete(n))}}let MA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{password:{}})}}return e.COMMAND="PASS",e})(),eh=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nick:{}})}}return e.COMMAND="NICK",e})(),NA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{user:{},mode:{},unused:{},realName:{trailing:!0}})}}return e.COMMAND="USER",e})(),x9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{name:{},password:{}})}}return e.COMMAND="OPER",e})(),IA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0,optional:!0}})}}return e.COMMAND="QUIT",e})(),k9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{},reason:{trailing:!0}})}}return e.COMMAND="SQUIT",e})(),th=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},key:{optional:!0}})}}return e.COMMAND="JOIN",e})(),nh=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="PART",e})();class rh extends Error{constructor(n){super(`Unknown channel mode character ${n}`),this._char=n,Object.setPrototypeOf(this,rh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh)}get char(){return this._char}}let P9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},modes:{rest:!0,optional:!0}})}get isChannel(){return fy(this.target,this._serverProperties.channelTypes)}separate(){const t=[],r=this.modes;if(!r)throw new Error("can't separate a channel mode request, just set actions");const i=r.split(" "),o=i.shift();let s="add";for(const a of o){let l=s;switch(a){case"+":s="add";break;case"-":s="remove";break;default:{let c=!1,u=!0;if(this.isChannel){if(this._serverProperties.supportedChannelModes.alwaysWithParam.includes(a)||this._serverProperties.supportedChannelModes.prefix.includes(a))c=!0;else if(this._serverProperties.supportedChannelModes.paramWhenSet.includes(a))"add"===s&&(c=!0);else if(this._serverProperties.supportedChannelModes.list.includes(a))i.length?c=!0:l="getList";else if(!this._serverProperties.supportedChannelModes.noParam.includes(a))throw new rh(a)}else u=this._serverProperties.supportedUserModes.includes(a);if(c&&!i.length)continue;t.push({prefix:this._prefix,action:l,letter:a,param:c?i.shift():void 0,known:u})}}}return t}}return e.COMMAND="MODE",e})(),F9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},newTopic:{optional:!0,trailing:!0}})}}return e.COMMAND="TOPIC",e})(),hy=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channelList",optional:!0}})}}return e.COMMAND="NAMES",e.SUPPORTS_CAPTURE=!0,e})(),L9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{optional:!0},server:{optional:!0}})}}return e.COMMAND="LIST",e})(),V9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},channel:{type:"channel"}})}}return e.COMMAND="INVITE",e})(),B9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},target:{},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="KICK",e})(),j9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{optional:!0}})}}return e.COMMAND="TIME",e})(),ih=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}}return e.COMMAND="PRIVMSG",e})(),py=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}}return e.COMMAND="NOTICE",e})(),gy=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{mask:{},flags:{optional:!0},extendedMask:{optional:!0,trailing:!0}})}}return e.COMMAND="WHO",e})(),$9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{optional:!0},nickMask:{}})}}return e.COMMAND="WHOIS",e})(),H9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nick:{},count:{optional:!0},server:{optional:!0}})}}return e.COMMAND="WHOWAS",e})(),U9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},reason:{trailing:!0,optional:!0}})}}return e.COMMAND="KILL",e})(),my=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="PING",e})(),_y=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{server:{noClient:!0},text:{trailing:!0}})}}return e.COMMAND="PONG",e})(),G9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="ERROR",e})(),z9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0,optional:!0}})}}return e.COMMAND="AWAY",e})(),W9=(()=>{class e extends S{}return e.COMMAND="REHASH",e})(),q9=(()=>{class e extends S{}return e.COMMAND="RESTART",e})(),Y9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{text:{trailing:!0}})}}return e.COMMAND="WALLOPS",e})(),Q9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nicks:{rest:!0}})}}return e.COMMAND="USERHOST",e})(),Z9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{nicks:{rest:!0}})}}return e.COMMAND="ISON",e})(),Jo=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{match:/^(?:[a-z_\-\[\]\\^{}|`][a-z0-9_\-\[\]\\^{}|`]+|\*)$/i,optional:!0,noClient:!0},subCommand:{match:/^(?:LS|LIST|REQ|ACK|NAK|END|NEW|DEL)$/i},version:{match:/^\d+$/,optional:!0},continued:{match:/^\*$/,optional:!0},capabilities:{trailing:!0,optional:!0}})}isResponseTo(t){if(!(t instanceof e))return!1;switch(this.subCommand){case"ACK":case"NAK":return"REQ"===t.subCommand&&t.capabilities===this.capabilities.trim();case"LS":case"LIST":return t.subCommand===this.subCommand;default:return!1}}endsResponseTo(t){if(!(t instanceof e))return!1;switch(this.subCommand){case"LS":case"LIST":return!this.continued;default:return!0}}}return e.COMMAND="CAP",e.SUPPORTS_CAPTURE=!0,e})(),K9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{}})}}return e.COMMAND="TAGMSG",e})(),AA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},welcomeText:{trailing:!0}})}}return e.COMMAND="001",e})(),J9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},yourHost:{trailing:!0}})}}return e.COMMAND="002",e})(),X9=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},createdText:{trailing:!0}})}}return e.COMMAND="003",e})(),OA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},serverName:{},version:{},userModes:{},channelModes:{},channelModesWithParam:{optional:!0}})}}return e.COMMAND="004",e})(),RA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},supports:{rest:!0},suffix:{trailing:!0}})}}return e.COMMAND="005",e})(),e7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},modes:{}})}}return e.COMMAND="221",e})(),t7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},text:{trailing:!0}})}}return e.COMMAND="301",e})(),n7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},hosts:{trailing:!0}})}}return e.COMMAND="302",e})(),r7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="305",e})(),i7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="306",e})(),o7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},username:{},host:{},_unused:{},realname:{trailing:!0}})}}return e.COMMAND="311",e})(),s7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},query:{},suffix:{trailing:!0}})}isResponseTo(t){return t instanceof gy}endsResponseTo(){return!0}}return e.COMMAND="315",e})(),a7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nickMask:{},suffix:{trailing:!0}})}}return e.COMMAND="318",e})(),l7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channels:{trailing:!0}})}}return e.COMMAND="319",e})(),c7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},memberCount:{},topic:{trailing:!0}})}}return e.COMMAND="322",e})(),u7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="323",e})(),d7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},modes:{rest:!0}})}}return e.COMMAND="324",e})(),f7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="331",e})(),h7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},topic:{trailing:!0}})}}return e.COMMAND="332",e})(),p7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},who:{},ts:{}})}}return e.COMMAND="333",e})(),g7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"}})}}return e.COMMAND="341",e})(),m7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}return e.COMMAND="348",e})(),_7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="349",e})(),v7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},user:{},host:{},server:{},nick:{},flags:{},hopsAndRealName:{trailing:!0}})}get isAway(){return this.flags.includes("G")}get isOper(){return this.flags.includes("*")}get isBot(){return this.flags.includes("B")}isResponseTo(t){return t instanceof gy}}return e.COMMAND="352",e})(),y7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channelType:{},channel:{type:"channel"},names:{trailing:!0}})}isResponseTo(t){return t instanceof hy}}return e.COMMAND="353",e})(),b7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}isResponseTo(t){return t instanceof hy}endsResponseTo(){return!0}}return e.COMMAND="366",e})(),D7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},mask:{},creatorName:{optional:!0},timestamp:{optional:!0}})}}return e.COMMAND="367",e})(),C7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="368",e})(),w7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},line:{trailing:!0}})}}return e.COMMAND="372",e})(),E7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},line:{trailing:!0}})}}return e.COMMAND="375",e})(),xA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="376",e})(),S7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="381",e})(),T7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},server:{optional:!0},timestamp:{trailing:!0}})}}return e.COMMAND="391",e})(),M7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}}return e.COMMAND="401",e})(),N7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},server:{},suffix:{trailing:!0}})}}return e.COMMAND="402",e})(),I7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="403",e})(),A7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="404",e})(),O7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="405",e})(),R7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},subCommand:{},suffix:{trailing:!0}})}}return e.COMMAND="410",e})(),x7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},originalCommand:{},suffix:{trailing:!0}})}isResponseTo(t){return t.command===this.originalCommand}endsResponseTo(){return!0}}return e.COMMAND="421",e})(),kA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="422",e})(),k7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="431",e})(),P7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="432",e})(),F7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="433",e})(),L7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="436",e})(),V7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="441",e})(),B7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="442",e})(),j7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},nick:{},channel:{type:"channel"},suffix:{trailing:!0}})}isResponseTo(t){return"NICK"===t.command}endsResponseTo(){return!0}}return e.COMMAND="443",e})(),$7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="451",e})(),H7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},originalCommand:{},suffix:{trailing:!0}})}}return e.COMMAND="461",e})(),PA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="462",e})(),U7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="471",e})(),G7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},char:{},suffix:{trailing:!0}})}}return e.COMMAND="472",e})(),z7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="473",e})(),W7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="474",e})(),q7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{type:"channel"},suffix:{trailing:!0}})}}return e.COMMAND="475",e})(),Y7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="479",e})(),Q7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="481",e})(),Z7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},channel:{},suffix:{trailing:!0}})}}return e.COMMAND="482",e})(),K7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="491",e})(),J7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},modeChar:{optional:!0,match:/^\w$/},suffix:{trailing:!0}})}}return e.COMMAND="501",e})(),X7=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{me:{},suffix:{trailing:!0}})}}return e.COMMAND="502",e})();const eY=new Map([...Object.values(mt),...Object.values(_n)].map(e=>[e.COMMAND,e]));function tY(e){const[n,t]=Ko(e,"!",2);if(t){const[r,i]=Ko(t,"@",2);return i?{nick:n,user:r,host:i}:{nick:n,host:r}}return{nick:n}}const FA={":":";",n:"\n",r:"\r",s:" "};function nY(e){const n=new Map,t=e.split(";");for(const r of t){const[i,o]=Ko(r,"=",2);""!==i&&n.set(i,o?o.replace(/\\(.?)/g,(s,a)=>Object.prototype.hasOwnProperty.call(FA,a)?FA[a]:a):"")}return n}class LA extends Pc{constructor(n){var t;super(),t=this,this._registered=!1,this._supportsCapabilities=!0,this._events=new Map,this._registeredMessageTypes=new Map,this.onConnect=this.registerEvent(),this.onRegister=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onPrivmsg=this.registerEvent(),this.onAction=this.registerEvent(),this.onNotice=this.registerEvent(),this.onNickChange=this.registerEvent(),this.onCtcp=this.registerEvent(),this.onCtcpReply=this.registerEvent(),this.onPasswordError=this.registerEvent(),this.onAnyMessage=this.registerEvent(),this._serverProperties=Lc(ka),this._supportedFeatures={},this._collectors=[],this._clientCapabilities=new Map,this._serverCapabilities=new Map,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._hasRegisteredBefore=!1,this._channelsFromLastRegister=new Set,this._initialConnectionSetupDone=!1;const{connection:r,credentials:i,channels:o,channelTypes:s,webSocket:a,logger:l={}}=n;this._options=n;const{pingOnInactivity:c=60,pingTimeout:u=10}=r;this._pingOnInactivity=c,this._pingTimeout=u,this._currentNick=i.nick,this._logger=Wf({name:"ircv3",emoji:!0,...l}),this.registerCoreMessageTypes();const{hostName:d,secure:f,reconnect:h=!0}=r,g={lineBased:!0,logger:this._logger,additionalOptions:n.connectionOptions},m=a?g9:m9;this._connection=h?new _9(m,{hostName:d,port:this.port,secure:f},g):new m(g,this._logger,n.connectionOptions);for(const v of Object.values(me))this.addCapability(v);this.addInternalListener(this.onRegister,H(function*(){const v=t._hasRegisteredBefore,_=t._channelsFromLastRegister;t._hasRegisteredBefore=!0,t._channelsFromLastRegister=new Set;const T=v&&t._options.rejoinChannelsOnReconnect?_:yield Zv(o);if(T)for(const M of T)t.join(M)})),this.onTypedMessage(Jo,function(){var v=H(function*({subCommand:_,capabilities:T}){const M=T.split(" ");switch(_.toUpperCase()){case"NEW":{t._logger.debug(`Server registered new capabilities: ${M.join(", ")}`);const A=Kf(M,le=>{if(!le)return{};const[Se,vt]=Ko(le,"=",2);return{[Se]:{name:Se,param:vt||!0}}});for(const[le,Se]of Object.entries(A))t._serverCapabilities.set(le,Se);const $=Object.keys(A);yield t._negotiateCapabilities(Array.from(t._clientCapabilities.entries()).filter(([le])=>$.includes(le)).map(([,le])=>le));break}case"DEL":t._logger.debug(`Server removed capabilities: ${M.join(", ")}`);for(const A of M)t._serverCapabilities.delete(A),t._negotiatedCapabilities.delete(A)}});return function(_){return v.apply(this,arguments)}}()),this.onTypedMessage(my,({text:v})=>{this.sendMessage(_y,{text:v})}),this.onTypedMessage(AA,({me:v})=>this._handleReceivedClientNick(v)),this.onTypedMessage(OA,({userModes:v})=>{v&&(this._serverProperties.supportedUserModes=v)}),this.onTypedMessage(RA,({supports:v})=>{const _=Kf(v.split(" "),T=>{const[M,A]=Ko(T,"=",2);return{[M]:A||!0}});this._supportedFeatures={...this._supportedFeatures,..._}}),this.onTypedMessage(xA,({me:v})=>{this._registered||(this._handleReceivedClientNick(v),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(kA,({me:v})=>{this._registered||(this._handleReceivedClientNick(v),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(PA,({me:v})=>{this._registered||(this._logger.warn("We thought we're not registered yet, but we actually are"),this._handleReceivedClientNick(v),this._registered=!0,this.emit(this.onRegister))}),this.onTypedMessage(ih,v=>{var _;const{target:T,text:M}=v,A=TA(M),$=null===(_=v.prefix)||void 0===_?void 0:_.nick;A?"ACTION"===A.command?this.emit(this.onAction,T,$,A.params,v):this.emit(this.onCtcp,T,$,A.command,A.params,v):this.emit(this.onPrivmsg,T,$,M,v)}),this.onTypedMessage(eh,v=>{var _;const{nick:T}=v,M=null===(_=v.prefix)||void 0===_?void 0:_.nick;M===this._currentNick&&(this._currentNick=T),this.emit(this.onNickChange,M,T,v)}),this.onTypedMessage(py,v=>{var _;const{target:T,text:M}=v,A=TA(M),$=null===(_=v.prefix)||void 0===_?void 0:_.nick;A&&this.emit(this.onCtcpReply,T,$,A.command,A.params,v),this.emit(this.onNotice,T,$,M,v)}),this._options.manuallyAcknowledgeJoins||this.onTypedMessage(th,({channel:v,prefix:_})=>{_?.nick===this._currentNick&&this.acknowledgeJoin(v)}),this.onTypedMessage(nh,v=>{var _;(null===(_=v.prefix)||void 0===_?void 0:_.nick)===this._currentNick&&(this._currentChannels.delete(v.channel),this._channelsFromLastRegister.delete(v.channel))}),this.addInternalListener(this.onRegister,()=>this._startPingCheckTimer()),this._desiredNick=i.nick,this._userName=i.userName,this._realName=i.realName,s&&(this._serverProperties.channelTypes=s)}receiveLine(n){var t;let r;this._logger.debug(`Received message: ${n}`);try{r=function rY(e,n=ka,t=eY,r=!1,i=[],o=!0){const s=e.split(" ");let a,l;const c=[];let u,d;for(;s.length;){if(a=s[0],!a.startsWith("@")||u||l||d)if(a.startsWith(":")){if(d||l){c.push({value:s.join(" ").slice(1),trailing:!0});break}a.length>1&&(d=tY(a.slice(1)))}else l?c.push({value:a,trailing:!1}):l=a.toUpperCase();else u=nY(a.slice(1));s.shift()}if(u||(u=new Map),!l)throw new Error(`line without command received: ${e}`);o&&(o=!i.includes(l));let f=S;return t.has(l)&&(f=t.get(l)),new f(l,{params:c,tags:u,prefix:d,rawLine:e},{serverProperties:n,isServer:r,shouldParseParams:o})}(n,this._serverProperties,this._registeredMessageTypes,!0,this._options.nonConformingCommands)}catch(i){return this._logger.error(`Error parsing message: ${i.message}`),void this._logger.trace(null!==(t=i.stack)&&void 0!==t?t:"No stack available")}this._logger.trace(`Parsed message: ${JSON.stringify(r)}`),this._startPingCheckTimer(),this.emit(this.onAnyMessage,r),this._handleEvents(r)}get serverProperties(){return Lc(this._serverProperties)}get port(){const{webSocket:n,connection:{port:t,secure:r}}=this._options;return t||(n?r?443:80:r?6697:6667)}pingCheck(){const n=Date.now(),t=n.toString(),r=this.onTypedMessage(_y,i=>{const{text:o}=i;o===t&&(this._logger.debug(`Current ping: ${Date.now()-n}ms`),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),this.removeMessageListener(r))});this._pingTimeoutTimer=setTimeout(()=>{this.removeMessageListener(r),!1===this._options.connection.reconnect?this._logger.error(`Disconnecting because the last ping took over ${this._pingTimeout} seconds`):this._logger.warn(`Reconnecting because the last ping took over ${this._pingTimeout} seconds`),this._connection.assumeExternalDisconnect()},1e3*this._pingTimeout),this.sendMessage(my,{text:t})}reconnect(n){this.quit(n),this.connect()}registerMessageType(n){""!==n.COMMAND&&(this._logger.trace(`Registering message type ${n.COMMAND}`),this._registeredMessageTypes.set(n.COMMAND.toUpperCase(),n))}knowsCommand(n){return this._registeredMessageTypes.has(n.toUpperCase())}getCommandClass(n){return this._registeredMessageTypes.get(n.toUpperCase())}acknowledgeJoin(n){this._currentChannels.add(n),this._channelsFromLastRegister.add(n)}connect(){this._supportsCapabilities=!1,this._negotiatedCapabilities=new Map,this._currentChannels=new Set,this._currentNick=this._desiredNick,this._setupConnection(),this._logger.info(`Connecting to ${this._options.connection.hostName}:${this.port}`),this._connection.connect()}addCapability(n){if(this._clientCapabilities.set(n.name,n),n.messageTypes)for(const t of Object.values(n.messageTypes))this.registerMessageType(t)}registerCapability(n){var t=this;return H(function*(){return t.addCapability(n),t._serverCapabilities.has(n.name)?yield t._negotiateCapabilities([n]):[]})()}send(n){this.sendRaw(n.toString())}sendRaw(n){this._connection.isConnected&&(this._logger.debug(`Sending message: ${n}`),this._connection.sendLine(n))}onNamedMessage(n,t,r){this._events.has(n)||this._events.set(n,new Map);const i=this._events.get(n);if(!r)do{r=`${n}:${v9(1e4*Math.random(),4,"0")}`}while(i.has(r));return i.set(r,t),r}onTypedMessage(n,t,r){return this.onNamedMessage(n.COMMAND,t,r)}removeMessageListener(n){const[t]=n.split(":");this._events.has(t)&&this._events.get(t).delete(n)}createMessage(n,t,r){return function E9(e,n,t,r,i=ka,o=!1){const s=new e(e.COMMAND,void 0,{serverProperties:i}),a={};if(s._paramSpec&&dy(s._paramSpec,(l,c)=>{if((!o||!l.noServer)&&(o||!l.noClient)){if(c in n){const u=n[c];if(void 0!==u)if(e.checkParam(u,l,i))a[c]={value:u,trailing:!!l.trailing};else if(!l.optional)throw new Error(`required parameter "${c}" did not suit requirements: "${u}"`)}if(!(c in a)&&!l.optional)throw new Error(`required parameter "${c}" not found in command "${e.COMMAND}"`)}}),s._parsedParams=a,s._paramSpec)for(const l of Object.keys(s._paramSpec))Object.defineProperty(s,l,{get(){var c,u;return null===(u=null===(c=this._parsedParams)||void 0===c?void 0:c[l])||void 0===u?void 0:u.value}});return s._initPrefixAndTags(t,r),s}(n,t,void 0,r?new Map(Object.entries(r)):void 0,this.serverProperties)}sendMessage(n,t,r){this.send(this.createMessage(n,t,r))}sendMessageAndCaptureReply(n,t){var r=this;return H(function*(){if(!n.SUPPORTS_CAPTURE)throw new Error(`The command "${n.COMMAND}" does not support reply capture`);const i=r.createMessage(n,t),o=r.collect(i).promise();return r.send(i),yield o})()}get isConnected(){return this._connection.isConnected}get isConnecting(){return this._connection.isConnecting}get isRegistered(){return this._registered}get currentNick(){return this._currentNick}get currentChannels(){return Array.from(this._currentChannels)}collect(n,...t){const r=new R9(this,n,...t);return this._collectors.push(r),r}stopCollect(n){this._collectors.splice(this._collectors.findIndex(t=>t===n),1)}join(n,t){this.sendMessage(th,{channel:n,key:t})}part(n){this.sendMessage(nh,{channel:n})}quit(n){this.sendMessage(IA,{text:n}),this.quitAbruptly()}quitAbruptly(){this._registered=!1,this._connection.disconnect()}say(n,t,r={}){this.sendMessage(ih,{target:n,text:t},r)}sendCtcp(n,t,r){this.say(n,`\x01${t.toUpperCase()} ${r}\x01`)}action(n,t){this.sendCtcp(n,"ACTION",t)}changeNick(n){this._currentNick!==n&&(this._desiredNick=n,this.isRegistered&&this.sendMessage(eh,{nick:n}))}registerCoreMessageTypes(){dy(mt,n=>{this.registerMessageType(n)}),dy(_n,n=>{this.registerMessageType(n)})}_negotiateCapabilityBatch(n){var t=this;return H(function*(){return yield Promise.all(n.filter(r=>r.length).map(function(){var r=H(function*(i){return yield t._negotiateCapabilities(i)});return function(i){return r.apply(this,arguments)}}()))})()}_negotiateCapabilities(n){var t=this;return H(function*(){const r=Kf(n,a=>({[a.name]:a})),o=(yield t.sendMessageAndCaptureReply(Jo,{subCommand:"REQ",capabilities:n.map(a=>a.name).join(" ")})).shift();if(!o)throw new Error("capability negotiation failed unexpectedly without any reply");if(!(o instanceof Jo))throw new Error(`capability negotiation failed unexpectedly with "${o.command}" command`);const s=o.capabilities.split(" ").filter(a=>a);if("ACK"===o.subCommand){t._logger.debug(`Successfully negotiated capabilities: ${s.join(", ")}`);const a=s.map(l=>r[l]);for(const l of a){const c=t._clientCapabilities.get(l.name);c.param=l.param,t._negotiatedCapabilities.set(c.name,c)}return a}return t._logger.warn(`Failed to negotiate capabilities: ${s.join(", ")}`),new Error("capabilities failed to negotiate")})()}_setupConnection(){var n=this;this._initialConnectionSetupDone||(this._connection.onConnect(H(function*(){var t,r;n._logger.info(`Connection to server ${n._options.connection.hostName}:${n.port} established`),n.emit(n.onConnect),n._logger.debug("Determining connection password");try{const[i]=yield Promise.all([Zv(n._options.credentials.password),n.sendMessageAndCaptureReply(Jo,{subCommand:"LS",version:"302"}).then(o=>{if(!(o.length&&o[0]instanceof Jo))return n._logger.debug("Server does not support capabilities"),[];n._supportsCapabilities=!0;const s=o.map(l=>Kf(l.capabilities.split(" "),c=>{if(!c)return{};const[u,d]=Ko(c,"=",2);return{[u]:{name:u,param:d||!0}}}));n._serverCapabilities=new Map(Object.entries(Object.assign({},...s))),n._logger.debug(`Capabilities supported by server: ${Array.from(n._serverCapabilities.keys()).join(", ")}`);const a=s.map(l=>{const c=Object.keys(l);return Array.from(n._clientCapabilities.entries()).filter(([u])=>c.includes(u)).map(([,u])=>u)});return n._negotiateCapabilityBatch(a)}).then(()=>{n.sendMessage(Jo,{subCommand:"END"})})]);i&&n.sendMessage(MA,{password:i}),n.sendMessage(eh,{nick:n._desiredNick}),n.sendMessage(NA,{user:null!==(t=n._userName)&&void 0!==t?t:n._desiredNick,mode:"8",unused:"*",realName:null!==(r=n._realName)&&void 0!==r?r:n._desiredNick})}catch(i){n.emit(n.onPasswordError,i),n.quit()}})),this._initialConnectionSetupDone=!0,this._connection.onReceive(t=>{this.receiveLine(t)}),this._connection.onDisconnect((t,r)=>{var i;if(this._registered=!1,this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingTimeoutTimer&&clearTimeout(this._pingTimeoutTimer),t)this._logger.info("Disconnected");else{const o=null===(i=this._options.connection.reconnect)||void 0===i||i,s=r?`Disconnected unexpectedly: ${r.message}`:"Disconnected unexpectedly";o?this._logger.warn(`${s}; trying to reconnect`):this._logger.error(s)}this.emit(this.onDisconnect,t,r)}),this._connection.onEnd(t=>{t||this._logger.warn("No further retries will be made")}))}_handleReceivedClientNick(n){this._currentNick!==n&&(""!==this._currentNick&&this._logger.warn(`Mismatching nicks: passed ${this._currentNick}, but you're actually ${n}`),this._currentNick=n)}_handleEvents(n){this._collectors.some(r=>r.collect(n));const t=this._events.get(n.constructor.COMMAND);if(t)for(const r of t.values())r(n)}_startPingCheckTimer(){this._pingCheckTimer&&clearTimeout(this._pingCheckTimer),this._pingCheckTimer=this._connection.isConnected?setTimeout(()=>this.pingCheck(),1e3*this._pingOnInactivity):void 0}}pn([io(!1)],LA.prototype,"_options",void 0),Error;let VA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},user:{trailing:!0,optional:!0}})}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get channelId(){return this._tags.get("room-id")}get targetUserId(){var t;return null!==(t=this._tags.get("target-user-id"))&&void 0!==t?t:null}}return e.COMMAND="CLEARCHAT",e})(),iY=(()=>{class e extends S{}return e.COMMAND="RECONNECT",e})(),BA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"}})}}return e.COMMAND="ROOMSTATE",e})();function oY(e){switch(typeof e){case"undefined":return"";case"object":{if(null===e)return"";if("cacheKey"in e)return e.cacheKey;const n=JSON.stringify(e);if("{}"!==n)return n}default:return e.toString()}}function jA(e,n,t){return[e,...n.map(oY)].join("/")+(t?"/":"")}function $A(e=1/0){return function(n,t,r){if(r.get){const i=r.get;r.get=function(){const o=jA(t,[]),s=this.getFromCache(o);if(s)return s;const a=i.call(this);return this.setCache(o,a,e),a}}return r}}var oh;let oo=oh=class{constructor(n,t){this._userName=n.toLowerCase(),this._userData=t?new Map(t):new Map}static _parseBadgesLike(n){return n?new Map(n.split(",").map(t=>{const r=t.indexOf("/");return-1===r?[t,""]:[t.slice(0,r),t.slice(r+1)]})):new Map}get userName(){return this._userName}get displayName(){var n;return null!==(n=this._userData.get("display-name"))&&void 0!==n?n:this._userName}get color(){return this._userData.get("color")}get badges(){const n=this._userData.get("badges");return oh._parseBadgesLike(n)}get badgeInfo(){const n=this._userData.get("badge-info");return oh._parseBadgesLike(n)}get userId(){return this._userData.get("user-id")}get userType(){return this._userData.get("user-type")}get isBroadcaster(){return this.badges.has("broadcaster")}get isSubscriber(){return this.badges.has("subscriber")||this.isFounder}get isFounder(){return this.badges.has("founder")}get isMod(){return this.badges.has("moderator")}get isVip(){const n=this._userData.get("vip");return null!=n&&"0"!==n}get isArtist(){return this.badges.has("artist-badge")}};function vy(e){return e?new Map(e.split("/").map(n=>{const[t,r]=n.split(":",2);return r?[t,r.split(",")]:null}).filter(n=>null!==n)):new Map}pn([io(!1)],oo.prototype,"_userData",void 0),pn([$A()],oo.prototype,"badges",null),pn([$A()],oo.prototype,"badgeInfo",null),oo=oh=pn([function sY(e){return class extends e{constructor(){super(...arguments),this.cache=new Map}getFromCache(n){if(this._cleanCache(),this.cache.has(n)){const t=this.cache.get(n);if(t)return t.value}}setCache(n,t,r){this.cache.set(n,{value:t,expires:Date.now()+1e3*r})}removeFromCache(n,t){const r=this._getInternalCacheKey(n,t);t?this.cache.forEach((i,o)=>{o.startsWith(r)&&this.cache.delete(o)}):this.cache.delete(r)}_cleanCache(){const n=Date.now();this.cache.forEach((t,r)=>{t.expires<n&&this.cache.delete(r)})}_getInternalCacheKey(n,t){if("string"==typeof n){let r=n;return r.endsWith("/")||(r+="/"),r}return jA(n.shift(),n,t)}}},Fc("chat","ChatUser","userId")],oo);let HA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},text:{trailing:!0,optional:!0}})}get id(){return this._tags.get("id")}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userInfo(){return new oo(this._tags.get("login"),this._tags)}get channelId(){var t;return null!==(t=this._tags.get("room-id"))&&void 0!==t?t:null}get emoteOffsets(){return vy(this._tags.get("emotes"))}}return e.COMMAND="USERNOTICE",e})(),aY=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"}})}}return e.COMMAND="USERSTATE",e})(),UA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{target:{},text:{trailing:!0}})}get userInfo(){return new oo(this._prefix.nick,this._tags)}get emoteOffsets(){return vy(this._tags.get("emotes"))}}return e.COMMAND="WHISPER",e})();const lY={name:"twitch.tv/commands",messageTypes:[VA,iY,BA,HA,aY,UA]},cY={name:"twitch.tv/membership"};let GA=(()=>{class e extends S{constructor(t,r,i){super(t,r,i,{channel:{type:"channel"},text:{trailing:!0}})}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userName(){return this._tags.get("login")}get channelId(){return this._tags.get("room-id")}get targetMessageId(){return this._tags.get("target-msg-id")}}return e.COMMAND="CLEARMSG",e})();const uY={name:"twitch.tv/tags",messageTypes:[(()=>{class e extends S{}return e.COMMAND="GLOBALUSERSTATE",e})(),GA]},dY=["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"];let zA=(()=>{let e=class extends ih{get id(){return this._tags.get("id")}get date(){const t=this._tags.get("tmi-sent-ts");return new Date(Number(t))}get userInfo(){return new oo(this._prefix.nick,this._tags)}get channelId(){var t;return null!==(t=this._tags.get("room-id"))&&void 0!==t?t:null}get isCheer(){return this._tags.has("bits")}get isRedemption(){return!!this._tags.get("custom-reward-id")}get rewardId(){return this._tags.get("custom-reward-id")||null}get isFirst(){return"1"===this._tags.get("first-msg")}get isReturningChatter(){return"1"===this._tags.get("returning-chatter")}get isHighlight(){return"highlighted-message"===this._tags.get("msg-id")}get isReply(){return this._tags.has("reply-parent-msg-id")}get parentMessageId(){var t;return null!==(t=this._tags.get("reply-parent-msg-id"))&&void 0!==t?t:null}get parentMessageText(){var t;return null!==(t=this._tags.get("reply-parent-msg-body"))&&void 0!==t?t:null}get parentMessageUserId(){var t;return null!==(t=this._tags.get("reply-parent-user-id"))&&void 0!==t?t:null}get parentMessageUserName(){var t;return null!==(t=this._tags.get("reply-parent-user-login"))&&void 0!==t?t:null}get parentMessageUserDisplayName(){var t;return null!==(t=this._tags.get("reply-parent-display-name"))&&void 0!==t?t:null}get threadMessageId(){var t;return null!==(t=this._tags.get("reply-thread-parent-msg-id"))&&void 0!==t?t:null}get threadMessageUserId(){var t;return null!==(t=this._tags.get("reply-thread-parent-user-id"))&&void 0!==t?t:null}get bits(){var t;return Number(null!==(t=this._tags.get("bits"))&&void 0!==t?t:0)}get emoteOffsets(){return vy(this._tags.get("emotes"))}get isHypeChat(){return this._tags.has("pinned-chat-paid-amount")}get hypeChatAmount(){return xc(this._tags.get("pinned-chat-paid-amount"),Number)}get hypeChatDecimalPlaces(){return xc(this._tags.get("pinned-chat-paid-exponent"),Number)}get hypeChatLocalizedAmount(){const t=this.hypeChatAmount;return t?t/10**this.hypeChatDecimalPlaces:null}get hypeChatCurrency(){var t;return null!==(t=this._tags.get("pinned-chat-paid-currency"))&&void 0!==t?t:null}get hypeChatLevel(){const t=this._tags.get("pinned-chat-paid-level");return t?dY.indexOf(t)+1:null}get hypeChatIsSystemMessage(){const t=this._tags.get("pinned-chat-paid-is-system-message");return t?!!Number(t):null}};return e=pn([Fc("chat","ChatMessage","id")],e),e})();function WA(e,n){if(e.length<=n)return[e];e=e.trim();const t=[];let r=0,i=n;for(;r<e.length;){let o=e.lastIndexOf(" ",i);(-1===o||o<=r||e.length-r+1<=n)&&(o=r+n);const s=e.slice(r,o).trim();s.length&&t.push(s),r=o+(" "===e[o]?1:0),i=r+n}return t}const pY=/^[a-z0-9][a-z0-9_]{0,24}$/;function Gt(e){const n=e.replace(/^#/,"").toLowerCase();if(!pY.test(n))throw new Error(`"${n}" is not a valid user or channel name. It must be at most 25 characters long, can only include letters, numbers and underscores, and can not start with an underscore.`);return n}function ah(e){return`#${Gt(e)}`}var yy;let lh=yy=class extends Pc{constructor(n={}){var t,r,i,o,s,a,u;if(n.authProvider&&!n.authProvider.getAccessTokenForIntent)throw new qf("You can not connect to chat using an AuthProvider that does not support intents.\nTo get an anonymous, read-only connection, please don't pass an `AuthProvider` at all.\nTo get a read-write connection, please provide an auth provider that provides user access tokens via intents, such as `RefreshingAuthProvider`.");super(),t=this,this._authVerified=!1,this._authRetryCount=0,this.onConnect=this.registerEvent(),this.onDisconnect=this.registerEvent(),this.onTimeout=this.registerEvent(),this.onBan=this.registerEvent(),this.onBitsBadgeUpgrade=this.registerEvent(),this.onChatClear=this.registerEvent(),this.onEmoteOnly=this.registerEvent(),this.onFollowersOnly=this.registerEvent(),this.onJoin=this.registerEvent(),this.onJoinFailure=this.registerEvent(),this.onPart=this.registerEvent(),this.onMessageRemove=this.registerEvent(),this.onUniqueChat=this.registerEvent(),this.onRaid=this.registerEvent(),this.onRaidCancel=this.registerEvent(),this.onRitual=this.registerEvent(),this.onSlow=this.registerEvent(),this.onSubsOnly=this.registerEvent(),this.onSub=this.registerEvent(),this.onResub=this.registerEvent(),this.onSubGift=this.registerEvent(),this.onCommunitySub=this.registerEvent(),this.onSubExtend=this.registerEvent(),this.onRewardGift=this.registerEvent(),this.onPrimePaidUpgrade=this.registerEvent(),this.onGiftPaidUpgrade=this.registerEvent(),this.onPrimeCommunityGift=this.registerEvent(),this.onStandardPayForward=this.registerEvent(),this.onCommunityPayForward=this.registerEvent(),this.onAnnouncement=this.registerEvent(),this.onWhisper=this.registerEvent(),this.onNoPermission=this.registerEvent(),this.onMessageRatelimit=this.registerEvent(),this.onAuthenticationSuccess=this.registerEvent(),this.onAuthenticationFailure=this.registerEvent(),this.onTokenFetchFailure=this.registerEvent(),this.onMessageFailed=this.registerEvent(),this.onMessage=this.registerEvent(),this.onAction=this.registerEvent(),this._onJoinResult=this.registerInternalEvent(),this._ircClient=new LA({connection:{hostName:null!==(r=n.hostName)&&void 0!==r?r:null===(i=n.webSocket)||void 0===i||i?"irc-ws.chat.twitch.tv":"irc.chat.twitch.tv",secure:null===(o=n.ssl)||void 0===o||o},credentials:{nick:"",password:(u=H(function*(){return yield t._getAuthToken()}),function(){return u.apply(this,arguments)})},webSocket:null===(s=n.webSocket)||void 0===s||s,connectionOptions:n.connectionOptions,logger:{name:"twurple:chat:irc",...n.logger},nonConformingCommands:["004"],manuallyAcknowledgeJoins:!0,rejoinChannelsOnReconnect:n.rejoinChannelsOnReconnect}),this._ircClient.onDisconnect((u,d)=>{this._messageRateLimiter.clear(),this._messageRateLimiter.pause(),this._joinRateLimiter.clear(),this._joinRateLimiter.pause(),this.emit(this.onDisconnect,u,d)}),this._ircClient.registerMessageType(zA),this._chatLogger=Wf({name:"twurple:chat:twitch",...n.logger}),this._authProvider=n.authProvider,this._useLegacyScopes=!!n.legacyScopes,this._readOnly=!!n.readOnly,this._authIntents=[...null!==(a=n.authIntents)&&void 0!==a?a:[],"chat"];const l=function(){var u=H(function*({type:d,text:f,channel:h,tags:p}){"say"===d?t._ircClient.say(h,f,p):t._ircClient.action(h,f)});return function(f){return u.apply(this,arguments)}}(),c=function(){var u=H(function*(d){const{promise:f,resolve:h,reject:p}=Qv();let g;const m=t.addInternalListener(t._onJoinResult,(v,_,T)=>{v===d&&(clearTimeout(g),T?p(T):h(),t.removeListener(m))});g=setTimeout(()=>{t.removeListener(m),t.emit(t._onJoinResult,d,void 0,"twurple_timeout"),p(new Error(`Did not receive a reply to join ${d} in time; assuming that the join failed`))},1e4),t._ircClient.join(d),yield f});return function(f){return u.apply(this,arguments)}}();if(n.isAlwaysMod)this._messageRateLimiter=new Yv({bucketSize:"verified"===n.botLevel?7500:100,timeFrame:32e3,doRequest:l});else{let u=20;"verified"===n.botLevel?u=7500:"known"===n.botLevel&&(u=50),this._messageRateLimiter=new Hq(new Uq({bucketSize:1,timeFrame:1200,logger:{minLevel:Z.ERROR},doRequest:l,getPartitionKey:({channel:d})=>d}),{bucketSize:u,timeFrame:32e3})}this._joinRateLimiter=new Yv({bucketSize:"verified"===n.botLevel?2e3:20,timeFrame:11e3,doRequest:c}),this._messageRateLimiter.pause(),this._joinRateLimiter.pause(),this._ircClient.addCapability(uY),this._ircClient.addCapability(lY),n.requestMembershipEvents&&this._ircClient.addCapability(cY),this._ircClient.onConnect(()=>{this.emit(this.onConnect)}),this._ircClient.onRegister(H(function*(){t._messageRateLimiter.resume(),t._joinRateLimiter.resume(),t._authVerified=!0,t._authRetryTimer=void 0,t._authRetryCount=0,t.emit(t.onAuthenticationSuccess);const u=yield Zv(n.channels);u&&(yield Promise.all(u.map(function(){var d=H(function*(f){var h;try{yield t.join(f)}catch(p){t._chatLogger.warn(`Failed to join configured channel ${f}; original message: ${null!==(h=p?.message)&&void 0!==h?h:p}`)}});return function(f){return d.apply(this,arguments)}}())))})),this._ircClient.onPasswordError(u=>{this._chatLogger.error(`Error fetching a token for connecting to the server: ${u.message}`),this.emit(this.onTokenFetchFailure,u)}),this._ircClient.onPrivmsg((u,d,f,h)=>{"jtv"!==d&&this.emit(this.onMessage,Gt(u),d,f,h)}),this._ircClient.onAction((u,d,f,h)=>{this.emit(this.onAction,Gt(u),d,f,h)}),this.addInternalListener(this._onJoinResult,(u,d,f)=>{f?this.emit(this.onJoinFailure,Gt(u),f):this._ircClient.acknowledgeJoin(u)}),this._ircClient.onTypedMessage(VA,u=>{const{channel:d,user:f,tags:h}=u,p=Gt(d);if(f){const g=h.get("ban-duration");void 0===g?this.emit(this.onBan,p,f,u):this.emit(this.onTimeout,p,f,Number(g),u)}else this.emit(this.onChatClear,p,u)}),this._ircClient.onTypedMessage(GA,u=>{const{channel:d,targetMessageId:f}=u;this.emit(this.onMessageRemove,Gt(d),f,u)}),this._ircClient.onTypedMessage(th,({prefix:u,channel:d})=>{this.emit(this.onJoin,Gt(d),u.nick)}),this._ircClient.onTypedMessage(nh,({prefix:u,channel:d})=>{this.emit(this.onPart,Gt(d),u.nick)}),this._ircClient.onTypedMessage(BA,({channel:u,tags:d})=>{let f=!1;if(d.has("subs-only")&&d.has("slow")&&(this.emit(this._onJoinResult,u,d),f=!0),!f){const h=Gt(u);if(d.has("slow")){const p=Number(d.get("slow"));p?this.emit(this.onSlow,h,!0,p):this.emit(this.onSlow,h,!1)}if(d.has("followers-only")){const p=Number(d.get("followers-only"));-1===p?this.emit(this.onFollowersOnly,h,!1):this.emit(this.onFollowersOnly,h,!0,p)}}}),this._ircClient.onTypedMessage(HA,u=>{const{channel:d,text:f,tags:h}=u,p=h.get("msg-id"),g=Gt(d);switch(p){case"sub":case"resub":{const m="sub"===p?this.onSub:this.onResub,v=h.get("msg-param-sub-plan"),_=h.get("msg-param-streak-months"),T={userId:h.get("user-id"),displayName:h.get("display-name"),plan:v,planName:h.get("msg-param-sub-plan-name"),isPrime:"Prime"===v,months:Number(h.get("msg-param-cumulative-months")),streak:_?Number(_):void 0,message:f};if("true"===h.get("msg-param-was-gifted")){const A="true"===h.get("msg-param-anon-gift"),$=Number(h.get("msg-param-gift-months")),le=Number(h.get("msg-param-gift-month-being-redeemed"));T.originalGiftInfo=A?{anonymous:!0,duration:$,redeemedMonth:le}:{anonymous:!1,duration:$,redeemedMonth:le,userId:h.get("msg-param-gifter-id"),userName:h.get("msg-param-gifter-login"),userDisplayName:h.get("msg-param-gifter-name")}}this.emit(m,g,h.get("login"),T,u);break}case"subgift":{const m=h.get("msg-param-sub-plan"),v=h.get("login"),_="ananonymousgifter"===v,T={userId:h.get("msg-param-recipient-id"),displayName:h.get("msg-param-recipient-display-name"),gifter:_?void 0:v,gifterUserId:_?void 0:h.get("user-id"),gifterDisplayName:_?void 0:h.get("display-name"),gifterGiftCount:_?void 0:Number(h.get("msg-param-sender-count")),giftDuration:Number(h.get("msg-param-gift-months")),plan:m,planName:h.get("msg-param-sub-plan-name"),isPrime:"Prime"===m,months:Number(h.get("msg-param-months"))};this.emit(this.onSubGift,g,h.get("msg-param-recipient-user-name"),T,u);break}case"submysterygift":{const m=h.get("login"),v="ananonymousgifter"===m,_={gifter:v?void 0:m,gifterUserId:v?void 0:h.get("user-id"),gifterDisplayName:v?void 0:h.get("display-name"),gifterGiftCount:v?void 0:Number(h.get("msg-param-sender-count")),count:Number(h.get("msg-param-mass-gift-count")),plan:h.get("msg-param-sub-plan")};this.emit(this.onCommunitySub,g,h.get("login"),_,u);break}case"primepaidupgrade":{const m={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan")};this.emit(this.onPrimePaidUpgrade,g,h.get("login"),m,u);break}case"giftpaidupgrade":{const m={userId:h.get("user-id"),displayName:h.get("display-name"),gifter:h.get("msg-param-sender-login"),gifterDisplayName:h.get("msg-param-sender-name")};this.emit(this.onGiftPaidUpgrade,g,h.get("login"),m,u);break}case"standardpayforward":{const m="true"===h.get("msg-param-prior-gifter-anonymous"),v={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:m?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:m?void 0:h.get("msg-param-prior-gifter-display-name"),recipientUserId:h.get("msg-param-recipient-id"),recipientDisplayName:h.get("msg-param-recipient-display-name")};this.emit(this.onStandardPayForward,g,h.get("login"),v,u);break}case"communitypayforward":{const m="true"===h.get("msg-param-prior-gifter-anonymous"),v={userId:h.get("user-id"),displayName:h.get("display-name"),originalGifterUserId:m?void 0:h.get("msg-param-prior-gifter-id"),originalGifterDisplayName:m?void 0:h.get("msg-param-prior-gifter-display-name")};this.emit(this.onCommunityPayForward,g,h.get("login"),v,u);break}case"primecommunitygiftreceived":{const m={name:h.get("msg-param-gift-name"),gifter:h.get("login"),gifterDisplayName:h.get("display-name")};this.emit(this.onPrimeCommunityGift,g,h.get("msg-param-recipient"),m,u);break}case"raid":{const m={displayName:h.get("msg-param-displayName"),viewerCount:Number(h.get("msg-param-viewerCount"))};this.emit(this.onRaid,g,h.get("login"),m,u);break}case"unraid":this.emit(this.onRaidCancel,g,u);break;case"ritual":{const m={ritualName:h.get("msg-param-ritual-name"),message:f};this.emit(this.onRitual,g,h.get("login"),m,u);break}case"bitsbadgetier":{const m={displayName:h.get("display-name"),threshold:Number(h.get("msg-param-threshold"))};this.emit(this.onBitsBadgeUpgrade,g,h.get("login"),m,u);break}case"extendsub":{const m={userId:h.get("user-id"),displayName:h.get("display-name"),plan:h.get("msg-param-sub-plan"),months:Number(h.get("msg-param-cumulative-months")),endMonth:Number(h.get("msg-param-sub-benefit-end-month"))};this.emit(this.onSubExtend,g,h.get("login"),m,u);break}case"rewardgift":{const m={domain:h.get("msg-param-domain"),gifterId:h.get("user-id"),gifterDisplayName:h.get("display-name"),count:Number(h.get("msg-param-selected-count")),gifterGiftCount:Number(h.get("msg-param-total-reward-count")),triggerType:h.get("msg-param-trigger-type")};this.emit(this.onRewardGift,g,h.get("login"),m,u);break}case"announcement":{const m={color:h.get("msg-param-color")};this.emit(this.onAnnouncement,g,h.get("login"),m,u);break}default:this._chatLogger.warn(`Unrecognized usernotice ID: ${p}`)}}),this._ircClient.onTypedMessage(UA,u=>{this.emit(this.onWhisper,u.prefix.nick,u.text,u)}),this._ircClient.onTypedMessage(py,function(){var u=H(function*({target:d,text:f,tags:h}){const p=h.get("msg-id");switch(p){case"emote_only_on":t.emit(t.onEmoteOnly,Gt(d),!0);break;case"emote_only_off":t.emit(t.onEmoteOnly,Gt(d),!1);break;case"msg_channel_suspended":case"msg_banned":t.emit(t._onJoinResult,d,void 0,p);break;case"r9k_on":t.emit(t.onUniqueChat,Gt(d),!0);break;case"r9k_off":t.emit(t.onUniqueChat,Gt(d),!1);break;case"subs_on":t.emit(t.onSubsOnly,Gt(d),!0);break;case"subs_off":t.emit(t.onSubsOnly,Gt(d),!1);break;case"cmds_available":case"followers_on":case"followers_on_zero":case"followers_off":case"slow_on":case"slow_off":case"timeout_success":case"unrecognized_cmd":break;case"no_permission":t.emit(t.onNoPermission,Gt(d),f);break;case"msg_ratelimit":t.emit(t.onMessageRatelimit,Gt(d),f);break;case"msg_duplicate":case"msg_emoteonly":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_subsonly":case"msg_slowmode":case"msg_r9k":case"msg_verified_email":case"msg_timedout":case"msg_rejected_mandatory":case"msg_channel_blocked":t.emit(t.onMessageFailed,Gt(d),p);break;case void 0:if("Login authentication failed"===f||"Improperly formatted AUTH"===f||"Invalid NICK"===f){t._authVerified=!1,t._authRetryTimer||(t._authRetryTimer=_A(120),t._authRetryCount=0);const g=t._authRetryTimer.next().value,m=++t._authRetryCount;t.emit(t.onAuthenticationFailure,f,m),0!==g&&t._chatLogger.info(`Retrying authentication in ${g} seconds`),yield function zq(e){return wi(this,void 0,Promise,function(){return Ei(this,function(n){switch(n.label){case 0:return[4,new Promise(function(t){return setTimeout(t,e)})];case 1:return n.sent(),[2]}})})}(1e3*g),t._ircClient.reconnect()}break;default:p.startsWith("usage_")||t._chatLogger.warn(`Unrecognized notice ID: '${p}'`)}});return function(d){return u.apply(this,arguments)}}())}connect(){this._authProvider||this._ircClient.changeNick(yy._generateJustinfanNick()),this._ircClient.connect()}get irc(){return this._ircClient}get isConnected(){return this._ircClient.isConnected}get isConnecting(){return this._ircClient.isConnecting}get currentChannels(){return this._ircClient.currentChannels}say(n,t,r={},i){var o=this;return H(function*(){const s={};r.replyTo&&(s["reply-parent-msg-id"]=function fY(e){return e instanceof zA?e.tags.get("id"):e}(r.replyTo));const a=WA(t,500);yield Promise.all(a.map(function(){var l=H(function*(c){return yield o._messageRateLimiter.request({type:"say",channel:ah(n),text:c,tags:s},i)});return function(c){return l.apply(this,arguments)}}()))})()}action(n,t,r){var i=this;return H(function*(){const o=WA(t,490);yield Promise.all(o.map(function(){var s=H(function*(a){return yield i._messageRateLimiter.request({type:"action",channel:ah(n),text:a},r)});return function(a){return s.apply(this,arguments)}}()))})()}join(n){var t=this;return H(function*(){yield t._joinRateLimiter.request(ah(n))})()}part(n){this._ircClient.part(ah(n))}quit(){this._ircClient.quitAbruptly()}reconnect(){this.quit(),this.connect()}_getAuthToken(){var n=this;return H(function*(){var t,r;if(!n._authProvider)return void n._chatLogger.debug("No authProvider given; connecting anonymously");if(n._authToken&&!Yf(n._authToken)&&n._authVerified)return n._chatLogger.debug("AccessToken assumed to be correct from last connection"),`oauth:${n._authToken.accessToken}`;const i=n._getNecessaryScopes();let o,s=!1;for(const a of n._authIntents){try{if(n._authToken=yield n._authProvider.getAccessTokenForIntent(a,i),!n._authToken)continue;s=!0;const l=yield Ii(n._authToken.accessToken);if(!l.userName)throw new qf("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return n._ircClient.changeNick(l.userName),`oauth:${n._authToken.accessToken}`}catch(l){l instanceof Ra?o=l:n._chatLogger.error(`Retrieving an access token failed: ${l.message}`)}n._chatLogger.warn("No valid token available; trying to refresh");try{if(n._authToken=yield null===(r=(t=n._authProvider).refreshAccessTokenForIntent)||void 0===r?void 0:r.call(t,a),n._authToken){const l=yield Ii(n._authToken.accessToken);if(!l.userName)throw new qf("Could not determine a user name for your token; you might be trying to disguise an app token as a user token.");return n._ircClient.changeNick(l.userName),`oauth:${n._authToken.accessToken}`}}catch(l){l instanceof Ra?o=l:n._chatLogger.error(`Refreshing the access token failed: ${l.message}`)}}throw n._authVerified=!1,o??new Error(s?"Could not retrieve a valid token":`None of the queried intents (${n._authIntents.join(", ")}) are known by the auth provider${n._authProvider instanceof h9?".\nPlease add one of these to the user you want to connect with using the `addIntentToUser` method or the additional parameter to `addUser` or `addUserForToken`.":""}`)})()}_getNecessaryScopes(){return this._useLegacyScopes?["chat_login"]:this._readOnly?["chat:read"]:["chat:read","chat:edit"]}static _generateJustinfanNick(){return`justinfan${Math.floor(1e5*Math.random()).toString().padStart(5,"0")}`}};function qA(e){return ko([],Si(e),!1).length}function by(e,n,t){return ko([],Si(e),!1).slice(n,t).join("")}pn([io(!1)],lh.prototype,"_authProvider",void 0),lh=yy=pn([Fc("chat","ChatClient")],lh);let bY=(()=>{class e{constructor(){this.messagesSubject$=new lt,this.messages$=this.messagesSubject$.pipe(Fo(t=>{throw t}))}connect(t){this.chatClient=new lh({channels:t}),this.chatClient.connect(),this.chatClient.onMessage(this.processMessage.bind(this)),this.chatClient.onAction(this.processActionMessage.bind(this))}processActionMessage(t,r,i,o){this.processMessage(t,r,i,o,!0)}processMessage(t,r,i,o,s=!1){const a=function vY(e,n,t){if(!e)return[];const r=function gY(e,n){return[...n.entries()].flatMap(([t,r])=>r.map(i=>{const[o,s]=i.split("-"),a=+o,l=+s,c=by(e,a,l+1);return{type:"emote",position:a,length:l-a+1,id:t,name:c}})).sort((t,r)=>t.position-r.position)}(e,n);return t&&(r.push(...function mY(e,n){const t=[],r=new RegExp("(?<=^|\\s)([a-z]+(?:\\d+[a-z]+)*)(\\d+)(?=\\s|$)","gi");let i=null;for(;i=r.exec(e);){const o=i[1].toLowerCase();if(n.includes(o)){const s=Number(i[2]);t.push({type:"cheer",name:o,amount:s,position:qA(e.slice(0,i.index)),length:i[0].length})}}return t}(e,t)),r.sort((i,o)=>i.position-o.position)),function _Y(e,n){const t=qA(e);if(!n.length)return[{type:"text",position:0,length:t,text:e}];const r=[];let i=0;for(const o of n)o.position>i&&r.push({type:"text",position:i,length:o.position-i,text:by(e,i,o.position)}),r.push(o),i=o.position+o.length;return i<t&&r.push({type:"text",position:i,length:t-i,text:by(e,i)}),r}(e,r)}(i,o.emoteOffsets).map(c=>{switch(c.type){case"text":return c.text;case"emote":return`<img src="${function yY(e,n={}){const{animationSettings:t="default",backgroundType:r="dark",size:i="1.0"}=n;return`https://static-cdn.jtvnw.net/emoticons/v2/${e}/${t}/${r}/${i}`}(c.id,{size:"1.0"})}" />`}return""}),l={msgId:o.id,username:o.userInfo.displayName,channel:t,message:i,renderedMessage:a.join(""),timestamp:Date.now(),color:o.userInfo.color,isAction:s};this.messagesSubject$.next(l)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DY=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Xe({type:e,bootstrap:[u4]});static#n=this.\u0275inj=qe({providers:[{provide:IM,useClass:bY}],imports:[BU,c4,Oq]})}return e})();LU().bootstrapModule(DY).catch(e=>console.error(e))},972:(gt,yt)=>{"use strict";var me=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();gt.exports=yt=me.fetch,me.fetch&&(yt.default=me.fetch.bind(me)),yt.Headers=me.Headers,yt.Request=me.Request,yt.Response=me.Response},116:()=>{"use strict";const gt=":";Error;const $c=function(D,...C){if($c.translate){const k=$c.translate(D,C);D=k[0],C=k[1]}let N=mh(D[0],D.raw[0]);for(let k=1;k<D.length;k++)N+=C[k-1]+mh(D[k],D.raw[k]);return N},My=":";function mh(D,C){return C.charAt(0)===My?D.substring(function Nr(D,C){for(let N=1,k=1;N<D.length;N++,k++)if("\\"===C[k])k++;else if(D[N]===gt)return N;throw new Error(`Unterminated $localize metadata block in "${C}".`)}(D,C)+1):D}globalThis.$localize=$c}},gt=>{var yt=me=>gt(gt.s=me);yt(116),yt(296)}]);